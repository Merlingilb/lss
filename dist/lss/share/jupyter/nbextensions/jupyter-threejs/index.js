define(["three","@jupyter-widgets/base"],function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__2__){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=31)}([function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(e,t,r){(function(e,r){var o;!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},i=n._,s=Array.prototype,a=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,c=s.push,p=s.slice,h=a.toString,u=a.hasOwnProperty,d=Array.isArray,f=Object.keys,y=Object.create,v=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};void 0===t||t.nodeType?n._=m:(void 0!==r&&!r.nodeType&&r.exports&&(t=r.exports=m),t._=m),m.VERSION="1.9.0";var g,_=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,o,n){return e.call(t,r,o,n)};case 4:return function(r,o,n,i){return e.call(t,r,o,n,i)}}return function(){return e.apply(t,arguments)}},T=function(e,t,r){return m.iteratee!==g?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?_(e,t,r):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=g=function(e,t){return T(e,t,1/0)};var b=function(e,t){return t=null==t?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),o=Array(r),n=0;n<r;n++)o[n]=arguments[n+t];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,arguments[0],o);case 2:return e.call(this,arguments[0],arguments[1],o)}var i=Array(t+1);for(n=0;n<t;n++)i[n]=arguments[n];return i[t]=o,e.apply(this,i)}},x=function(e){if(!m.isObject(e))return{};if(y)return y(e);v.prototype=e;var t=new v;return v.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},w=function(e,t){for(var r=t.length,o=0;o<r;o++){if(null==e)return;e=e[t[o]]}return r?e:void 0},P=Math.pow(2,53)-1,A=M("length"),j=function(e){var t=A(e);return"number"==typeof t&&t>=0&&t<=P};m.each=m.forEach=function(e,t,r){var o,n;if(t=_(t,r),j(e))for(o=0,n=e.length;o<n;o++)t(e[o],o,e);else{var i=m.keys(e);for(o=0,n=i.length;o<n;o++)t(e[i[o]],i[o],e)}return e},m.map=m.collect=function(e,t,r){t=T(t,r);for(var o=!j(e)&&m.keys(e),n=(o||e).length,i=Array(n),s=0;s<n;s++){var a=o?o[s]:s;i[s]=t(e[a],a,e)}return i};var C=function(e){return function(t,r,o,n){var i=arguments.length>=3;return function(t,r,o,n){var i=!j(t)&&m.keys(t),s=(i||t).length,a=e>0?0:s-1;for(n||(o=t[i?i[a]:a],a+=e);a>=0&&a<s;a+=e){var l=i?i[a]:a;o=r(o,t[l],l,t)}return o}(t,_(r,n,4),o,i)}};m.reduce=m.foldl=m.inject=C(1),m.reduceRight=m.foldr=C(-1),m.find=m.detect=function(e,t,r){var o=(j(e)?m.findIndex:m.findKey)(e,t,r);if(void 0!==o&&-1!==o)return e[o]},m.filter=m.select=function(e,t,r){var o=[];return t=T(t,r),m.each(e,function(e,r,n){t(e,r,n)&&o.push(e)}),o},m.reject=function(e,t,r){return m.filter(e,m.negate(T(t)),r)},m.every=m.all=function(e,t,r){t=T(t,r);for(var o=!j(e)&&m.keys(e),n=(o||e).length,i=0;i<n;i++){var s=o?o[i]:i;if(!t(e[s],s,e))return!1}return!0},m.some=m.any=function(e,t,r){t=T(t,r);for(var o=!j(e)&&m.keys(e),n=(o||e).length,i=0;i<n;i++){var s=o?o[i]:i;if(t(e[s],s,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,r,o){return j(e)||(e=m.values(e)),("number"!=typeof r||o)&&(r=0),m.indexOf(e,t,r)>=0},m.invoke=b(function(e,t,r){var o,n;return m.isFunction(t)?n=t:m.isArray(t)&&(o=t.slice(0,-1),t=t[t.length-1]),m.map(e,function(e){var i=n;if(!i){if(o&&o.length&&(e=w(e,o)),null==e)return;i=e[t]}return null==i?i:i.apply(e,r)})}),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,r){var o,n,i=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=j(e)?e:m.values(e)).length;a<l;a++)null!=(o=e[a])&&o>i&&(i=o);else t=T(t,r),m.each(e,function(e,r,o){((n=t(e,r,o))>s||n===-1/0&&i===-1/0)&&(i=e,s=n)});return i},m.min=function(e,t,r){var o,n,i=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=j(e)?e:m.values(e)).length;a<l;a++)null!=(o=e[a])&&o<i&&(i=o);else t=T(t,r),m.each(e,function(e,r,o){((n=t(e,r,o))<s||n===1/0&&i===1/0)&&(i=e,s=n)});return i},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,r){if(null==t||r)return j(e)||(e=m.values(e)),e[m.random(e.length-1)];var o=j(e)?m.clone(e):m.values(e),n=A(o);t=Math.max(Math.min(t,n),0);for(var i=n-1,s=0;s<t;s++){var a=m.random(s,i),l=o[s];o[s]=o[a],o[a]=l}return o.slice(0,t)},m.sortBy=function(e,t,r){var o=0;return t=T(t,r),m.pluck(m.map(e,function(e,r,n){return{value:e,index:o++,criteria:t(e,r,n)}}).sort(function(e,t){var r=e.criteria,o=t.criteria;if(r!==o){if(r>o||void 0===r)return 1;if(r<o||void 0===o)return-1}return e.index-t.index}),"value")};var S=function(e,t){return function(r,o,n){var i=t?[[],[]]:{};return o=T(o,n),m.each(r,function(t,n){var s=o(t,n,r);e(i,t,s)}),i}};m.groupBy=S(function(e,t,r){m.has(e,r)?e[r].push(t):e[r]=[t]}),m.indexBy=S(function(e,t,r){e[r]=t}),m.countBy=S(function(e,t,r){m.has(e,r)?e[r]++:e[r]=1});var F=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?p.call(e):m.isString(e)?e.match(F):j(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:j(e)?e.length:m.keys(e).length},m.partition=S(function(e,t,r){e[r?0:1].push(t)},!0),m.first=m.head=m.take=function(e,t,r){if(!(null==e||e.length<1))return null==t||r?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,r){return p.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},m.last=function(e,t,r){if(!(null==e||e.length<1))return null==t||r?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,r){return p.call(e,null==t||r?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var E=function(e,t,r,o){for(var n=(o=o||[]).length,i=0,s=A(e);i<s;i++){var a=e[i];if(j(a)&&(m.isArray(a)||m.isArguments(a)))if(t)for(var l=0,c=a.length;l<c;)o[n++]=a[l++];else E(a,t,r,o),n=o.length;else r||(o[n++]=a)}return o};m.flatten=function(e,t){return E(e,t,!1)},m.without=b(function(e,t){return m.difference(e,t)}),m.uniq=m.unique=function(e,t,r,o){m.isBoolean(t)||(o=r,r=t,t=!1),null!=r&&(r=T(r,o));for(var n=[],i=[],s=0,a=A(e);s<a;s++){var l=e[s],c=r?r(l,s,e):l;t&&!r?(s&&i===c||n.push(l),i=c):r?m.contains(i,c)||(i.push(c),n.push(l)):m.contains(n,l)||n.push(l)}return n},m.union=b(function(e){return m.uniq(E(e,!0,!0))}),m.intersection=function(e){for(var t=[],r=arguments.length,o=0,n=A(e);o<n;o++){var i=e[o];if(!m.contains(t,i)){var s;for(s=1;s<r&&m.contains(arguments[s],i);s++);s===r&&t.push(i)}}return t},m.difference=b(function(e,t){return t=E(t,!0,!0),m.filter(e,function(e){return!m.contains(t,e)})}),m.unzip=function(e){for(var t=e&&m.max(e,A).length||0,r=Array(t),o=0;o<t;o++)r[o]=m.pluck(e,o);return r},m.zip=b(m.unzip),m.object=function(e,t){for(var r={},o=0,n=A(e);o<n;o++)t?r[e[o]]=t[o]:r[e[o][0]]=e[o][1];return r};var z=function(e){return function(t,r,o){r=T(r,o);for(var n=A(t),i=e>0?0:n-1;i>=0&&i<n;i+=e)if(r(t[i],i,t))return i;return-1}};m.findIndex=z(1),m.findLastIndex=z(-1),m.sortedIndex=function(e,t,r,o){for(var n=(r=T(r,o,1))(t),i=0,s=A(e);i<s;){var a=Math.floor((i+s)/2);r(e[a])<n?i=a+1:s=a}return i};var O=function(e,t,r){return function(o,n,i){var s=0,a=A(o);if("number"==typeof i)e>0?s=i>=0?i:Math.max(i+a,s):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return o[i=r(o,n)]===n?i:-1;if(n!=n)return(i=t(p.call(o,s,a),m.isNaN))>=0?i+s:-1;for(i=e>0?s:a-1;i>=0&&i<a;i+=e)if(o[i]===n)return i;return-1}};m.indexOf=O(1,m.findIndex,m.sortedIndex),m.lastIndexOf=O(-1,m.findLastIndex),m.range=function(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var o=Math.max(Math.ceil((t-e)/r),0),n=Array(o),i=0;i<o;i++,e+=r)n[i]=e;return n},m.chunk=function(e,t){if(null==t||t<1)return[];for(var r=[],o=0,n=e.length;o<n;)r.push(p.call(e,o,o+=t));return r};var k=function(e,t,r,o,n){if(!(o instanceof t))return e.apply(r,n);var i=x(e.prototype),s=e.apply(i,n);return m.isObject(s)?s:i};m.bind=b(function(e,t,r){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var o=b(function(n){return k(e,o,t,this,r.concat(n))});return o}),m.partial=b(function(e,t){var r=m.partial.placeholder,o=function(){for(var n=0,i=t.length,s=Array(i),a=0;a<i;a++)s[a]=t[a]===r?arguments[n++]:t[a];for(;n<arguments.length;)s.push(arguments[n++]);return k(e,o,this,this,s)};return o}),m.partial.placeholder=m,m.bindAll=b(function(e,t){var r=(t=E(t,!1,!1)).length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var o=t[r];e[o]=m.bind(e[o],e)}}),m.memoize=function(e,t){var r=function(o){var n=r.cache,i=""+(t?t.apply(this,arguments):o);return m.has(n,i)||(n[i]=e.apply(this,arguments)),n[i]};return r.cache={},r},m.delay=b(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,r){var o,n,i,s,a=0;r||(r={});var l=function(){a=!1===r.leading?0:m.now(),o=null,s=e.apply(n,i),o||(n=i=null)},c=function(){var c=m.now();a||!1!==r.leading||(a=c);var p=t-(c-a);return n=this,i=arguments,p<=0||p>t?(o&&(clearTimeout(o),o=null),a=c,s=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(l,p)),s};return c.cancel=function(){clearTimeout(o),a=0,o=n=i=null},c},m.debounce=function(e,t,r){var o,n,i=function(t,r){o=null,r&&(n=e.apply(t,r))},s=b(function(s){if(o&&clearTimeout(o),r){var a=!o;o=setTimeout(i,t),a&&(n=e.apply(this,s))}else o=m.delay(i,t,this,s);return n});return s.cancel=function(){clearTimeout(o),o=null},s},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,o=e[t].apply(this,arguments);r--;)o=e[r].call(this,o);return o}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},m.once=m.partial(m.before,2),m.restArguments=b;var L=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(e,t){var r=B.length,o=e.constructor,n=m.isFunction(o)&&o.prototype||a,i="constructor";for(m.has(e,i)&&!m.contains(t,i)&&t.push(i);r--;)(i=B[r])in e&&e[i]!==n[i]&&!m.contains(t,i)&&t.push(i)};m.keys=function(e){if(!m.isObject(e))return[];if(f)return f(e);var t=[];for(var r in e)m.has(e,r)&&t.push(r);return L&&R(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var r in e)t.push(r);return L&&R(e,t),t},m.values=function(e){for(var t=m.keys(e),r=t.length,o=Array(r),n=0;n<r;n++)o[n]=e[t[n]];return o},m.mapObject=function(e,t,r){t=T(t,r);for(var o=m.keys(e),n=o.length,i={},s=0;s<n;s++){var a=o[s];i[a]=t(e[a],a,e)}return i},m.pairs=function(e){for(var t=m.keys(e),r=t.length,o=Array(r),n=0;n<r;n++)o[n]=[t[n],e[t[n]]];return o},m.invert=function(e){for(var t={},r=m.keys(e),o=0,n=r.length;o<n;o++)t[e[r[o]]]=r[o];return t},m.functions=m.methods=function(e){var t=[];for(var r in e)m.isFunction(e[r])&&t.push(r);return t.sort()};var D=function(e,t){return function(r){var o=arguments.length;if(t&&(r=Object(r)),o<2||null==r)return r;for(var n=1;n<o;n++)for(var i=arguments[n],s=e(i),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==r[c]||(r[c]=i[c])}return r}};m.extend=D(m.allKeys),m.extendOwn=m.assign=D(m.keys),m.findKey=function(e,t,r){t=T(t,r);for(var o,n=m.keys(e),i=0,s=n.length;i<s;i++)if(t(e[o=n[i]],o,e))return o};var N,V,I=function(e,t,r){return t in r};m.pick=b(function(e,t){var r={},o=t[0];if(null==e)return r;m.isFunction(o)?(t.length>1&&(o=_(o,t[1])),t=m.allKeys(e)):(o=I,t=E(t,!1,!1),e=Object(e));for(var n=0,i=t.length;n<i;n++){var s=t[n],a=e[s];o(a,s,e)&&(r[s]=a)}return r}),m.omit=b(function(e,t){var r,o=t[0];return m.isFunction(o)?(o=m.negate(o),t.length>1&&(r=t[1])):(t=m.map(E(t,!1,!1),String),o=function(e,r){return!m.contains(t,r)}),m.pick(e,o,r)}),m.defaults=D(m.allKeys,!0),m.create=function(e,t){var r=x(e);return t&&m.extendOwn(r,t),r},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var r=m.keys(t),o=r.length;if(null==e)return!o;for(var n=Object(e),i=0;i<o;i++){var s=r[i];if(t[s]!==n[s]||!(s in n))return!1}return!0},N=function(e,t,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var n=typeof e;return("function"===n||"object"===n||"object"==typeof t)&&V(e,t,r,o)},V=function(e,t,r,o){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var n=h.call(e);if(n!==h.call(t))return!1;switch(n){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var i="[object Array]"===n;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(m.isFunction(s)&&s instanceof s&&m.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],o=o||[];for(var c=r.length;c--;)if(r[c]===e)return o[c]===t;if(r.push(e),o.push(t),i){if((c=e.length)!==t.length)return!1;for(;c--;)if(!N(e[c],t[c],r,o))return!1}else{var p,u=m.keys(e);if(c=u.length,m.keys(t).length!==c)return!1;for(;c--;)if(p=u[c],!m.has(t,p)||!N(e[p],t[p],r,o))return!1}return r.pop(),o.pop(),!0},m.isEqual=function(e,t){return N(e,t)},m.isEmpty=function(e){return null==e||(j(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=d||function(e){return"[object Array]"===h.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){m["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")});var G=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof G&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return null!=e&&u.call(e,t);for(var r=t.length,o=0;o<r;o++){var n=t[o];if(null==e||!u.call(e,n))return!1;e=e[n]}return!!r},m.noConflict=function(){return n._=i,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return w(t,e)}:M(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?w(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,r){var o=Array(Math.max(0,e));t=_(t,r,1);for(var n=0;n<e;n++)o[n]=t(n);return o},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=m.invert(W),q=function(e){var t=function(t){return e[t]},r="(?:"+m.keys(e).join("|")+")",o=RegExp(r),n=RegExp(r,"g");return function(e){return e=null==e?"":""+e,o.test(e)?e.replace(n,t):e}};m.escape=q(W),m.unescape=q(H),m.result=function(e,t,r){m.isArray(t)||(t=[t]);var o=t.length;if(!o)return m.isFunction(r)?r.call(e):r;for(var n=0;n<o;n++){var i=null==e?void 0:e[t[n]];void 0===i&&(i=r,n=o),e=m.isFunction(i)?i.call(e):i}return e};var U=0;m.uniqueId=function(e){var t=++U+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(e){return"\\"+X[e]};m.template=function(e,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var o,n=RegExp([(t.escape||$).source,(t.interpolate||$).source,(t.evaluate||$).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(n,function(t,r,o,n,a){return s+=e.slice(i,a).replace(K,Q),i=a+t.length,r?s+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":o?s+="'+\n((__t=("+o+"))==null?'':__t)+\n'":n&&(s+="';\n"+n+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{o=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var a=function(e){return o.call(this,e,m)},l=t.variable||"obj";return a.source="function("+l+"){\n"+s+"}",a},m.chain=function(e){var t=m(e);return t._chain=!0,t};var Y=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),function(t){var r=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),Y(this,r.apply(m,e))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];m.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],Y(this,r)}}),m.each(["concat","join","slice"],function(e){var t=s[e];m.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},void 0===(o=function(){return m}.apply(t,[]))||(r.exports=o)}()}).call(this,r(22),r(295)(e))},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(e,t,r){"use strict";function o(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),o(r(56)),o(r(289)),o(r(288)),t.version=r(287).version},function(module,exports,__webpack_require__){var _=__webpack_require__(1),widgets=__webpack_require__(2),Promise=__webpack_require__(10),ndarray=__webpack_require__(21),dataserializers=__webpack_require__(3),THREE=__webpack_require__(0),Enums=__webpack_require__(55),utils=__webpack_require__(18),EXTENSION_SPEC_VERSION=__webpack_require__(29).EXTENSION_SPEC_VERSION;function listenNested(e,t,r){t.forEach(function(t){var o=e.get(t)||[];o instanceof ThreeModel?(e.listenTo(o,"change",r),e.listenTo(o,"childchange",r)):utils.childModelsNested(o).forEach(function(t){e.listenTo(t,"change",r),e.listenTo(t,"childchange",r)}),e.on("change:"+t,function(e,o){var n=e.previous(t)||[],i=o||[];if(n instanceof ThreeModel&&e.stopListening(n),i instanceof ThreeModel&&(e.listenTo(i,"change",r),e.listenTo(i,"childchange",r)),!(n instanceof ThreeModel&&i instanceof ThreeModel))if(n instanceof ThreeModel)utils.childModelsNested(i).forEach(function(t){e.listenTo(t,"change",r),e.listenTo(t,"childchange",r)});else if(i instanceof ThreeModel)utils.childModelsNested(n).forEach(function(t){e.stopListening(t)});else{var s=utils.nestedDiff(i,n);s.added.forEach(function(t){e.listenTo(t,"change",r),e.listenTo(t,"childchange",r)}),s.removed.forEach(function(t){e.stopListening(t)})}})})}var ThreeModel=widgets.WidgetModel.extend({defaults:function(){return _.extend(widgets.WidgetModel.prototype.defaults.call(this),{_model_name:this.constructor.model_name,_model_module:this.constructor.model_module,_model_module_version:this.constructor.model_module_version})},initialize:function(e,t){if(widgets.WidgetModel.prototype.initialize.apply(this,arguments),this.createPropertiesArrays(),t.three_obj){this.save_changes();var r=t.three_obj;return delete t.three_obj,this.processNewObj(r),void(this.initPromise=this.createUninitializedChildren().bind(this).then(function(){this.syncToModel(!0),this.setupListeners()}))}this.initPromise=this.createThreeObjectAsync().bind(this).then(function(){return this.createUninitializedChildren()}).then(function(){this.syncToModel(),this.syncToThreeObj(!0),this.setupListeners()})},createPropertiesArrays:function(){this.three_properties=[],this.three_nested_properties=[],this.datawidget_properties=[],this.enum_property_types={},this.props_created_by_three={},this.property_converters={},this.property_assigners={},this.property_mappers={},this.initialized_from_three={}},setupListeners:function(){this.three_properties.forEach(function(e){var t=this.get(e);t&&(this.listenTo(t,"change",this.onChildChanged.bind(this)),this.listenTo(t,"childchange",this.onChildChanged.bind(this))),this.on("change:"+e,function(t,r){var o=this.previous(e),n=r;o&&this.stopListening(o),n&&(this.listenTo(n,"change",this.onChildChanged.bind(this)),this.listenTo(n,"childchange",this.onChildChanged.bind(this)))},this)},this),listenNested(this,this.three_nested_properties,this.onChildChanged.bind(this)),this.datawidget_properties.forEach(function(e){dataserializers.listenToUnion(this,e,this.onChildChanged.bind(this),!1)},this),this.on("change",this.onChange,this),this.on("msg:custom",this.onCustomMessage,this)},processNewObj:function(e){return e.ipymodelId=this.model_id,e.ipymodel=this,this.obj=e,e},createUninitializedChildren:function(){var e=_.filter(this.three_properties,function(e){return"uninitialized"===this.get(e)},this);return Promise.all(_.map(e,function(e){this.initialized_from_three[e]=!0;var t=this.obj[e],r=utils.lookupThreeConstructorName(t)+"Model",o=__webpack_require__(31)[r];return utils.createModel(o,this.widget_manager,t)},this))},createThreeObjectAsync:function(){var e;if(this.constructThreeObjectAsync)e=this.constructThreeObjectAsync();else{if(!this.constructThreeObject)throw new Error("no THREE construct method exists: this.createThreeObjectAsync");e=Promise.resolve(this.constructThreeObject())}return e.bind(this).then(this.processNewObj)},constructThreeObject:function(){},onCustomMessage:function(e,t){switch(e.type){case"exec_three_obj_method":this.onExecThreeObjMethod(e.method_name,e.args,e.buffers);break;case"freeze":break;case"print":console.log("SERVER: "+JSON.stringify(e.msg));break;default:console.error("ERROR: invalid custom message",e)}},onExecThreeObjMethod:function(e,t,r){if(console.debug("execThreeObjMethod: "+e+"("+t.map(JSON.stringify).join(",")+")"),!(e in this.obj))throw new Error("Invalid methodName: "+e);return t=t.map(function(e){return Array.isArray(e)?2===e.length?(new THREE.Vector2).fromArray(e):3===e.length?(new THREE.Vector3).fromArray(e):4===e.length?(new THREE.Vector4).fromArray(e):9===e.length?(new THREE.Matrix3).fromArray(e):16===e.length?(new THREE.Matrix4).fromArray(e):e:"string"==typeof e&&/IPY_MODEL_/.test(e)?(e=e.replace("IPY_MODEL_",""),this.widget_manager.get_model(e).then(function(e){return e.obj})):e},this),Promise.all(t).bind(this).then(function(t){var r=this.obj[e].apply(this.obj,t);this.syncToModel(!0),null!==r&&void 0!==r&&(r.ipymodel&&(r=r.ipymodel),console.debug("sending return value to server..."),this.send({type:"exec_three_obj_method_retval",method_name:e,ret_val:r},this.callbacks(),null))})},onChange:function(e,t){"pushFromThree"!==t&&(this.syncToThreeObj(),this.syncToModel())},onChildChanged:function(e){console.debug("child changed: "+e.model_id),this.trigger("childchange",this)},syncToThreeObj:function(e){_.each(this.property_converters,function(t,r){if(e||this.hasChanged(r)){var o=this[this.property_assigners[r]]||this.assignDirect;if(o=o.bind(this),t){var n=this[t+="ModelToThree"];if(!n)throw new Error("invalid converter name: "+t);o(this.obj,r,n.bind(this)(this.get(r),r))}else o(this.obj,r,this.get(r))}},this),_.each(this.property_mappers,function(e){if(!e)throw new Error("invalid mapper name: "+e);var t=this[e+="ModelToThree"];if(!t)throw new Error("invalid mapper name: "+e);t.bind(this)()},this)},syncToModel:function(e){e=null!==e&&e;var t={};_.each(this.property_converters,function(r,o){if(!(e||o in this.props_created_by_three)){if(!this.initialized_from_three[o])return;delete this.initialized_from_three[o]}if(r){var n=this[r+="ThreeToModel"];if(!n)throw new Error("invalid converter name: "+r);t[o]=n.bind(this)(this.obj[o],o)}else t[o]=this.obj[o]},this),t&&this.set(t,"pushFromThree"),_.each(this.property_mappers,function(e,t){if(!e)throw new Error("invalid mapper name: "+e);var r=this[e+="ThreeToModel"];if(!r)throw new Error("invalid mapper name: "+e);r.bind(this)(t)},this),this.save_changes()},assignDirect:function(e,t,r){e[t]=r},assignArray:function(e,t,r){var o=e[t];null!==o&&void 0!==o?o.splice.apply(o,[0,o.length].concat(r)):e[t]=r},convertFloatModelToThree:function(e){if("string"==typeof e||e instanceof String){if("inf"===(e=e.toLowerCase()))return 1/0;if("-inf"===e)return-1/0;if("nan"===e)return NaN}return e},convertFloatThreeToModel:function(e){return isFinite(e)?e:isNaN(e)?"nan":e===1/0?"inf":e===-1/0?"-inf":e},convertBoolModelToThree:function(e){return e},convertBoolThreeToModel:function(e){return null===e?null:!!e},convertEnumModelToThree:function(e){return null===e?null:THREE[e]},convertEnumThreeToModel:function(e,t){if(null===e)return null;var r=this.enum_property_types[t];return Enums[r][e]},convertVectorModelToThree:function(e){var t;switch(e.length){case 2:t=new THREE.Vector2;break;case 3:t=new THREE.Vector3;break;case 4:t=new THREE.Vector4;break;default:throw new Error("model vector has invalid length: "+e.length)}return t.fromArray(e),t},convertVectorThreeToModel:function(e){return e.toArray()},assignVector:function(e,t,r){e[t].copy(r)},convertEulerModelToThree:function(e){return(new THREE.Euler).fromArray(e)},convertEulerThreeToModel:function(e){return e.toArray()},assignEuler:function(e,t,r){e[t].copy(r)},convertVectorArrayModelToThree:function(e,t){return e.map(function(e){return this.convertVectorModelToThree(e,t)},this)},convertVectorArrayThreeToModel:function(e,t){return e.map(function(e){return this.convertVectorThreeToModel(e,t)},this)},convertColorArrayModelToThree:function(e,t){return e.map(function(e){return this.convertColorModelToThree(e,t)},this)},convertColorArrayThreeToModel:function(e,t){return e.map(function(e){return this.convertColorThreeToModel(e,t)},this)},convertFaceModelToThree:function(e){var t=e[3];void 0!==t&&null!==t&&(t=Array.isArray(t)&&t.length>0&&Array.isArray(t[0])?t.map(function(e){return this.convertVectorModelToThree(e)},this):this.convertVectorModelToThree(t));var r=e[4];return void 0!==r&&null!==r&&(r=Array.isArray(r)?r.map(function(e){return new THREE.Color(e)},this):new THREE.Color(r)),new THREE.Face3(e[0],e[1],e[2],t,r,e[5])},convertFaceThreeToModel:function(e){return[e.a,e.b,e.c,e.normal.toArray(),this.convertColorThreeToModel(e.color),e.materialIndex,this.convertVectorArrayThreeToModel(e.vertexNormals),this.convertColorArrayThreeToModel(e.vertexColors)]},convertFaceArrayModelToThree:function(e,t){return e.map(function(e){return this.convertFaceModelToThree(e,t)},this)},convertFaceArrayThreeToModel:function(e,t){return e.map(function(e){return this.convertFaceThreeToModel(e,t)},this)},convertMatrixModelToThree:function(e){var t;switch(e.length){case 9:t=new THREE.Matrix3;break;case 16:t=new THREE.Matrix4;break;default:throw new Error("model matrix has invalid length: "+e.length)}return t.fromArray(e),t},convertMatrixThreeToModel:function(e){return e.toArray()},assignMatrix:function(e,t,r){e[t].copy(r)},convertFunctionModelToThree:function(fnStr){var fn;return eval("fn = "+fnStr),fn},convertFunctionThreeToModelToThree:function(e){return e.toString()},convertThreeTypeModelToThree:function(e){return e?e.obj:null},convertThreeTypeThreeToModel:function(e){return e?e.ipymodel:e},assignDict:function(e,t,r){if(e[t]!==r){if(void 0===e[t]||null===e[t]){if(null===r||void 0===r)return;e[t]={}}Object.keys(e[t]).forEach(function(r){delete e[t][r]}),Object.assign(e[t],r)}},convertUniformDictModelToThree:function(e){return null===e?null:(Object.keys(e).forEach(function(t){var r=e[t].value;r&&("string"==typeof r||r instanceof String)&&(e[t].value=new THREE.Color(r))}),e)},convertUniformDictThreeToModel:function(e){return e},convertThreeTypeArrayModelToThree:function(e,t){return Array.isArray(e)?e.map(function(e){return this.convertThreeTypeModelToThree(e,t)},this):this.convertThreeTypeModelToThree(e,t)},convertThreeTypeArrayThreeToModel:function(e,t){return Array.isArray(e)?e.map(function(e){return this.convertThreeTypeThreeToModel(e,t)},this):this.convertThreeTypeThreeToModel(e,t)},convertThreeTypeDictModelToThree:function(e,t){return _.mapObject(e,function(e){return this.convertThreeTypeModelToThree(e,t)},this)},convertThreeTypeDictThreeToModel:function(e,t){return _.mapObject(e,function(e){return this.convertThreeTypeThreeToModel(e,t)},this)},convertMorphAttributesModelToThree:function(e,t){return _.mapObject(e,function(e){return e.map(function(e){return this.convertThreeTypeModelToThree(e,t)},this)},this)},convertMorphAttributesThreeToModel:function(e,t){return _.mapObject(e,function(e){return e.map(function(e){return this.convertThreeTypeThreeToModel(e,t)},this)},this)},convertArrayBufferModelToThree:function(e){return null===e?null:e instanceof widgets.WidgetModel?e.get("array").data:e.data},convertArrayBufferThreeToModel:function(e){return null===e?null:ndarray(e)},convertColorModelToThree:function(e){return null===e?null:new THREE.Color(e)},convertColorThreeToModel:function(e){return null===e?null:"#"+e.getHexString()}},{model_module:"jupyter-threejs",model_name:"ThreeModel",model_module_version:EXTENSION_SPEC_VERSION});module.exports={ThreeModel:ThreeModel}},function(e,t,r){var o=r(1),n=r(264).Object3DModel,i=n.extend({createPropertiesArrays:function(){n.prototype.createPropertiesArrays.call(this),this.property_assigners.children="assignChildren"},assignChildren:function(e,t,r){var n=e[t],i=o.difference(n,r),s=o.difference(r,n);i.length>0&&e.remove.apply(e,i),s.length>0&&e.add.apply(e,s)}});e.exports={Object3DModel:i}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{name:"",type:"BaseGeometry"})},constructThreeObject:function(){var e=new n.BaseGeometry;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.name=null,this.property_converters.type=null}},{model_name:"BaseGeometryModel",serializers:o.extend({},i.serializers)});e.exports={BaseGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{name:"",type:"BaseBufferGeometry"})},constructThreeObject:function(){var e=new n.BaseBufferGeometry;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.name=null,this.property_converters.type=null}},{model_name:"BaseBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={BaseBufferGeometryModel:s}},function(e,t,r){r(1);var o=r(131).MaterialModel,n=o.extend({onCustomMessage:function(e,t){switch(e.type){case"needsUpdate":this.obj.needsUpdate=!0,this.trigger("childchange",this);break;default:o.prototype.onCustomMessage.call(arguments)}}});e.exports={MaterialModel:n}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{name:"",mapping:"UVMapping",wrapS:"ClampToEdgeWrapping",wrapT:"ClampToEdgeWrapping",magFilter:"LinearFilter",minFilter:"LinearMipMapLinearFilter",format:"RGBAFormat",type:"UnsignedByteType",anisotropy:1,repeat:[1,1],offset:[0,0],generateMipmaps:!0,premultiplyAlpha:!1,flipY:!0,unpackAlignment:4,encoding:"LinearEncoding",version:0,rotation:0})},constructThreeObject:function(){var e=new n.Texture;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.id=!0,this.props_created_by_three.version=!0,this.enum_property_types.mapping="MappingModes",this.enum_property_types.wrapS="WrappingModes",this.enum_property_types.wrapT="WrappingModes",this.enum_property_types.magFilter="Filters",this.enum_property_types.minFilter="Filters",this.enum_property_types.format="PixelFormats",this.enum_property_types.type="DataTypes",this.enum_property_types.encoding="TextureEncodings",this.property_converters.name=null,this.property_converters.mapping="convertEnum",this.property_converters.wrapS="convertEnum",this.property_converters.wrapT="convertEnum",this.property_converters.magFilter="convertEnum",this.property_converters.minFilter="convertEnum",this.property_converters.format="convertEnum",this.property_converters.type="convertEnum",this.property_converters.anisotropy="convertFloat",this.property_converters.repeat="convertVector",this.property_converters.offset="convertVector",this.property_converters.generateMipmaps="convertBool",this.property_converters.premultiplyAlpha="convertBool",this.property_converters.flipY="convertBool",this.property_converters.unpackAlignment=null,this.property_converters.encoding="convertEnum",this.property_converters.version=null,this.property_converters.rotation="convertFloat",this.property_assigners.repeat="assignVector",this.property_assigners.offset="assignVector"}},{model_name:"TextureModel",serializers:o.extend({},i.serializers)});e.exports={TextureModel:s}},function(e,t,r){(function(t,r,o){e.exports=function(){var e,n,i;return function e(t,r,o){function n(s,a){if(!r[s]){if(!t[s]){var l="function"==typeof _dereq_&&_dereq_;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=r[s]={exports:{}};t[s][0].call(p.exports,function(e){var r=t[s][1][e];return n(r||e)},p,p.exports,e,t,r,o)}return r[s].exports}for(var i="function"==typeof _dereq_&&_dereq_,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(e,t,r){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function r(e){var r=new t(e),o=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),o}e.any=function(e){return r(e)},e.prototype.any=function(){return r(this)}}},{}],2:[function(e,r,o){"use strict";var n;try{throw new Error}catch(e){n=e}var i=e("./schedule"),s=e("./queue"),a=e("./util");function l(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=i}function c(e,t,r){this._lateQueue.push(e,t,r),this._queueTick()}function p(e,t,r){this._normalQueue.push(e,t,r),this._queueTick()}function h(e){this._normalQueue._pushOne(e),this._queueTick()}l.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},l.prototype.hasCustomScheduler=function(){return this._customScheduler},l.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},l.prototype.disableTrampolineIfNecessary=function(){a.hasDevTools&&(this._trampolineEnabled=!1)},l.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},l.prototype.fatalError=function(e,r){r?(t.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),t.exit(2)):this.throwLater(e)},l.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},a.hasDevTools?(l.prototype.invokeLater=function(e,t,r){this._trampolineEnabled?c.call(this,e,t,r):this._schedule(function(){setTimeout(function(){e.call(t,r)},100)})},l.prototype.invoke=function(e,t,r){this._trampolineEnabled?p.call(this,e,t,r):this._schedule(function(){e.call(t,r)})},l.prototype.settlePromises=function(e){this._trampolineEnabled?h.call(this,e):this._schedule(function(){e._settlePromises()})}):(l.prototype.invokeLater=c,l.prototype.invoke=p,l.prototype.settlePromises=h),l.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var r=e.shift(),o=e.shift();t.call(r,o)}else t._settlePromises()}},l.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},l.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},l.prototype._reset=function(){this._isTickUsed=!1},r.exports=l,r.exports.firstLineError=n},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,r){"use strict";t.exports=function(e,t,r,o){var n=!1,i=function(e,t){this._reject(t)},s=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(i,i,null,this,e)},a=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},l=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(i){n||(n=!0,e.prototype._propagateFrom=o.propagateFromFunction(),e.prototype._boundValue=o.boundValueFunction());var c=r(i),p=new e(t);p._propagateFrom(this,1);var h=this._target();if(p._setBoundTo(c),c instanceof e){var u={promiseRejectionQueued:!1,promise:p,target:h,bindingPromise:c};h._then(t,s,void 0,p,u),c._then(a,l,void 0,p,u),p._setOnCancel(c)}else p._resolveCallback(h);return p},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,r){return e.resolve(r).bind(t)}}},{}],4:[function(e,t,r){"use strict";var o;"undefined"!=typeof Promise&&(o=Promise);var n=e("./promise")();n.noConflict=function(){try{Promise===n&&(Promise=o)}catch(e){}return n},t.exports=n},{"./promise":22}],5:[function(e,t,r){"use strict";var o=Object.create;if(o){var n=o(null),i=o(null);n[" size"]=i[" size"]=0}t.exports=function(t){var r=e("./util"),o=r.canEvaluate;function n(e){var o=this.pop(),n=function(e,o){var n;if(null!=e&&(n=e[o]),"function"!=typeof n){var i="Object "+r.classString(e)+" has no method '"+r.toString(o)+"'";throw new t.TypeError(i)}return n}(e,o);return n.apply(e,this)}function i(e){return e[this]}function s(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}r.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(n,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t,r="number"==typeof e;if(r)t=s;else if(o){var n=(void 0)(e);t=null!==n?n:i}else t=i;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,r){"use strict";t.exports=function(t,r,o,n){var i=e("./util"),s=i.tryCatch,a=i.errorObj,l=t._async;t.prototype.break=t.prototype.cancel=function(){if(!n.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var r=e._cancellationParent;if(null==r||!r._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=r}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),l.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(i.isArray(e))for(var r=0;r<e.length;++r)this._doInvokeOnCancel(e[r],t);else if(void 0!==e)if("function"==typeof e){if(!t){var o=s(e).call(this._boundValue());o===a&&(this._attachExtraTrace(o.e),l.throwLater(o.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),l.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,r){"use strict";t.exports=function(t){var r=e("./util"),o=e("./es5").keys,n=r.tryCatch,i=r.errorObj;return function(e,s,a){return function(l){var c=a._boundValue();e:for(var p=0;p<e.length;++p){var h=e[p];if(h===Error||null!=h&&h.prototype instanceof Error){if(l instanceof h)return n(s).call(c,l)}else if("function"==typeof h){var u=n(h).call(c,l);if(u===i)return u;if(u)return n(s).call(c,l)}else if(r.isObject(l)){for(var d=o(h),f=0;f<d.length;++f){var y=d[f];if(h[y]!=l[y])continue e}return n(s).call(c,l)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,r){"use strict";t.exports=function(e){var t=!1,r=[];function o(){this._trace=new o.CapturedTrace(n())}function n(){var e=r.length-1;if(e>=0)return r[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},o.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,r.push(this._trace))},o.prototype._popContext=function(){if(void 0!==this._trace){var e=r.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},o.CapturedTrace=null,o.create=function(){if(t)return new o},o.deactivateLongStackTraces=function(){},o.activateLongStackTraces=function(){var r=e.prototype._pushContext,i=e.prototype._popContext,s=e._peekContext,a=e.prototype._peekContext,l=e.prototype._promiseCreated;o.deactivateLongStackTraces=function(){e.prototype._pushContext=r,e.prototype._popContext=i,e._peekContext=s,e.prototype._peekContext=a,e.prototype._promiseCreated=l,t=!1},t=!0,e.prototype._pushContext=o.prototype._pushContext,e.prototype._popContext=o.prototype._popContext,e._peekContext=e.prototype._peekContext=n,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},o}},{}],9:[function(e,r,o){"use strict";r.exports=function(r,o){var n,i,s,a=r._getDomain,l=r._async,c=e("./errors").Warning,p=e("./util"),h=p.canAttachTrace,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,f=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,y=null,v=null,m=!1,g=!(0==p.env("BLUEBIRD_DEBUG")),_=!(0==p.env("BLUEBIRD_WARNINGS")||!g&&!p.env("BLUEBIRD_WARNINGS")),T=!(0==p.env("BLUEBIRD_LONG_STACK_TRACES")||!g&&!p.env("BLUEBIRD_LONG_STACK_TRACES")),b=0!=p.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(_||!!p.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},r.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)}},r.prototype._notifyUnhandledRejectionIsHandled=function(){W("rejectionHandled",n,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},r.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),W("unhandledRejection",i,e,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},r.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},r.prototype._warn=function(e,t,r){return N(e,t,r||this)},r.onPossiblyUnhandledRejection=function(e){var t=a();i="function"==typeof e?null===t?e:p.domainBind(t,e):void 0},r.onUnhandledRejectionHandled=function(e){var t=a();n="function"==typeof e?null===t?e:p.domainBind(t,e):void 0};var x=function(){};r.longStackTraces=function(){if(l.haveItemsQueued()&&!Y.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Y.longStackTraces&&q()){var e=r.prototype._captureStackTrace,t=r.prototype._attachExtraTrace;Y.longStackTraces=!0,x=function(){if(l.haveItemsQueued()&&!Y.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");r.prototype._captureStackTrace=e,r.prototype._attachExtraTrace=t,o.deactivateLongStackTraces(),l.enableTrampoline(),Y.longStackTraces=!1},r.prototype._captureStackTrace=R,r.prototype._attachExtraTrace=D,o.activateLongStackTraces(),l.disableTrampolineIfNecessary()}},r.hasLongStackTraces=function(){return Y.longStackTraces&&q()};var M=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return p.global.dispatchEvent(e),function(e,t){var r=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!p.global.dispatchEvent(r)}}if("function"==typeof Event){var e=new Event("CustomEvent");return p.global.dispatchEvent(e),function(e,t){var r=new Event(e.toLowerCase(),{cancelable:!0});return r.detail=t,!p.global.dispatchEvent(r)}}var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),p.global.dispatchEvent(e),function(e,t){var r=document.createEvent("CustomEvent");return r.initCustomEvent(e.toLowerCase(),!1,!0,t),!p.global.dispatchEvent(r)}}catch(e){}return function(){return!1}}(),w=p.isNode?function(){return t.emit.apply(t,arguments)}:p.global?function(e){var t="on"+e.toLowerCase(),r=p.global[t];return!!r&&(r.apply(p.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function P(e,t){return{promise:t}}var A={promiseCreated:P,promiseFulfilled:P,promiseRejected:P,promiseResolved:P,promiseCancelled:P,promiseChained:function(e,t,r){return{promise:t,child:r}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,r){return{reason:t,promise:r}},rejectionHandled:P},j=function(e){var t=!1;try{t=w.apply(null,arguments)}catch(e){l.throwLater(e),t=!0}var r=!1;try{r=M(e,A[e].apply(null,arguments))}catch(e){l.throwLater(e),r=!0}return r||t};function C(){return!1}function S(e,t,r){var o=this;try{e(t,r,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+p.toString(e));o._attachCancellationCallback(e)})}catch(e){return e}}function F(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?p.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function E(){return this._onCancelField}function z(e){this._onCancelField=e}function O(){this._cancellationParent=void 0,this._onCancelField=void 0}function k(e,t){if(0!=(1&t)){this._cancellationParent=e;var r=e._branchesRemainingToCancel;void 0===r&&(r=0),e._branchesRemainingToCancel=r+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}r.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?r.longStackTraces():!e.longStackTraces&&r.hasLongStackTraces()&&x()),"warnings"in e){var t=e.warnings;Y.warnings=!!t,b=Y.warnings,p.isObject(t)&&"wForgottenReturn"in t&&(b=!!t.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!Y.cancellation){if(l.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=O,r.prototype._propagateFrom=k,r.prototype._onCancel=E,r.prototype._setOnCancel=z,r.prototype._attachCancellationCallback=F,r.prototype._execute=S,L=k,Y.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!Y.monitoring?(Y.monitoring=!0,r.prototype._fireEvent=j):!e.monitoring&&Y.monitoring&&(Y.monitoring=!1,r.prototype._fireEvent=C)),r},r.prototype._fireEvent=C,r.prototype._execute=function(e,t,r){try{e(t,r)}catch(e){return e}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(e){},r.prototype._attachCancellationCallback=function(e){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(e,t){};var L=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function B(){var e=this._boundTo;return void 0!==e&&e instanceof r?e.isFulfilled()?e.value():void 0:e}function R(){this._trace=new K(this._peekContext())}function D(e,t){if(h(e)){var r=this._trace;if(void 0!==r&&t&&(r=r._parent),void 0!==r)r.attachExtraTrace(e);else if(!e.__stackCleaned__){var o=I(e);p.notEnumerableProp(e,"stack",o.message+"\n"+o.stack.join("\n")),p.notEnumerableProp(e,"__stackCleaned__",!0)}}}function N(e,t,o){if(Y.warnings){var n,i=new c(e);if(t)o._attachExtraTrace(i);else if(Y.longStackTraces&&(n=r._peekContext()))n.attachExtraTrace(i);else{var s=I(i);i.stack=s.message+"\n"+s.stack.join("\n")}j("warning",i)||G(i,"",!0)}}function V(e){for(var t=[],r=0;r<e.length;++r){var o=e[r],n="    (No stack trace)"===o||y.test(o),i=n&&U(o);n&&!i&&(m&&" "!==o.charAt(0)&&(o="    "+o),t.push(o))}return t}function I(e){var t=e.stack,r=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),r=0;r<t.length;++r){var o=t[r];if("    (No stack trace)"===o||y.test(o))break}return r>0&&"SyntaxError"!=e.name&&(t=t.slice(r)),t}(e):["    (No stack trace)"],{message:r,stack:"SyntaxError"==e.name?t:V(t)}}function G(e,t,r){if("undefined"!=typeof console){var o;if(p.isObject(e)){var n=e.stack;o=t+v(n,e)}else o=t+String(e);"function"==typeof s?s(o,r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(o)}}function W(e,t,r,o){var n=!1;try{"function"==typeof t&&(n=!0,"rejectionHandled"===e?t(o):t(r,o))}catch(e){l.throwLater(e)}"unhandledRejection"===e?j(e,r,o)||n||G(r,"Unhandled rejection "):j(e,o)}function H(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():p.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{var r=JSON.stringify(e);t=r}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function q(){return"function"==typeof Q}var U=function(){return!1},$=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(e){var t=e.match($);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function K(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);Q(this,K),t>32&&this.uncycle()}p.inherits(K,Error),o.CapturedTrace=K,K.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],r={},o=0,n=this;void 0!==n;++o)t.push(n),n=n._parent;for(var o=(e=this._length=o)-1;o>=0;--o){var i=t[o].stack;void 0===r[i]&&(r[i]=o)}for(var o=0;o<e;++o){var s=t[o].stack,a=r[s];if(void 0!==a&&a!==o){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[o]._parent=void 0,t[o]._length=1;var l=o>0?t[o-1]:this;a<e-1?(l._parent=t[a+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,p=o-2;p>=0;--p)t[p]._length=c,c++;return}}}},K.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=I(e),r=t.message,o=[t.stack],n=this;void 0!==n;)o.push(V(n.stack.split("\n"))),n=n._parent;!function(e){for(var t=e[0],r=1;r<e.length;++r){for(var o=e[r],n=t.length-1,i=t[n],s=-1,a=o.length-1;a>=0;--a)if(o[a]===i){s=a;break}for(var a=s;a>=0;--a){var l=o[a];if(t[n]!==l)break;t.pop(),n--}t=o}}(o),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(o),p.notEnumerableProp(e,"stack",function(e,t){for(var r=0;r<t.length-1;++r)t[r].push("From previous event:"),t[r]=t[r].join("\n");return r<t.length&&(t[r]=t[r].join("\n")),e+"\n"+t.join("\n")}(r,o)),p.notEnumerableProp(e,"__stackCleaned__",!0)}};var Q=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():H(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,y=e,v=t;var r=Error.captureStackTrace;return U=function(e){return u.test(e)},function(e,t){Error.stackTraceLimit+=6,r(e,t),Error.stackTraceLimit-=6}}var o,n=new Error;if("string"==typeof n.stack&&n.stack.split("\n")[0].indexOf("stackDetection@")>=0)return y=/@/,v=t,m=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){o="stack"in e}return"stack"in n||!o||"number"!=typeof Error.stackTraceLimit?(v=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?H(t):t.toString()},null):(y=e,v=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(s=function(e){console.warn(e)},p.isNode&&t.stderr.isTTY?s=function(e,t){var r=t?"[33m":"[31m";console.warn(r+e+"[0m\n")}:p.isNode||"string"!=typeof(new Error).stack||(s=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var Y={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return T&&r.longStackTraces(),{longStackTraces:function(){return Y.longStackTraces},warnings:function(){return Y.warnings},cancellation:function(){return Y.cancellation},monitoring:function(){return Y.monitoring},propagateFromFunction:function(){return L},boundValueFunction:function(){return B},checkForgottenReturns:function(e,t,r,o,n){if(void 0===e&&null!==t&&b){if(void 0!==n&&n._returnedNonUndefined())return;if(0==(65535&o._bitField))return;r&&(r+=" ");var i="",s="";if(t._trace){for(var a=t._trace.stack.split("\n"),l=V(a),c=l.length-1;c>=0;--c){var p=l[c];if(!d.test(p)){var h=p.match(f);h&&(i="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(l.length>0)for(var u=l[0],c=0;c<a.length;++c)if(a[c]===u){c>0&&(s="\n"+a[c-1]);break}}var y="a promise was created in a "+r+"handler "+i+"but was not returned from it, see http://goo.gl/rRqMUw"+s;o._warn(y,!0,t)}},setBounds:function(e,t){if(q()){for(var r,o,n=e.stack.split("\n"),i=t.stack.split("\n"),s=-1,a=-1,l=0;l<n.length;++l){var c=X(n[l]);if(c){r=c.fileName,s=c.line;break}}for(var l=0;l<i.length;++l){var c=X(i[l]);if(c){o=c.fileName,a=c.line;break}}s<0||a<0||!r||!o||r!==o||s>=a||(U=function(e){if(u.test(e))return!0;var t=X(e);return!!(t&&t.fileName===r&&s<=t.line&&t.line<=a)})}},warn:N,deprecated:function(e,t){var r=e+" is deprecated and will be removed in a future version.";return t&&(r+=" Use "+t+" instead."),N(r)},CapturedTrace:K,fireDomEvent:M,fireGlobalEvent:w}}},{"./errors":12,"./util":36}],10:[function(e,t,r){"use strict";t.exports=function(e){function t(){return this.value}function r(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(r){return r instanceof e&&r.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:r},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(r,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,r,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof e&&r.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:r},void 0);var o=arguments[1];return o instanceof e&&o.suppressUnhandledRejections(),this.caught(r,function(){return o})}}},{}],11:[function(e,t,r){"use strict";t.exports=function(e,t){var r=e.reduce,o=e.all;function n(){return o(this)}e.prototype.each=function(e){return r(this,e,t,0)._then(n,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return r(this,e,t,t)},e.each=function(e,o){return r(e,o,t,0)._then(n,void 0,void 0,e,void 0)},e.mapSeries=function(e,o){return r(e,o,t,t)}}},{}],12:[function(e,t,r){"use strict";var o,n,i=e("./es5"),s=i.freeze,a=e("./util"),l=a.inherits,c=a.notEnumerableProp;function p(e,t){function r(o){if(!(this instanceof r))return new r(o);c(this,"message","string"==typeof o?o:t),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(r,Error),r}var h=p("Warning","warning"),u=p("CancellationError","cancellation error"),d=p("TimeoutError","timeout error"),f=p("AggregateError","aggregate error");try{o=TypeError,n=RangeError}catch(e){o=p("TypeError","type error"),n=p("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<y.length;++v)"function"==typeof Array.prototype[y[v]]&&(f.prototype[y[v]]=Array.prototype[y[v]]);i.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var m=0;function g(e){if(!(this instanceof g))return new g(e);c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}f.prototype.toString=function(){var e=Array(4*m+1).join(" "),t="\n"+e+"AggregateError of:\n";m++,e=Array(4*m+1).join(" ");for(var r=0;r<this.length;++r){for(var o=this[r]===this?"[Circular AggregateError]":this[r]+"",n=o.split("\n"),i=0;i<n.length;++i)n[i]=e+n[i];o=n.join("\n"),t+=o+"\n"}return m--,t},l(g,Error);var _=Error.__BluebirdErrorTypes__;_||(_=s({CancellationError:u,TimeoutError:d,OperationalError:g,RejectionError:g,AggregateError:f}),i.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:n,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:h}},{"./es5":13,"./util":36}],13:[function(e,t,r){var o=function(){"use strict";return void 0===this}();if(o)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:o,propertyIsWritable:function(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!(r&&!r.writable&&!r.set)}};else{var n={}.hasOwnProperty,i={}.toString,s={}.constructor.prototype,a=function(e){var t=[];for(var r in e)n.call(e,r)&&t.push(r);return t};t.exports={isArray:function(e){try{return"[object Array]"===i.call(e)}catch(e){return!1}},keys:a,names:a,defineProperty:function(e,t,r){return e[t]=r.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return s}},isES5:o,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,r){"use strict";t.exports=function(e,t){var r=e.map;e.prototype.filter=function(e,o){return r(this,e,o,t)},e.filter=function(e,o,n){return r(e,o,n,t)}}},{}],15:[function(e,t,r){"use strict";t.exports=function(t,r,o){var n=e("./util"),i=t.CancellationError,s=n.errorObj,a=e("./catch_filter")(o);function l(e,t,r){this.promise=e,this.type=t,this.handler=r,this.called=!1,this.cancelPromise=null}function c(e){this.finallyHandler=e}function p(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function h(){return d.call(this,this.promise._target()._settledValue())}function u(e){if(!p(this,e))return s.e=e,s}function d(e){var n=this.promise,a=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?a.call(n._boundValue()):a.call(n._boundValue(),e);if(l===o)return l;if(void 0!==l){n._setReturnedNonUndefined();var d=r(l,n);if(d instanceof t){if(null!=this.cancelPromise){if(d._isCancelled()){var f=new i("late cancellation observer");return n._attachExtraTrace(f),s.e=f,s}d.isPending()&&d._attachCancellationCallback(new c(this))}return d._then(h,u,void 0,this,void 0)}}}return n.isRejected()?(p(this),s.e=e,s):(p(this),e)}return l.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){p(this.finallyHandler)},t.prototype._passThrough=function(e,t,r,o){return"function"!=typeof e?this.then():this._then(r,o,void 0,new l(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,d,d)},t.prototype.tap=function(e){return this._passThrough(e,1,d)},t.prototype.tapCatch=function(e){var r=arguments.length;if(1===r)return this._passThrough(e,1,void 0,d);var o,i=new Array(r-1),s=0;for(o=0;o<r-1;++o){var l=arguments[o];if(!n.isObject(l))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+n.classString(l)));i[s++]=l}i.length=s;var c=arguments[o];return this._passThrough(a(i,c,this),1,void 0,d)},l}},{"./catch_filter":7,"./util":36}],16:[function(e,t,r){"use strict";t.exports=function(t,r,o,n,i,s){var a=e("./errors"),l=a.TypeError,c=e("./util"),p=c.errorObj,h=c.tryCatch,u=[];function d(e,r,n,i){if(s.cancellation()){var a=new t(o),l=this._finallyPromise=new t(o);this._promise=a.lastly(function(){return l}),a._captureStackTrace(),a._setOnCancel(this)}else{var c=this._promise=new t(o);c._captureStackTrace()}this._stack=i,this._generatorFunction=e,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(u):u,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(d,i),d.prototype._isResolved=function(){return null===this._promise},d.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},d.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,r=void 0!==this._generator.return;if(r)this._promise._pushContext(),e=h(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var o=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=o,this._promise._attachExtraTrace(o),this._promise._pushContext(),e=h(this._generator.throw).call(this._generator,o),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},d.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=h(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=h(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},d.prototype.promise=function(){return this._promise},d.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},d.prototype._continue=function(e){var r=this._promise;if(e===p)return this._cleanup(),this._cancellationPhase?r.cancel():r._rejectCallback(e.e,!1);var o=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?r.cancel():r._resolveCallback(o);var i=n(o,this._promise);if(i instanceof t||null!==(i=function(e,r,o){for(var i=0;i<r.length;++i){o._pushContext();var s=h(r[i])(e);if(o._popContext(),s===p){o._pushContext();var a=t.reject(p.e);return o._popContext(),a}var l=n(s,o);if(l instanceof t)return l}return null}(i,this._yieldHandlers,this._promise))){var s=(i=i._target())._bitField;0==(50397184&s)?(this._yieldedPromise=i,i._proxy(this,null)):0!=(33554432&s)?t._async.invoke(this._promiseFulfilled,this,i._value()):0!=(16777216&s)?t._async.invoke(this._promiseRejected,this,i._reason()):this._promiseCancelled()}else this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(o))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=Object(t).yieldHandler,o=d,n=(new Error).stack;return function(){var t=e.apply(this,arguments),i=new o(void 0,void 0,r,n),s=i.promise();return i._generator=t,i._promiseFulfilled(void 0),s}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+c.classString(e));u.push(e)},t.spawn=function(e){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var o=new d(e,this),n=o.promise();return o._run(t.spawn),n}}},{"./errors":12,"./util":36}],17:[function(e,t,r){"use strict";t.exports=function(t,r,o,n,i,s){var a=e("./util");a.canEvaluate,a.tryCatch,a.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var o=[].slice.call(arguments);e&&o.pop();var n=new r(o).promise();return void 0!==e?n.spread(e):n}}},{"./util":36}],18:[function(e,t,r){"use strict";t.exports=function(t,r,o,n,i,s){var a=t._getDomain,l=e("./util"),c=l.tryCatch,p=l.errorObj,h=t._async;function u(e,t,r,o){this.constructor$(e),this._promise._captureStackTrace();var n=a();this._callback=null===n?t:l.domainBind(n,t),this._preservedValues=o===i?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function d(e,r,n,i){if("function"!=typeof r)return o("expecting a function but got "+l.classString(r));var s=0;if(void 0!==n){if("object"!=typeof n||null===n)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(n)));if("number"!=typeof n.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(n.concurrency)));s=n.concurrency}return s="number"==typeof s&&isFinite(s)&&s>=1?s:0,new u(e,r,s,i).promise()}l.inherits(u,r),u.prototype._asyncInit=function(){this._init$(void 0,-2)},u.prototype._init=function(){},u.prototype._promiseFulfilled=function(e,r){var o=this._values,i=this.length(),a=this._preservedValues,l=this._limit;if(r<0){if(o[r=-1*r-1]=e,l>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(l>=1&&this._inFlight>=l)return o[r]=e,this._queue.push(r),!1;null!==a&&(a[r]=e);var h=this._promise,u=this._callback,d=h._boundValue();h._pushContext();var f=c(u).call(d,e,r,i),y=h._popContext();if(s.checkForgottenReturns(f,y,null!==a?"Promise.filter":"Promise.map",h),f===p)return this._reject(f.e),!0;var v=n(f,this._promise);if(v instanceof t){var m=(v=v._target())._bitField;if(0==(50397184&m))return l>=1&&this._inFlight++,o[r]=v,v._proxy(this,-1*(r+1)),!1;if(0==(33554432&m))return 0!=(16777216&m)?(this._reject(v._reason()),!0):(this._cancel(),!0);f=v._value()}o[r]=f}var g=++this._totalResolved;return g>=i&&(null!==a?this._filter(o,a):this._resolve(o),!0)},u.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,r=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var o=e.pop();this._promiseFulfilled(r[o],o)}},u.prototype._filter=function(e,t){for(var r=t.length,o=new Array(r),n=0,i=0;i<r;++i)e[i]&&(o[n++]=t[i]);o.length=n,this._resolve(o)},u.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return d(this,e,t,null)},t.map=function(e,t,r,o){return d(e,t,r,o)}}},{"./util":36}],19:[function(e,t,r){"use strict";t.exports=function(t,r,o,n,i){var s=e("./util"),a=s.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+s.classString(e));return function(){var o=new t(r);o._captureStackTrace(),o._pushContext();var n=a(e).apply(this,arguments),s=o._popContext();return i.checkForgottenReturns(n,s,"Promise.method",o),o._resolveFromSyncValue(n),o}},t.attempt=t.try=function(e){if("function"!=typeof e)return n("expecting a function but got "+s.classString(e));var o,l=new t(r);if(l._captureStackTrace(),l._pushContext(),arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],p=arguments[2];o=s.isArray(c)?a(e).apply(p,c):a(e).call(p,c)}else o=a(e)();var h=l._popContext();return i.checkForgottenReturns(o,h,"Promise.try",l),l._resolveFromSyncValue(o),l},t.prototype._resolveFromSyncValue=function(e){e===s.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,r){"use strict";var o=e("./util"),n=o.maybeWrapAsError,i=e("./errors"),s=i.OperationalError,a=e("./es5"),l=/^(?:name|message|stack|cause)$/;function c(e){var t;if(function(e){return e instanceof Error&&a.getPrototypeOf(e)===Error.prototype}(e)){(t=new s(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var r=a.keys(e),n=0;n<r.length;++n){var i=r[n];l.test(i)||(t[i]=e[i])}return t}return o.markAsOriginatingFromRejection(e),e}t.exports=function(e,t){return function(r,o){if(null!==e){if(r){var i=c(n(r));e._attachExtraTrace(i),e._reject(i)}else if(t){var s=[].slice.call(arguments,1);e._fulfill(s)}else e._fulfill(o);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,r){"use strict";t.exports=function(t){var r=e("./util"),o=t._async,n=r.tryCatch,i=r.errorObj;function s(e,t){if(!r.isArray(e))return a.call(this,e,t);var s=n(t).apply(this._boundValue(),[null].concat(e));s===i&&o.throwLater(s.e)}function a(e,t){var r=this._boundValue(),s=void 0===e?n(t).call(r,null):n(t).call(r,null,e);s===i&&o.throwLater(s.e)}function l(e,t){if(!e){var r=new Error(e+"");r.cause=e,e=r}var s=n(t).call(this._boundValue(),e);s===i&&o.throwLater(s.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var r=a;void 0!==t&&Object(t).spread&&(r=s),this._then(r,l,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,r,o){"use strict";r.exports=function(){var o=function(){return new f("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},n=function(){return new S.PromiseInspection(this._target())},i=function(e){return S.reject(new f(e))};function s(){}var a,l={},c=e("./util");a=c.isNode?function(){var e=t.domain;return void 0===e&&(e=null),e}:function(){return null},c.notEnumerableProp(S,"_getDomain",a);var p=e("./es5"),h=e("./async"),u=new h;p.defineProperty(S,"_async",{value:u});var d=e("./errors"),f=S.TypeError=d.TypeError;S.RangeError=d.RangeError;var y=S.CancellationError=d.CancellationError;S.TimeoutError=d.TimeoutError,S.OperationalError=d.OperationalError,S.RejectionError=d.OperationalError,S.AggregateError=d.AggregateError;var v=function(){},m={},g={},_=e("./thenables")(S,v),T=e("./promise_array")(S,v,_,i,s),b=e("./context")(S),x=b.create,M=e("./debuggability")(S,b),w=(M.CapturedTrace,e("./finally")(S,_,g)),P=e("./catch_filter")(g),A=e("./nodeback"),j=c.errorObj,C=c.tryCatch;function S(e){e!==v&&function(e,t){if(null==e||e.constructor!==S)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new f("expecting a function but got "+c.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function F(e){this.promise._resolveCallback(e)}function E(e){this.promise._rejectCallback(e,!1)}function z(e){var t=new S(v);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return S.prototype.toString=function(){return"[object Promise]"},S.prototype.caught=S.prototype.catch=function(e){var t=arguments.length;if(t>1){var r,o=new Array(t-1),n=0;for(r=0;r<t-1;++r){var s=arguments[r];if(!c.isObject(s))return i("Catch statement predicate: expecting an object but got "+c.classString(s));o[n++]=s}return o.length=n,e=arguments[r],this.then(void 0,P(o,e,this))}return this.then(void 0,e)},S.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},S.prototype.then=function(e,t){if(M.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var r=".then() only accepts functions but was passed: "+c.classString(e);arguments.length>1&&(r+=", "+c.classString(t)),this._warn(r)}return this._then(e,t,void 0,void 0,void 0)},S.prototype.done=function(e,t){var r=this._then(e,t,void 0,void 0,void 0);r._setIsFinal()},S.prototype.spread=function(e){return"function"!=typeof e?i("expecting a function but got "+c.classString(e)):this.all()._then(e,void 0,void 0,m,void 0)},S.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},S.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},S.prototype.error=function(e){return this.caught(c.originatesFromRejection,e)},S.getNewLibraryCopy=r.exports,S.is=function(e){return e instanceof S},S.fromNode=S.fromCallback=function(e){var t=new S(v);t._captureStackTrace();var r=arguments.length>1&&!!Object(arguments[1]).multiArgs,o=C(e)(A(t,r));return o===j&&t._rejectCallback(o.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},S.all=function(e){return new T(e).promise()},S.cast=function(e){var t=_(e);return t instanceof S||((t=new S(v))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},S.resolve=S.fulfilled=S.cast,S.reject=S.rejected=function(e){var t=new S(v);return t._captureStackTrace(),t._rejectCallback(e,!0),t},S.setScheduler=function(e){if("function"!=typeof e)throw new f("expecting a function but got "+c.classString(e));return u.setScheduler(e)},S.prototype._then=function(e,t,r,o,n){var i=void 0!==n,s=i?n:new S(v),l=this._target(),p=l._bitField;i||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===o&&0!=(2097152&this._bitField)&&(o=0!=(50397184&p)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var h=a();if(0!=(50397184&p)){var d,f,m=l._settlePromiseCtx;0!=(33554432&p)?(f=l._rejectionHandler0,d=e):0!=(16777216&p)?(f=l._fulfillmentHandler0,d=t,l._unsetRejectionIsUnhandled()):(m=l._settlePromiseLateCancellationObserver,f=new y("late cancellation observer"),l._attachExtraTrace(f),d=t),u.invoke(m,l,{handler:null===h?d:"function"==typeof d&&c.domainBind(h,d),promise:s,receiver:o,value:f})}else l._addCallbacks(e,t,s,o,h);return s},S.prototype._length=function(){return 65535&this._bitField},S.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},S.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},S.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},S.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},S.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},S.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},S.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},S.prototype._isFinal=function(){return(4194304&this._bitField)>0},S.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},S.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},S.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},S.prototype._setAsyncGuaranteed=function(){u.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},S.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==l)return void 0===t&&this._isBound()?this._boundValue():t},S.prototype._promiseAt=function(e){return this[4*e-4+2]},S.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},S.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},S.prototype._boundValue=function(){},S.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,r=e._rejectionHandler0,o=e._promise0,n=e._receiverAt(0);void 0===n&&(n=l),this._addCallbacks(t,r,o,n,null)},S.prototype._migrateCallbackAt=function(e,t){var r=e._fulfillmentHandlerAt(t),o=e._rejectionHandlerAt(t),n=e._promiseAt(t),i=e._receiverAt(t);void 0===i&&(i=l),this._addCallbacks(r,o,n,i,null)},S.prototype._addCallbacks=function(e,t,r,o,n){var i=this._length();if(i>=65531&&(i=0,this._setLength(0)),0===i)this._promise0=r,this._receiver0=o,"function"==typeof e&&(this._fulfillmentHandler0=null===n?e:c.domainBind(n,e)),"function"==typeof t&&(this._rejectionHandler0=null===n?t:c.domainBind(n,t));else{var s=4*i-4;this[s+2]=r,this[s+3]=o,"function"==typeof e&&(this[s+0]=null===n?e:c.domainBind(n,e)),"function"==typeof t&&(this[s+1]=null===n?t:c.domainBind(n,t))}return this._setLength(i+1),i},S.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},S.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(o(),!1);var r=_(e,this);if(!(r instanceof S))return this._fulfill(e);t&&this._propagateFrom(r,2);var n=r._target();if(n!==this){var i=n._bitField;if(0==(50397184&i)){var s=this._length();s>0&&n._migrateCallback0(this);for(var a=1;a<s;++a)n._migrateCallbackAt(this,a);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&i))this._fulfill(n._value());else if(0!=(16777216&i))this._reject(n._reason());else{var l=new y("late cancellation observer");n._attachExtraTrace(l),this._reject(l)}}else this._reject(o())}},S.prototype._rejectCallback=function(e,t,r){var o=c.ensureErrorObject(e),n=o===e;if(!n&&!r&&M.warnings()){var i="a promise was rejected with a non-error: "+c.classString(e);this._warn(i,!0)}this._attachExtraTrace(o,!!t&&n),this._reject(e)},S.prototype._resolveFromExecutor=function(e){if(e!==v){var t=this;this._captureStackTrace(),this._pushContext();var r=!0,o=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,r)});r=!1,this._popContext(),void 0!==o&&t._rejectCallback(o,!0)}},S.prototype._settlePromiseFromHandler=function(e,t,r,o){var n=o._bitField;if(0==(65536&n)){var i;o._pushContext(),t===m?r&&"number"==typeof r.length?i=C(e).apply(this._boundValue(),r):(i=j).e=new f("cannot .spread() a non-array: "+c.classString(r)):i=C(e).call(t,r);var s=o._popContext();0==(65536&(n=o._bitField))&&(i===g?o._reject(r):i===j?o._rejectCallback(i.e,!1):(M.checkForgottenReturns(i,s,"",o,this),o._resolveCallback(i)))}},S.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},S.prototype._followee=function(){return this._rejectionHandler0},S.prototype._setFollowee=function(e){this._rejectionHandler0=e},S.prototype._settlePromise=function(e,t,r,o){var i=e instanceof S,a=this._bitField,l=0!=(134217728&a);0!=(65536&a)?(i&&e._invokeInternalOnCancel(),r instanceof w&&r.isFinallyHandler()?(r.cancelPromise=e,C(t).call(r,o)===j&&e._reject(j.e)):t===n?e._fulfill(n.call(r)):r instanceof s?r._promiseCancelled(e):i||e instanceof T?e._cancel():r.cancel()):"function"==typeof t?i?(l&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,o,e)):t.call(r,o,e):r instanceof s?r._isResolved()||(0!=(33554432&a)?r._promiseFulfilled(o,e):r._promiseRejected(o,e)):i&&(l&&e._setAsyncGuaranteed(),0!=(33554432&a)?e._fulfill(o):e._reject(o))},S.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,r=e.promise,o=e.receiver,n=e.value;"function"==typeof t?r instanceof S?this._settlePromiseFromHandler(t,o,n,r):t.call(o,n,r):r instanceof S&&r._reject(n)},S.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},S.prototype._settlePromise0=function(e,t,r){var o=this._promise0,n=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(o,e,n,t)},S.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},S.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var r=o();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():u.settlePromises(this))}},S.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return u.fatalError(e,c.isNode);(65535&t)>0?u.settlePromises(this):this._ensurePossibleRejectionHandled()}},S.prototype._fulfillPromises=function(e,t){for(var r=1;r<e;r++){var o=this._fulfillmentHandlerAt(r),n=this._promiseAt(r),i=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(n,o,i,t)}},S.prototype._rejectPromises=function(e,t){for(var r=1;r<e;r++){var o=this._rejectionHandlerAt(r),n=this._promiseAt(r),i=this._receiverAt(r);this._clearCallbackDataAtIndex(r),this._settlePromise(n,o,i,t)}},S.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var r=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,r,e),this._rejectPromises(t,r)}else{var o=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,o,e),this._fulfillPromises(t,o)}this._setLength(0)}this._clearCancellationData()},S.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},S.defer=S.pending=function(){M.deprecated("Promise.defer","new Promise");var e=new S(v);return{promise:e,resolve:F,reject:E}},c.notEnumerableProp(S,"_makeSelfResolutionError",o),e("./method")(S,v,_,i,M),e("./bind")(S,v,_,M),e("./cancel")(S,T,i,M),e("./direct_resolve")(S),e("./synchronous_inspection")(S),e("./join")(S,T,_,v,u,a),S.Promise=S,S.version="3.5.1",e("./map.js")(S,T,i,_,v,M),e("./call_get.js")(S),e("./using.js")(S,i,_,x,v,M),e("./timers.js")(S,v,M),e("./generators.js")(S,i,v,_,s,M),e("./nodeify.js")(S),e("./promisify.js")(S,v),e("./props.js")(S,T,_,i),e("./race.js")(S,v,_,i),e("./reduce.js")(S,T,i,_,v,M),e("./settle.js")(S,T,M),e("./some.js")(S,T,i),e("./filter.js")(S,v),e("./each.js")(S,v),e("./any.js")(S),c.toFastProperties(S),c.toFastProperties(S.prototype),z({a:1}),z({b:2}),z({c:3}),z(1),z(function(){}),z(void 0),z(!1),z(new S(v)),M.setBounds(h.firstLineError,c.lastLineError),S}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,r){"use strict";t.exports=function(t,r,o,n,i){var s=e("./util");function a(e){var o=this._promise=new t(r);e instanceof t&&o._propagateFrom(e,3),o._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.isArray,s.inherits(a,i),a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function e(r,i){var a=o(this._values,this._promise);if(a instanceof t){var l=(a=a._target())._bitField;if(this._values=a,0==(50397184&l))return this._promise._setAsyncGuaranteed(),a._then(e,this._reject,void 0,this,i);if(0==(33554432&l))return 0!=(16777216&l)?this._reject(a._reason()):this._cancel();a=a._value()}if(null!==(a=s.asArray(a)))0!==a.length?this._iterate(a):-5===i?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(i));else{var c=n("expecting an array or an iterable object but got "+s.classString(a)).reason();this._promise._rejectCallback(c,!1)}},a.prototype._iterate=function(e){var r=this.getActualLength(e.length);this._length=r,this._values=this.shouldCopyValues()?new Array(r):this._values;for(var n=this._promise,i=!1,s=null,a=0;a<r;++a){var l=o(e[a],n);l instanceof t?(l=l._target(),s=l._bitField):s=null,i?null!==s&&l.suppressUnhandledRejections():null!==s?0==(50397184&s)?(l._proxy(this,a),this._values[a]=l):i=0!=(33554432&s)?this._promiseFulfilled(l._value(),a):0!=(16777216&s)?this._promiseRejected(l._reason(),a):this._promiseCancelled(a):i=this._promiseFulfilled(l,a)}i||n._setAsyncGuaranteed()},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},a.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},a.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},a.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var r=++this._totalResolved;return r>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseCancelled=function(){return this._cancel(),!0},a.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},a.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var r=0;r<e.length;++r)e[r]instanceof t&&e[r].cancel()}},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(e){return e},a}},{"./util":36}],24:[function(e,t,r){"use strict";t.exports=function(t,r){var o={},n=e("./util"),i=e("./nodeback"),s=n.withAppended,a=n.maybeWrapAsError,l=n.canEvaluate,c=e("./errors").TypeError,p={__isPromisified__:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),u=function(e){return n.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function d(e){return!h.test(e)}function f(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function y(e,t,r){var o=n.getDataPropertyOrDefault(e,t+r,p);return!!o&&f(o)}function v(e,t,r,o){for(var i=n.inheritedDataKeys(e),s=[],a=0;a<i.length;++a){var l=i[a],p=e[l],h=o===u||u(l,p,e);"function"!=typeof p||f(p)||y(e,l,t)||!o(l,p,e,h)||s.push(l,p)}return function(e,t,r){for(var o=0;o<e.length;o+=2){var n=e[o];if(r.test(n))for(var i=n.replace(r,""),s=0;s<e.length;s+=2)if(e[s]===i)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(s,t,r),s}var m=function(e){return e.replace(/([$])/,"\\$")},g=l?void 0:function(e,l,c,p,h,u){var d=function(){return this}(),f=e;function y(){var n=l;l===o&&(n=this);var c=new t(r);c._captureStackTrace();var p="string"==typeof f&&this!==d?this[f]:e,h=i(c,u);try{p.apply(n,s(arguments,h))}catch(e){c._rejectCallback(a(e),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof f&&(e=p),n.notEnumerableProp(y,"__isPromisified__",!0),y};function _(e,t,r,i,s){for(var a=new RegExp(m(t)+"$"),l=v(e,t,a,r),c=0,p=l.length;c<p;c+=2){var h=l[c],u=l[c+1],d=h+t;if(i===g)e[d]=g(h,o,h,u,t,s);else{var f=i(u,function(){return g(h,o,h,u,t,s)});n.notEnumerableProp(f,"__isPromisified__",!0),e[d]=f}}return n.toFastProperties(e),e}t.promisify=function(e,t){if("function"!=typeof e)throw new c("expecting a function but got "+n.classString(e));if(f(e))return e;var r=void 0===(t=Object(t)).context?o:t.context,i=!!t.multiArgs,s=function(e,t,r){return g(e,t,void 0,e,null,r)}(e,r,i);return n.copyDescriptors(e,s,d),s},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var r=!!(t=Object(t)).multiArgs,o=t.suffix;"string"!=typeof o&&(o="Async");var i=t.filter;"function"!=typeof i&&(i=u);var s=t.promisifier;if("function"!=typeof s&&(s=g),!n.isIdentifier(o))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=n.inheritedDataKeys(e),l=0;l<a.length;++l){var p=e[a[l]];"constructor"!==a[l]&&n.isClass(p)&&(_(p.prototype,o,i,s,r),_(p,o,i,s,r))}return _(e,o,i,s,r)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,r){"use strict";t.exports=function(t,r,o,n){var i,s=e("./util"),a=s.isObject,l=e("./es5");"function"==typeof Map&&(i=Map);var c=function(){var e=0,t=0;function r(r,o){this[e]=r,this[e+t]=o,e++}return function(o){t=o.size,e=0;var n=new Array(2*o.size);return o.forEach(r,n),n}}();function p(e){var t,r=!1;if(void 0!==i&&e instanceof i)t=c(e),r=!0;else{var o=l.keys(e),n=o.length;t=new Array(2*n);for(var s=0;s<n;++s){var a=o[s];t[s]=e[a],t[s+n]=a}}this.constructor$(t),this._isMap=r,this._init$(void 0,r?-6:-3)}function h(e){var r,i=o(e);return a(i)?(r=i instanceof t?i._then(t.props,void 0,void 0,void 0,void 0):new p(i).promise(),i instanceof t&&r._propagateFrom(i,2),r):n("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}s.inherits(p,r),p.prototype._init=function(){},p.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var r=++this._totalResolved;if(r>=this._length){var o;if(this._isMap)o=function(e){for(var t=new i,r=e.length/2|0,o=0;o<r;++o){var n=e[r+o],s=e[o];t.set(n,s)}return t}(this._values);else{o={};for(var n=this.length(),s=0,a=this.length();s<a;++s)o[this._values[s+n]]=this._values[s]}return this._resolve(o),!0}return!1},p.prototype.shouldCopyValues=function(){return!1},p.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return h(this)},t.props=function(e){return h(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,r){"use strict";function o(e){this._capacity=e,this._length=0,this._front=0}o.prototype._willBeOverCapacity=function(e){return this._capacity<e},o.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var r=this._front+t&this._capacity-1;this[r]=e,this._length=t+1},o.prototype.push=function(e,t,r){var o=this.length()+3;if(this._willBeOverCapacity(o))return this._pushOne(e),this._pushOne(t),void this._pushOne(r);var n=this._front+o-3;this._checkCapacity(o);var i=this._capacity-1;this[n+0&i]=e,this[n+1&i]=t,this[n+2&i]=r,this._length=o},o.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},o.prototype.length=function(){return this._length},o.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},o.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var r=this._front,o=this._length,n=r+o&t-1;!function(e,t,r,o,n){for(var i=0;i<n;++i)r[i+o]=e[i+t],e[i+t]=void 0}(this,0,this,t,n)},t.exports=o},{}],27:[function(e,t,r){"use strict";t.exports=function(t,r,o,n){var i=e("./util"),s=function(e){return e.then(function(t){return a(t,e)})};function a(e,a){var l=o(e);if(l instanceof t)return s(l);if(null===(e=i.asArray(e)))return n("expecting an array or an iterable object but got "+i.classString(e));var c=new t(r);void 0!==a&&c._propagateFrom(a,3);for(var p=c._fulfill,h=c._reject,u=0,d=e.length;u<d;++u){var f=e[u];(void 0!==f||u in e)&&t.cast(f)._then(p,h,void 0,c,null)}return c}t.race=function(e){return a(e,void 0)},t.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(e,t,r){"use strict";t.exports=function(t,r,o,n,i,s){var a=t._getDomain,l=e("./util"),c=l.tryCatch;function p(e,r,o,n){this.constructor$(e);var s=a();this._fn=null===s?r:l.domainBind(s,r),void 0!==o&&(o=t.resolve(o))._attachCancellationCallback(this),this._initialValue=o,this._currentCancellable=null,this._eachValues=n===i?Array(this._length):0===n?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function h(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function u(e,t,r,n){if("function"!=typeof t)return o("expecting a function but got "+l.classString(t));var i=new p(e,t,r,n);return i.promise()}function d(e){this.accum=e,this.array._gotAccum(e);var r=n(this.value,this.array._promise);return r instanceof t?(this.array._currentCancellable=r,r._then(f,void 0,void 0,this,void 0)):f.call(this,r)}function f(e){var r,o=this.array,n=o._promise,i=c(o._fn);n._pushContext(),(r=void 0!==o._eachValues?i.call(n._boundValue(),e,this.index,this.length):i.call(n._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(o._currentCancellable=r);var a=n._popContext();return s.checkForgottenReturns(r,a,void 0!==o._eachValues?"Promise.each":"Promise.reduce",n),r}l.inherits(p,r),p.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==i&&this._eachValues.push(e)},p.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},p.prototype._init=function(){},p.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},p.prototype.shouldCopyValues=function(){return!1},p.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},p.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},p.prototype._iterate=function(e){var r,o;this._values=e;var n=e.length;if(void 0!==this._initialValue?(r=this._initialValue,o=0):(r=t.resolve(e[0]),o=1),this._currentCancellable=r,!r.isRejected())for(;o<n;++o){var i={accum:null,value:e[o],index:o,length:n,array:this};r=r._then(d,void 0,void 0,i,void 0)}void 0!==this._eachValues&&(r=r._then(this._eachComplete,void 0,void 0,this,void 0)),r._then(h,h,void 0,r,this)},t.prototype.reduce=function(e,t){return u(this,e,t,null)},t.reduce=function(e,t,r,o){return u(e,t,r,o)}}},{"./util":36}],29:[function(e,n,i){"use strict";var s,a,l,c,p,h=e("./util"),u=h.getNativePromise();if(h.isNode&&"undefined"==typeof MutationObserver){var d=r.setImmediate,f=t.nextTick;s=h.isRecentNode?function(e){d.call(r,e)}:function(e){f.call(t,e)}}else if("function"==typeof u&&"function"==typeof u.resolve){var y=u.resolve();s=function(e){y.then(e)}}else s="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==o?function(e){o(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(a=document.createElement("div"),l={attributes:!0},c=!1,p=document.createElement("div"),new MutationObserver(function(){a.classList.toggle("foo"),c=!1}).observe(p,l),function(e){var t=new MutationObserver(function(){t.disconnect(),e()});t.observe(a,l),c||(c=!0,p.classList.toggle("foo"))});n.exports=s},{"./util":36}],30:[function(e,t,r){"use strict";t.exports=function(t,r,o){var n=t.PromiseInspection,i=e("./util");function s(e){this.constructor$(e)}i.inherits(s,r),s.prototype._promiseResolved=function(e,t){this._values[e]=t;var r=++this._totalResolved;return r>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseFulfilled=function(e,t){var r=new n;return r._bitField=33554432,r._settledValueField=e,this._promiseResolved(t,r)},s.prototype._promiseRejected=function(e,t){var r=new n;return r._bitField=16777216,r._settledValueField=e,this._promiseResolved(t,r)},t.settle=function(e){return o.deprecated(".settle()",".reflect()"),new s(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,r){"use strict";t.exports=function(t,r,o){var n=e("./util"),i=e("./errors").RangeError,s=e("./errors").AggregateError,a=n.isArray,l={};function c(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function p(e,t){if((0|t)!==t||t<0)return o("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var r=new c(e),n=r.promise();return r.setHowMany(t),r.init(),n}n.inherits(c,r),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=a(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(e){this._howMany=e},c.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new s,t=this.length();t<this._values.length;++t)this._values[t]!==l&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(e){this._values.push(e)},c.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new i(t)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return p(e,t)},t.prototype.some=function(e){return p(this,e)},t._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(e,t,r){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var r=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},o=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},i=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},s=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},a=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return s.call(this._target())},e.prototype.isRejected=function(){return i.call(this._target())},e.prototype.isFulfilled=function(){return n.call(this._target())},e.prototype.isResolved=function(){return a.call(this._target())},e.prototype.value=function(){return r.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),o.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,r){"use strict";t.exports=function(t,r){var o=e("./util"),n=o.errorObj,i=o.isObject,s={}.hasOwnProperty;return function(e,a){if(i(e)){if(e instanceof t)return e;var l=function(e){try{return function(e){return e.then}(e)}catch(e){return n.e=e,n}}(e);if(l===n){a&&a._pushContext();var c=t.reject(l.e);return a&&a._popContext(),c}if("function"==typeof l){if(function(e){try{return s.call(e,"_promise0")}catch(e){return!1}}(e)){var c=new t(r);return e._then(c._fulfill,c._reject,void 0,c,null),c}return function(e,i,s){var a=new t(r),l=a;s&&s._pushContext(),a._captureStackTrace(),s&&s._popContext();var c=!0,p=o.tryCatch(i).call(e,function(e){a&&(a._resolveCallback(e),a=null)},function(e){a&&(a._rejectCallback(e,c,!0),a=null)});return c=!1,a&&p===n&&(a._rejectCallback(p.e,!0,!0),a=null),l}(e,l,a)}}return e}}},{"./util":36}],34:[function(e,t,r){"use strict";t.exports=function(t,r,o){var n=e("./util"),i=t.TimeoutError;function s(e){this.handle=e}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(e){return l(+this).thenReturn(e)},l=t.delay=function(e,n){var i,l;return void 0!==n?(i=t.resolve(n)._then(a,null,null,e,void 0),o.cancellation()&&n instanceof t&&i._setOnCancel(n)):(i=new t(r),l=setTimeout(function(){i._fulfill()},+e),o.cancellation()&&i._setOnCancel(new s(l)),i._captureStackTrace()),i._setAsyncGuaranteed(),i};function c(e){return clearTimeout(this.handle),e}function p(e){throw clearTimeout(this.handle),e}t.prototype.delay=function(e){return l(e,this)},t.prototype.timeout=function(e,t){var r,a;e=+e;var l=new s(setTimeout(function(){r.isPending()&&function(e,t,r){var o;o="string"!=typeof t?t instanceof Error?t:new i("operation timed out"):new i(t),n.markAsOriginatingFromRejection(o),e._attachExtraTrace(o),e._reject(o),null!=r&&r.cancel()}(r,t,a)},e));return o.cancellation()?(a=this.then(),(r=a._then(c,p,void 0,l,void 0))._setOnCancel(l)):r=this._then(c,p,void 0,l,void 0),r}}},{"./util":36}],35:[function(e,t,r){"use strict";t.exports=function(t,r,o,n,i,s){var a=e("./util"),l=e("./errors").TypeError,c=e("./util").inherits,p=a.errorObj,h=a.tryCatch,u={};function d(e){setTimeout(function(){throw e},0)}function f(e,r){var n=0,s=e.length,a=new t(i);return function i(){if(n>=s)return a._fulfill();var l=function(e){var t=o(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(e[n++]);if(l instanceof t&&l._isDisposable()){try{l=o(l._getDisposer().tryDispose(r),e.promise)}catch(e){return d(e)}if(l instanceof t)return l._then(i,d,null,null,null)}i()}(),a}function y(e,t,r){this._data=e,this._promise=t,this._context=r}function v(e,t,r){this.constructor$(e,t,r)}function m(e){return y.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function g(e){this.length=e,this.promise=null,this[e-1]=null}y.prototype.data=function(){return this._data},y.prototype.promise=function(){return this._promise},y.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():u},y.prototype.tryDispose=function(e){var t=this.resource(),r=this._context;void 0!==r&&r._pushContext();var o=t!==u?this.doDispose(t,e):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,o},y.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(v,y),v.prototype.doDispose=function(e,t){var r=this.data();return r.call(e,e,t)},g.prototype._resultCancelled=function(){for(var e=this.length,r=0;r<e;++r){var o=this[r];o instanceof t&&o.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return r("you must pass at least 2 arguments to Promise.using");var n,i=arguments[e-1];if("function"!=typeof i)return r("expecting a function but got "+a.classString(i));var l=!0;2===e&&Array.isArray(arguments[0])?(n=arguments[0],e=n.length,l=!1):(n=arguments,e--);for(var c=new g(e),u=0;u<e;++u){var d=n[u];if(y.isDisposer(d)){var v=d;(d=d.promise())._setDisposable(v)}else{var _=o(d);_ instanceof t&&(d=_._then(m,null,null,{resources:c,index:u},void 0))}c[u]=d}for(var T=new Array(c.length),u=0;u<T.length;++u)T[u]=t.resolve(c[u]).reflect();var b=t.all(T).then(function(e){for(var t=0;t<e.length;++t){var r=e[t];if(r.isRejected())return p.e=r.error(),p;if(!r.isFulfilled())return void b.cancel();e[t]=r.value()}x._pushContext(),i=h(i);var o=l?i.apply(void 0,e):i(e),n=x._popContext();return s.checkForgottenReturns(o,n,"Promise.using",x),o}),x=b.lastly(function(){var e=new t.PromiseInspection(b);return f(c,e)});return c.promise=x,x._setOnCancel(c),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new v(e,this,n());throw new l}}},{"./errors":12,"./util":36}],36:[function(e,o,n){"use strict";var i=e("./es5"),s="undefined"==typeof navigator,a={e:{}},l,c="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:void 0!==this?this:null;function p(){try{var e=l;return l=null,e.apply(this,arguments)}catch(e){return a.e=e,a}}function h(e){return l=e,p}var u=function(e,t){var r={}.hasOwnProperty;function o(){for(var o in this.constructor=e,this.constructor$=t,t.prototype)r.call(t.prototype,o)&&"$"!==o.charAt(o.length-1)&&(this[o+"$"]=t.prototype[o])}return o.prototype=t.prototype,e.prototype=new o,e.prototype};function d(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function f(e){return"function"==typeof e||"object"==typeof e&&null!==e}function y(e){return d(e)?new Error(j(e)):e}function v(e,t){var r,o=e.length,n=new Array(o+1);for(r=0;r<o;++r)n[r]=e[r];return n[r]=t,n}function m(e,t,r){if(!i.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var o=Object.getOwnPropertyDescriptor(e,t);return null!=o?null==o.get&&null==o.set?o.value:r:void 0}function g(e,t,r){if(d(e))return e;var o={value:r,configurable:!0,enumerable:!1,writable:!0};return i.defineProperty(e,t,o),e}function _(e){throw e}var T=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1};if(i.isES5){var r=Object.getOwnPropertyNames;return function(e){for(var o=[],n=Object.create(null);null!=e&&!t(e);){var s;try{s=r(e)}catch(e){return o}for(var a=0;a<s.length;++a){var l=s[a];if(!n[l]){n[l]=!0;var c=Object.getOwnPropertyDescriptor(e,l);null!=c&&null==c.get&&null==c.set&&o.push(l)}}e=i.getPrototypeOf(e)}return o}}var o={}.hasOwnProperty;return function(r){if(t(r))return[];var n=[];e:for(var i in r)if(o.call(r,i))n.push(i);else{for(var s=0;s<e.length;++s)if(o.call(e[s],i))continue e;n.push(i)}return n}}(),b=/this\s*\.\s*\S+\s*=/;function x(e){try{if("function"==typeof e){var t=i.names(e.prototype),r=i.isES5&&t.length>1,o=t.length>0&&!(1===t.length&&"constructor"===t[0]),n=b.test(e+"")&&i.names(e).length>0;if(r||o||n)return!0}return!1}catch(e){return!1}}function M(e){function t(){}t.prototype=e;for(var r=8;r--;)new t;return e}var w=/^[a-z$_][a-z$_0-9]*$/i;function P(e){return w.test(e)}function A(e,t,r){for(var o=new Array(e),n=0;n<e;++n)o[n]=t+n+r;return o}function j(e){try{return e+""}catch(e){return"[no string representation]"}}function C(e){return e instanceof Error||null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function S(e){try{g(e,"isOperational",!0)}catch(e){}}function F(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function E(e){return C(e)&&i.propertyIsWritable(e,"stack")}var z="stack"in new Error?function(e){return E(e)?e:new Error(j(e))}:function(e){if(E(e))return e;try{throw new Error(j(e))}catch(e){return e}};function O(e){return{}.toString.call(e)}function k(e,t,r){for(var o=i.names(e),n=0;n<o.length;++n){var s=o[n];if(r(s))try{i.defineProperty(t,s,i.getDescriptor(e,s))}catch(e){}}}var L=function(e){return i.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var B="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,r=[],o=e[Symbol.iterator]();!(t=o.next()).done;)r.push(t.value);return r};L=function(e){return i.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?B(e):null}}var R=void 0!==t&&"[object process]"===O(t).toLowerCase(),D=void 0!==t&&void 0!==t.env;function N(e){return D?t.env[e]:void 0}function V(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}}function I(e,t){return e.bind(t)}var G={isClass:x,isIdentifier:P,inheritedDataKeys:T,getDataPropertyOrDefault:m,thrower:_,isArray:i.isArray,asArray:L,notEnumerableProp:g,isPrimitive:d,isObject:f,isError:C,canEvaluate:s,errorObj:a,tryCatch:h,inherits:u,withAppended:v,maybeWrapAsError:y,toFastProperties:M,filledRange:A,toString:j,canAttachTrace:E,ensureErrorObject:z,originatesFromRejection:F,markAsOriginatingFromRejection:S,classString:O,copyDescriptors:k,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:R,hasEnvVariables:D,env:N,global:c,getNativePromise:V,domainBind:I},W;G.isRecentNode=G.isNode&&(W=t.versions.node.split(".").map(Number),0===W[0]&&W[1]>10||W[0]>0),G.isNode&&G.toFastProperties(t);try{throw new Error}catch(e){G.lastLineError=e}o.exports=G},{"./es5":13}]},{},[4])(4)}(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,r(58),r(22),r(294).setImmediate)},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3)),s=r(4).ThreeModel,a=s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{name:"",times:null,values:null,interpolation:"InterpolateLinear"})},constructThreeObject:function(){var e=new n.KeyframeTrack(this.get("name"),this.convertArrayBufferModelToThree(this.get("times"),"times"),this.convertArrayBufferModelToThree(this.get("values"),"values"),this.convertEnumModelToThree(this.get("interpolation"),"interpolation"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.datawidget_properties.push("times"),this.datawidget_properties.push("values"),this.enum_property_types.interpolation="InterpolationModes",this.property_converters.name=null,this.property_converters.times="convertArrayBuffer",this.property_converters.values="convertArrayBuffer",this.property_converters.interpolation="convertEnum"}},{model_name:"KeyframeTrackModel",serializers:o.extend({times:i.data_union_serialization,values:i.data_union_serialization},s.serializers)});e.exports={KeyframeTrackModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{color:"#ffffff",intensity:1,type:"Light"})},constructThreeObject:function(){var e=new n.Light(this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("intensity"),"intensity"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.color="convertColor",this.property_converters.intensity="convertFloat",this.property_converters.type=null}},{model_name:"LightModel",serializers:o.extend({},i.serializers)});e.exports={LightModel:s}},function(e,t,r){r(1);var o=r(167).LightShadowModel,n=o.extend({syncToThreeObj:function(e){(e||this.hasChanged("mapSize"))&&(this.obj.map=null),o.prototype.syncToThreeObj.apply(this,arguments)}});e.exports={LightShadowModel:n}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{matrixWorldInverse:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],projectionMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],type:"Camera"})},constructThreeObject:function(){var e=new n.Camera;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.matrixWorldInverse=!0,this.props_created_by_three.projectionMatrix=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.matrixWorldInverse="convertMatrix",this.property_converters.projectionMatrix="convertMatrix",this.property_converters.type=null,this.property_assigners.matrixWorldInverse="assignMatrix",this.property_assigners.projectionMatrix="assignMatrix"}},{model_name:"CameraModel",serializers:o.extend({},i.serializers)});e.exports={CameraModel:s}},function(e,t,r){var o=r(1),n=r(2),i=(r(10),r(292)),s=(r(0),r(30).name),a=r(29).EXTENSION_SPEC_VERSION,l=r(57),c=r(4).ThreeModel,p=n.DOMWidgetModel.extend({defaults:function(){return o.extend(n.DOMWidgetModel.prototype.defaults.call(this),{_model_module:s,_view_module:s,_model_module_version:a,_model_name:"RenderableModel",_view_name:"RenderableView",_view_module_version:a,_width:200,_height:200,_antialias:!1,autoClear:!0,autoClearColor:!0,autoClearDepth:!0,autoClearStencil:!0,clippingPlanes:[],gammaFactor:2,gammaInput:!1,gammaOutput:!1,localClippingEnabled:!1,maxMorphTargets:8,maxMorphNormals:4,physicallyCorrectLights:!1,shadowMap:null,sortObject:!0,toneMapping:"LinearToneMapping",toneMappingExposure:1,toneMappingWhitePoint:1,clearColor:"#000000",clearOpacity:1})},initialize:function(e,t){n.DOMWidgetModel.prototype.initialize.apply(this,arguments),this.createPropertiesArrays(),c.prototype.setupListeners.call(this)},createPropertiesArrays:function(){c.prototype.createPropertiesArrays.call(this),this.three_nested_properties.push("clippingPlanes"),this.three_properties.push("shadowMap"),this.props_created_by_three.shadowMap=!0,this.enum_property_types.toneMapping="ToneMappings",this.property_converters.autoClear="convertBool",this.property_converters.autoClearColor="convertBool",this.property_converters.autoClearDepth="convertBool",this.property_converters.autoClearStencil="convertBool",this.property_converters.clippingPlanes="convertThreeTypeArray",this.property_converters.gammaFactor="convertFloat",this.property_converters.gammaInput="convertBool",this.property_converters.gammaOutput="convertBool",this.property_converters.localClippingEnabled="convertBool",this.property_converters.physicallyCorrectLights="convertBool",this.property_converters.sortObjects="convertBool",this.property_converters.toneMapping="convertEnum",this.property_converters.toneMappingExposure="convertFloat",this.property_converters.toneMappingWhitepoint="convertFloat"},onChange:function(e,t){},onChildChanged:function(e,t){console.debug("child changed: "+e.model_id),this.trigger("childchange",this)}},{serializers:o.extend({clippingPlanes:{deserialize:n.unpack_models},shadowMap:{deserialize:n.unpack_models}},n.DOMWidgetModel.serializers)}),h=n.DOMWidgetView.extend({initialize:function(){n.DOMWidgetView.prototype.initialize.apply(this,arguments),this.isFrozen=!0,this.id=Math.floor(1e6*Math.random()),this._ticking=!1},remove:function(){n.DOMWidgetView.prototype.remove.apply(this,arguments),this.$el.empty(),this.isFrozen||this.teardownViewer()},processPhosphorMessage:function(e){switch(n.DOMWidgetView.prototype.processPhosphorMessage.call(this,e),e.type){case"after-attach":this.el.addEventListener("contextmenu",this,!0);break;case"before-detach":this.el.removeEventListener("contextmenu",this,!0)}},handleEvent:function(e){switch(e.type){case"contextmenu":this.handleContextMenu(e);break;default:n.DOMWidgetView.prototype.handleEvent.call(this,e)}},handleContextMenu:function(e){var t=[];this.renderer&&t.push(this.renderer.domElement),this.$frozenRenderer&&t.push(this.$frozenRenderer[0]),-1!==t.indexOf(e.target)&&(e.preventDefault(),e.stopPropagation())},render:function(){this.doRender()},doRender:function(){this.el.className="jupyter-widget jupyter-threejs",this.unfreeze(),this.lazyRendererSetup(),this.setupEventListeners()},setupEventListeners:function(){this.listenTo(this.model,"rerender",this.tick.bind(this)),this.listenTo(this.model,"msg:custom",this.onCustomMessage.bind(this)),this.listenTo(this.model,"change:_width",this.updateSize.bind(this)),this.listenTo(this.model,"change:_height",this.updateSize.bind(this))},tick:function(){this._ticking||(requestAnimationFrame(this.tock.bind(this)),this._ticking=!0)},tock:function(){this._ticking=!1,this.renderScene()},updateSize:function(){var e=this.model.get("_width"),t=this.model.get("_height");this.isFrozen?this.$frozenRenderer.width(e).height(t):this.renderer.setSize(e,t)},updateProperties:function(e){if(!this.isFrozen){var t=this.model;o.each(t.property_converters,function(r,o){if(e||t._changing&&t.hasChanged(o))if(r){var n;if("convertThreeTypeArray"===r?n=this[r].bind(this):(r+="ModelToThree",n=c.prototype[r]),!n)throw new Error("invalid converter name: "+r);this.renderer[o]=n(t.get(o),o)}else this.renderer[o]=this.model.get(o)},this),this._updateShadowMap(e);var r=c.prototype.convertColorModelToThree(t.get("clearColor")),n=c.prototype.convertFloatModelToThree(t.get("clearOpacity"));this.renderer.setClearColor(r,n)}},_updateShadowMap:function(e){var t=this.model.get("shadowMap"),r=this.renderer.shadowMap,n=!1;o.each(t.property_converters,function(o,i){if(e||t._changing&&t.hasChanged(i))if(o){var s;if("convertThreeTypeArray"===o?s=this[o].bind(this):(o+="ModelToThree",s=c.prototype[o]),!s)throw new Error("invalid converter name: "+o);var a=s(t.get(i),i);r[i]!==a&&(r[i]=a,n=!0)}else r[i]!==this.model.get(i)&&(r[i]=this.model.get(i),n=!0)},this),n&&(r.needsUpdate=!0)},convertThreeTypeArray:function(e,t){return e.map(function(e){return c.prototype.convertThreeTypeModelToThree(e,t)},this)},renderScene:function(e,t){this.debug("renderScene"),e=e||this.scene,t=t||this.camera,this.isFrozen&&this.unfreeze(),this.renderer.context.isContextLost()?this.freeze():(e.ipymodel&&e.ipymodel.trigger("beforeRender",e,this.renderer,t),this.renderer.render(e,t),e.ipymodel&&e.ipymodel.trigger("afterRender",e,this.renderer,t))},unfreeze:function(){this.isFrozen&&(this.debug("unfreeze"),this.isFrozen=!1,this.$frozenRenderer&&(this.$frozenRenderer.off("mouseenter"),this.$frozenRenderer=null),this.acquireRenderer(),this.controls&&this.enableControls())},acquireRenderer:function(){this.debug("ThreeView.acquiring...");var e={antialias:this.model.get("_antialias"),alpha:this.model.get("_alpha")};this.renderer=l.acquire(e,this.onRendererReclaimed.bind(this)),this.$renderer=i(this.renderer.domElement),this.$el.empty().append(this.$renderer),this.$el.css("margin-bottom","-5px"),this.updateSize(),this.debug("ThreeView.acquireRenderer("+this.renderer.poolId+")")},freeze:function(){this.isFrozen?this.log("already frozen..."):(this.debug("ThreeView.freeze(id="+this.renderer.poolId+")"),this.$el.empty().append('<img src="'+this.renderer.domElement.toDataURL()+'" />'),this.teardownViewer(),this.$frozenRenderer=this.$el.find("img"),this.updateSize(),this.controls&&this.$frozenRenderer.on("mouseenter",o.bind(function(){this.debug("frozenRenderer.mouseenter"),this.tick()},this)))},teardownViewer:function(){this.$renderer.off("mouseenter"),this.$renderer.off("mouseleave"),this.isFrozen=!0,l.release(this.renderer),this.$renderer=null,this.renderer=null,this.controls&&this.disableControls(),this.$el.css("margin-bottom","auto")},enableControls:function(){this.debug("Enable controls");var e=this;this.controls.forEach(function(t){t.enabled=!0,t.connectEvents(e.$renderer[0]),t.addEventListener("change",e.tick.bind(e))})},disableControls:function(){this.debug("Disable controls");var e=this;this.controls.forEach(function(t){t.enabled=!1,t.dispose(),t.removeEventListener("change",e.tick.bind(e))})},onCustomMessage:function(e,t){switch(e.type){case"freeze":this.freeze()}},onRendererReclaimed:function(){this.debug("ThreeView WebGL context is being reclaimed: "+this.renderer.poolId),this.freeze()},log:function(e){console.log("TV("+this.id+"): "+e)},debug:function(e){console.debug("TV("+this.id+"): "+e)},lazyRendererSetup:function(){throw new Error("RenderableView should not be used directly, please subclass!")}});e.exports={RenderableModel:p,RenderableView:h}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(9).TextureModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{images:[]})},constructThreeObject:function(){var e=new n.CubeTexture(this.get("images"),this.convertEnumModelToThree(this.get("mapping"),"mapping"),this.convertEnumModelToThree(this.get("wrapS"),"wrapS"),this.convertEnumModelToThree(this.get("wrapT"),"wrapT"),this.convertEnumModelToThree(this.get("magFilter"),"magFilter"),this.convertEnumModelToThree(this.get("minFilter"),"minFilter"),this.convertEnumModelToThree(this.get("format"),"format"),this.convertEnumModelToThree(this.get("type"),"type"),this.convertFloatModelToThree(this.get("anisotropy"),"anisotropy"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.id=!0,this.props_created_by_three.version=!0,this.property_converters.images=null,this.property_assigners.images="assignArray"}},{model_name:"CubeTextureModel",serializers:o.extend({},i.serializers)});e.exports={CubeTextureModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(5).Object3DModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{controlling:null})},constructThreeObject:function(){var e=new n.Controls;return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("controlling"),this.property_converters.controlling="convertThreeType"}},{model_name:"ControlsModel",serializers:o.extend({controlling:{deserialize:i.unpack_models}},s.serializers)}));e.exports={ControlsModel:a}},function(e,t,r){var o,n,i,s,a,l,c,p,h,u=r(2),d=r(0),f=r(1),y=(o=new d.Box3,function(e){var t=new d.Box3;return e.traverseVisible(function(e){e.geometry&&(e.geometry.computeBoundingBox(),o.copy(e.geometry.boundingBox),e.updateMatrixWorld(),o.applyMatrix4(e.matrixWorld),t.union(o))}),t}),v=(c=new d.Sphere,p=new d.Vector3,function(e){var t=null;return e.traverseVisible(function(e){if(e.geometry){if(e.geometry.computeBoundingSphere(),null===t)return void(t=e.geometry.boundingSphere.clone()).applyMatrix4(e.matrixWorld);if(c.copy(e.geometry.boundingSphere),c.applyMatrix4(e.matrixWorld),a=t.radius,l=c.radius,i=Math.min(a,l),s=Math.max(a,l),p.subVectors(c.center,t.center),(n=p.length())+i<s)return void(l>a&&t.copy(c));t.radius=.5*(a+l+n),t.center.addScaledVector(p,.5+l)}}),t});function m(e,t,r,o){o=void 0===o?.1:o;var n=e.position.distanceTo(t),i=n-r,s=n+r;e.near=(1-o)*i,e.far=(1+o)*s,e.near=Math.max(e.near,.01*r)}function g(e,t,r,o){o=void 0===o?20:o;var n=e.position.distanceTo(t),i=n-r,s=n+r;e.near=1/o*i,e.far=o*s,e.near=Math.max(e.near,.001*r)}function _(e){var t;return 0===(t=Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t]})).length?t:t[0]instanceof u.WidgetModel?t:f.flatten(t.map(function(e){return _(e)}),!0)}function T(e,t){return{added:f.difference(e,t),removed:f.difference(t,e),kept:f.intersection(t,e)}}function b(e,t){var r=Object.keys(e),o=Object.keys(t);return{added:f.difference(r,o).map(function(t){return e[t]}),removed:f.difference(o,r).map(function(e){return t[e]}),kept:f.intersection(r,o).map(function(t){return e[t]})}}e.exports={createModel:function(e,t,r){var o=u.uuid(),n=new e({},{widget_manager:t,model_id:o,three_obj:r});n.name=e.model_name,n.module=e.model_module;var i=n.initPromise.then(function(){var r=u.remove_buffers(n.serialize(n.get_state(!0))),i={state:f.extend({},r.state,{_model_name:e.model_name,_model_module:e.model_module,_model_module_version:e.model_module_version,_view_name:null,_view_module:null,_view_module_version:""}),buffer_paths:r.buffer_paths},s=r.buffers,a={version:u.PROTOCOL_VERSION};return t._create_comm(t.comm_target_name,o,i,a,s)}).then(function(e){return n.comm=e,e.on_close(f.bind(n._handle_comm_closed,n)),e.on_msg(f.bind(n._handle_comm_msg,n)),n.comm_live=!0,n});return t.register_model(o,i),i},computeBoundingSphere:v,computeBoundingBox:y,shrinkFrustumPlanes:m,safeFrustumPlanes:g,lookAtSphere:function(e,t,r,o){o=void 0===o?"safe":o,e.isPerspectiveCamera||console.error("Expecting a perspective camera.");var n=1.5*r/Math.tan(.5*e.fov*Math.PI/180);if(e.position.setX(t.x),e.position.setY(t.y),e.position.setZ(t.z+n),e.lookAt(t.clone()),"tight"===o)m(e,t,r);else if("safe"===o)g(e,t,r);else if(o)throw new Error("setNearFar argument to lookAtSphere invalid: "+o);e.updateProjectionMatrix()},childModelsNested:_,arrayDiff:T,dictDiff:b,nestedDiff:function(e,t){var r;r=Array.isArray(e)?T(e,t):b(e,t);var o=f.flatten([r.added,r.removed,r.kept]);return 0===o.length?o:o[0]instanceof u.WidgetModel?r:{added:_(r.added),removed:_(r.removed)}},getObjectScene:function(e){for(;e.parent;)e=e.parent;return"Scene"===e.type?e:null},getModelScene:function(e){for(var t=e.obj;t.parent;)t=t.parent;return"Scene"===t.type?t.ipymodel:null},lookupThreeConstructorName:function(e){var t=e.constructor.name;return void 0!==d[t]?t:(h||(h=Object.keys(d).reduce(function(e,t){var r=d[t];return r.prototype&&r.prototype.constructor.name&&(e[r.prototype.constructor.name]=t),e},{})),h[t])}}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{normal:[0,0,0],constant:0})},constructThreeObject:function(){var e=new n.Plane(this.convertVectorModelToThree(this.get("normal"),"normal"),this.convertFloatModelToThree(this.get("constant"),"constant"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.normal="convertVector",this.property_converters.constant="convertFloat",this.property_assigners.normal="assignVector"}},{model_name:"PlaneModel",serializers:o.extend({},i.serializers)});e.exports={PlaneModel:s}},function(e,t,r){var o=r(10),n=r(3),i=r(21),s=r(0),a=r(247).BufferAttributeModel,l=a.extend({createPropertiesArrays:function(){a.prototype.createPropertiesArrays.call(this),this.property_mappers.BufferAttributeArray="mapBufferAttributeArray",delete this.property_converters.array},decodeData:function(){var e=n.getArray(this.get("array")),t=1===e.dimension?1:e.shape[e.dimension-1];return{array:this.convertArrayBufferModelToThree(e,"array"),itemSize:t}},constructThreeObject:function(){var e=this.decodeData(),t=new s.BufferAttribute(e.array,e.itemSize,this.get("normalized"));return t.needsUpdate=!0,o.resolve(t)},mapBufferAttributeArrayModelToThree:function(){var e=this.decodeData();this.obj.setArray(e.array),this.obj.needsUpdate=!0,this.set({version:this.obj.version},"pushFromThree")},mapBufferAttributeArrayThreeToModel:function(){var e=this.obj.array,t=this.get("array");t?n.getArray(t).data.set(e):this.set("array",i(e,[this.obj.count,this.obj.itemSize]))},onChildChanged:function(e){e===this.get("array")&&this.mapBufferAttributeArrayModelToThree()}});e.exports={BufferAttributeModel:l}},function(e,t,r){var o=r(291),n=r(290),i="undefined"!=typeof Float64Array;function s(e,t){return e[0]-t[0]}function a(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(s);var o=new Array(r.length);for(e=0;e<o.length;++e)o[e]=r[e][1];return o}function l(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var n="generic"===e;if(-1===t){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(i)()}if(0===t){i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",i)(c[e][0])}i=["'use strict'"];var s=o(t),l=s.map(function(e){return"i"+e}),p="this.offset+"+s.map(function(e){return"this.stride["+e+"]*i"+e}).join("+"),h=s.map(function(e){return"b"+e}).join(","),u=s.map(function(e){return"c"+e}).join(",");i.push("function "+r+"(a,"+h+","+u+",d){this.data=a","this.shape=["+h+"]","this.stride=["+u+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+s.map(function(e){return"this.shape["+e+"]"}).join("*"),"}})"),1===t?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+r+"_order(){"),2===t?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+l.join(",")+",v){"),n?i.push("return this.data.set("+p+",v)}"):i.push("return this.data["+p+"]=v}"),i.push("proto.get=function "+r+"_get("+l.join(",")+"){"),n?i.push("return this.data.get("+p+")}"):i.push("return this.data["+p+"]}"),i.push("proto.index=function "+r+"_index(",l.join(),"){return "+p+"}"),i.push("proto.hi=function "+r+"_hi("+l.join(",")+"){return new "+r+"(this.data,"+s.map(function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")}).join(",")+","+s.map(function(e){return"this.stride["+e+"]"}).join(",")+",this.offset)}");var d=s.map(function(e){return"a"+e+"=this.shape["+e+"]"}),f=s.map(function(e){return"c"+e+"=this.stride["+e+"]"});i.push("proto.lo=function "+r+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+f.join(","));for(var y=0;y<t;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){d=i"+y+"|0;b+=c"+y+"*d;a"+y+"-=d}");i.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"c"+e}).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+l.join(",")+"){var "+s.map(function(e){return"a"+e+"=this.shape["+e+"]"}).join(",")+","+s.map(function(e){return"b"+e+"=this.stride["+e+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(y=0;y<t;++y)i.push("if(typeof i"+y+"==='number'){d=i"+y+"|0;if(d<0){c+=b"+y+"*(a"+y+"-1);a"+y+"=ceil(-a"+y+"/d)}else{a"+y+"=ceil(a"+y+"/d)}b"+y+"*=d}");i.push("return new "+r+"(this.data,"+s.map(function(e){return"a"+e}).join(",")+","+s.map(function(e){return"b"+e}).join(",")+",c)}");var v=new Array(t),m=new Array(t);for(y=0;y<t;++y)v[y]="a[i"+y+"]",m[y]="b[i"+y+"]";i.push("proto.transpose=function "+r+"_transpose("+l+"){"+l.map(function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+v.join(",")+","+m.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+l+"){var a=[],b=[],c=this.offset");for(y=0;y<t;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+s.map(function(e){return"shape["+e+"]"}).join(",")+","+s.map(function(e){return"stride["+e+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(c[e],a)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=function(e,t,r,o){if(void 0===e)return(0,c.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var s=t.length;if(void 0===r){r=new Array(s);for(var a=s-1,p=1;a>=0;--a)r[a]=p,p*=t[a]}if(void 0===o)for(o=0,a=0;a<s;++a)r[a]<0&&(o-=(t[a]-1)*r[a]);for(var h=function(e){if(n(e))return"buffer";if(i)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),u=c[h];u.length<=s+1;)u.push(l(h,u.length-1));return(0,u[s+1])(e,t,r,o)}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(8).MaterialModel,r(6).BaseGeometryModel,r(7).BaseBufferGeometryModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{material:null,geometry:null,type:"Line"})},constructThreeObject:function(){var e=new n.Line(this.convertThreeTypeModelToThree(this.get("geometry"),"geometry"),this.convertThreeTypeModelToThree(this.get("material"),"material"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("material"),this.three_properties.push("geometry"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.material="convertThreeType",this.property_converters.geometry="convertThreeType",this.property_converters.type=null}},{model_name:"LineModel",serializers:o.extend({material:{deserialize:i.unpack_models},geometry:{deserialize:i.unpack_models}},s.serializers)}));e.exports={LineModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(8).MaterialModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{uniforms:{},clipping:!1,extensions:{},fog:!1,fragmentShader:"",lights:!1,linewidth:1,morphNormals:!1,morphTargets:!1,flatShading:!1,skinning:!1,uniformsNeedUpdate:!1,vertexShader:"",wireframe:!1,wireframeLinewidth:1,type:"ShaderMaterial"})},constructThreeObject:function(){var e=new n.ShaderMaterial({uniforms:this.convertUniformDictModelToThree(this.get("uniforms"),"uniforms"),clipping:this.convertBoolModelToThree(this.get("clipping"),"clipping"),extensions:this.get("extensions"),fog:this.convertBoolModelToThree(this.get("fog"),"fog"),fragmentShader:this.get("fragmentShader"),lights:this.convertBoolModelToThree(this.get("lights"),"lights"),linewidth:this.convertFloatModelToThree(this.get("linewidth"),"linewidth"),morphNormals:this.convertBoolModelToThree(this.get("morphNormals"),"morphNormals"),morphTargets:this.convertBoolModelToThree(this.get("morphTargets"),"morphTargets"),flatShading:this.convertBoolModelToThree(this.get("flatShading"),"flatShading"),skinning:this.convertBoolModelToThree(this.get("skinning"),"skinning"),uniformsNeedUpdate:this.convertBoolModelToThree(this.get("uniformsNeedUpdate"),"uniformsNeedUpdate"),vertexShader:this.get("vertexShader"),wireframe:this.convertBoolModelToThree(this.get("wireframe"),"wireframe"),wireframeLinewidth:this.convertFloatModelToThree(this.get("wireframeLinewidth"),"wireframeLinewidth"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.extensions=!0,this.props_created_by_three.type=!0,this.property_converters.uniforms="convertUniformDict",this.property_converters.clipping="convertBool",this.property_converters.extensions=null,this.property_converters.fog="convertBool",this.property_converters.fragmentShader=null,this.property_converters.lights="convertBool",this.property_converters.linewidth="convertFloat",this.property_converters.morphNormals="convertBool",this.property_converters.morphTargets="convertBool",this.property_converters.flatShading="convertBool",this.property_converters.skinning="convertBool",this.property_converters.uniformsNeedUpdate="convertBool",this.property_converters.vertexShader=null,this.property_converters.wireframe="convertBool",this.property_converters.wireframeLinewidth="convertFloat",this.property_converters.type=null,this.property_assigners.uniforms="assignDict",this.property_assigners.extensions="assignDict"}},{model_name:"ShaderMaterialModel",serializers:o.extend({},i.serializers)});e.exports={ShaderMaterialModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3)),s=r(4).ThreeModel,a=s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{array:null,stride:0,dynamic:!1,version:0,needsUpdate:!1})},constructThreeObject:function(){var e=new n.InterleavedBuffer(this.convertArrayBufferModelToThree(this.get("array"),"array"),this.get("stride"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.datawidget_properties.push("array"),this.props_created_by_three.version=!0,this.props_created_by_three.needsUpdate=!0,this.property_converters.array="convertArrayBuffer",this.property_converters.stride=null,this.property_converters.dynamic="convertBool",this.property_converters.version=null,this.property_converters.needsUpdate="convertBool"}},{model_name:"InterleavedBufferModel",serializers:o.extend({array:i.data_union_serialization},s.serializers)});e.exports={InterleavedBufferModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(25).InterleavedBufferModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{data:null,itemSize:0,offset:0,normalized:!0})},constructThreeObject:function(){var e=new n.InterleavedBufferAttribute(this.convertThreeTypeModelToThree(this.get("data"),"data"),this.get("itemSize"),this.get("offset"),this.convertBoolModelToThree(this.get("normalized"),"normalized"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("data"),this.property_converters.data="convertThreeType",this.property_converters.itemSize=null,this.property_converters.offset=null,this.property_converters.normalized="convertBool"}},{model_name:"InterleavedBufferAttributeModel",serializers:o.extend({data:{deserialize:i.unpack_models}},s.serializers)}));e.exports={InterleavedBufferAttributeModel:a}},function(e,t,r){r(1);var o=r(265),n=o.PerspectiveCameraModel.extend({syncToThreeObj:function(){o.PerspectiveCameraModel.prototype.syncToThreeObj.apply(this,arguments),this.obj.updateProjectionMatrix()}});e.exports={PerspectiveCameraModel:n}},function(e,t,r){var o=r(0),n=function(e,t){var r,n,i,s,a;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new o.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:o.MOUSE.LEFT,ZOOM:o.MOUSE.MIDDLE,PAN:o.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return y.phi},this.getAzimuthalAngle=function(){return y.theta},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(c),l.update(),d=u.NONE},this.update=(r=new o.Vector3,n=(new o.Quaternion).setFromUnitVectors(e.up,new o.Vector3(0,1,0)),i=n.clone().inverse(),s=new o.Vector3,a=new o.Quaternion,function(){var e=l.object.position;return r.copy(e).sub(l.target),r.applyQuaternion(n),y.setFromVector3(r),l.autoRotate&&d===u.NONE&&F(2*Math.PI/60/60*l.autoRotateSpeed),y.theta+=v.theta,y.phi+=v.phi,y.theta=Math.max(l.minAzimuthAngle,Math.min(l.maxAzimuthAngle,y.theta)),y.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,y.phi)),y.makeSafe(),y.radius*=m,y.radius=Math.max(l.minDistance,Math.min(l.maxDistance,y.radius)),l.target.add(g),r.setFromSpherical(y),r.applyQuaternion(i),e.copy(l.target).add(r),l.object.lookAt(l.target),void 0!==l.object.focus&&(l.object.focus=l.object.position.distanceTo(l.target)),!0===l.enableDamping?(v.theta*=1-l.dampingFactor,v.phi*=1-l.dampingFactor):v.set(0,0,0),m=1,g.set(0,0,0),!!(_||s.distanceToSquared(l.object.position)>f||8*(1-a.dot(l.object.quaternion))>f)&&(l.dispatchEvent(c),s.copy(l.object.position),a.copy(l.object.quaternion),_=!1,!0)}),this.connectEvents=function(e){e&&(l.domElement=e),l.domElement.addEventListener("contextmenu",U,!1),l.domElement.addEventListener("mousedown",D,!1),l.domElement.addEventListener("mousewheel",I,{passive:!1}),l.domElement.addEventListener("MozMousePixelScroll",I,{passive:!1}),l.domElement.addEventListener("touchstart",W,{passive:!0}),l.domElement.addEventListener("touchend",q,!1),l.domElement.addEventListener("touchmove",H,{passive:!1}),l.domElement.addEventListener("keydown",G,!1)},this.dispose=function(){l.domElement.removeEventListener("contextmenu",U,!1),l.domElement.removeEventListener("mousedown",D,!1),l.domElement.removeEventListener("mousewheel",I,!1),l.domElement.removeEventListener("MozMousePixelScroll",I,!1),l.domElement.removeEventListener("touchstart",W,!1),l.domElement.removeEventListener("touchend",q,!1),l.domElement.removeEventListener("touchmove",H,!1),document.removeEventListener("mousemove",N,!1),document.removeEventListener("mouseup",V,!1),document.removeEventListener("mouseout",V,!1),l.domElement.removeEventListener("keydown",G,!1)};var l=this,c={type:"change"},p={type:"start"},h={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},d=u.NONE,f=1e-6,y=new o.Spherical,v=new o.Spherical,m=1,g=new o.Vector3,_=!1,T=new o.Vector2,b=new o.Vector2,x=new o.Vector2,M=new o.Vector2,w=new o.Vector2,P=new o.Vector2,A=new o.Vector2,j=new o.Vector2,C=new o.Vector2;function S(){return Math.pow(.95,l.zoomSpeed)}function F(e){v.theta-=e}function E(e){v.phi-=e}var z,O=(z=new o.Vector3,function(e,t){z.setFromMatrixColumn(t,0),z.multiplyScalar(-e),g.add(z)}),k=function(){var e=new o.Vector3;return function(t,r){e.setFromMatrixColumn(r,1),e.multiplyScalar(t),g.add(e)}}(),L=function(){var e=new o.Vector3;return function(t,r){var o=l.domElement===document?l.domElement.body:l.domElement;if("PerspectiveCamera"===l.object.type){var n=l.object.position;e.copy(n).sub(l.target);var i=e.length();i*=Math.tan(l.object.fov/2*Math.PI/180),O(2*t*i/o.clientHeight,l.object.matrix),k(2*r*i/o.clientHeight,l.object.matrix)}else"OrthographicCamera"===l.object.type?(O(t*(l.object.right-l.object.left)/l.object.zoom/o.clientWidth,l.object.matrix),k(r*(l.object.top-l.object.bottom)/l.object.zoom/o.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function B(e){"PerspectiveCamera"===l.object.type?m/=e:"OrthographicCamera"===l.object.type?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function R(e){"PerspectiveCamera"===l.object.type?m*=e:"OrthographicCamera"===l.object.type?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function D(e){if(!1!==l.enabled){if(e.preventDefault(),e.button===l.mouseButtons.ORBIT){if(!1===l.enableRotate)return;!function(e){T.set(e.clientX,e.clientY)}(e),d=u.ROTATE}else if(e.button===l.mouseButtons.ZOOM){if(!1===l.enableZoom)return;!function(e){A.set(e.clientX,e.clientY)}(e),d=u.DOLLY}else if(e.button===l.mouseButtons.PAN){if(!1===l.enablePan)return;!function(e){M.set(e.clientX,e.clientY)}(e),d=u.PAN}d!==u.NONE&&(document.addEventListener("mousemove",N,!1),document.addEventListener("mouseup",V,!1),document.addEventListener("mouseout",V,!1),l.dispatchEvent(p))}}function N(e){if(!1!==l.enabled)if(e.preventDefault(),d===u.ROTATE){if(!1===l.enableRotate)return;!function(e){b.set(e.clientX,e.clientY),x.subVectors(b,T);var t=l.domElement===document?l.domElement.body:l.domElement;F(2*Math.PI*x.x/t.clientWidth*l.rotateSpeed),E(2*Math.PI*x.y/t.clientHeight*l.rotateSpeed),T.copy(b),l.update()}(e)}else if(d===u.DOLLY){if(!1===l.enableZoom)return;!function(e){j.set(e.clientX,e.clientY),C.subVectors(j,A),C.y>0?B(S()):C.y<0&&R(S()),A.copy(j),l.update()}(e)}else if(d===u.PAN){if(!1===l.enablePan)return;!function(e){w.set(e.clientX,e.clientY),P.subVectors(w,M),L(P.x,P.y),M.copy(w),l.update()}(e)}}function V(e){!1!==l.enabled&&(e.preventDefault(),e.stopPropagation(),document.removeEventListener("mousemove",N,!1),document.removeEventListener("mouseup",V,!1),document.removeEventListener("mouseout",V,!1),l.dispatchEvent(h),d=u.NONE)}function I(e){!1!==l.enabled&&!1!==l.enableZoom&&d===u.NONE&&(e.preventDefault(),e.stopPropagation(),l.dispatchEvent(p),function(e){var t=0;void 0!==e.wheelDelta?t=e.wheelDelta:void 0!==e.detail&&(t=-e.detail),t>0?R(S()):t<0&&B(S()),l.update()}(e),l.dispatchEvent(h))}function G(e){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(e){switch(e.keyCode){case l.keys.UP:L(0,l.keyPanSpeed),l.update();break;case l.keys.BOTTOM:L(0,-l.keyPanSpeed),l.update();break;case l.keys.LEFT:L(l.keyPanSpeed,0),l.update();break;case l.keys.RIGHT:L(-l.keyPanSpeed,0),l.update()}}(e)}function W(e){if(!1!==l.enabled){switch(e.touches.length){case 1:if(!1===l.enableRotate)return;!function(e){T.set(e.touches[0].pageX,e.touches[0].pageY)}(e),d=u.TOUCH_ROTATE;break;case 2:if(!1===l.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+r*r);A.set(0,o)}(e),d=u.TOUCH_DOLLY;break;case 3:if(!1===l.enablePan)return;!function(e){M.set(e.touches[0].pageX,e.touches[0].pageY)}(e),d=u.TOUCH_PAN;break;default:d=u.NONE}d!==u.NONE&&l.dispatchEvent(p)}}function H(e){if(!1!==l.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===l.enableRotate)return;if(d!==u.TOUCH_ROTATE)return;!function(e){b.set(e.touches[0].pageX,e.touches[0].pageY),x.subVectors(b,T);var t=l.domElement===document?l.domElement.body:l.domElement;F(2*Math.PI*x.x/t.clientWidth*l.rotateSpeed),E(2*Math.PI*x.y/t.clientHeight*l.rotateSpeed),T.copy(b),l.update()}(e);break;case 2:if(!1===l.enableZoom)return;if(d!==u.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+r*r);j.set(0,o),C.subVectors(j,A),C.y>0?R(S()):C.y<0&&B(S()),A.copy(j),l.update()}(e);break;case 3:if(!1===l.enablePan)return;if(d!==u.TOUCH_PAN)return;!function(e){w.set(e.touches[0].pageX,e.touches[0].pageY),P.subVectors(w,M),L(P.x,P.y),M.copy(w),l.update()}(e);break;default:d=u.NONE}}function q(e){!1!==l.enabled&&(l.dispatchEvent(h),d=u.NONE)}function U(e){e.preventDefault()}this.connectEvents(),this.update()};(n.prototype=Object.create(o.EventDispatcher.prototype)).constructor=n,Object.defineProperties(n.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.constraint.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.constraint.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor=e}}}),e.exports={OrbitControls:n}},function(e,t){e.exports.EXTENSION_SPEC_VERSION="1.1.0"},function(e){e.exports={name:"jupyter-threejs",version:"1.1.0",description:"jupyter - threejs bridge",author:"Jupyter-Threejs development team",license:"BSD-3-Clause",main:"dist/index.js",repository:{type:"git",url:"https://github.com/jupyter-widgets/pythreejs.git"},scripts:{clean:"rimraf dist && rimraf ../pythreejs/static && rimraf lab-dist && node ./scripts/clean-generated-files.js","autogen:enums":"node ./scripts/generate-enums.js","autogen:shaders":"node ./scripts/generate-shader-utils.js","autogen:wrappers":"node ./scripts/generate-wrappers.js",autogen:"npm run autogen:shaders && npm run autogen:wrappers","build:bundles":"webpack -d && node ./scripts/copy-files.js","build:bundles-prod":"webpack -p && node ./scripts/copy-files.js","build:labextension":"rimraf lab-dist && mkdirp lab-dist && cd lab-dist && npm pack ..","build:all":"npm run build:labextension",prepublish:"npm run autogen && npm run build:bundles-prod"},devDependencies:{eslint:"^4.18.1","fs-extra":"^6.0.1",glob:"^7.1.2",handlebars:"^4.0.11",rimraf:"^2.6.2",webpack:"^4.1.1","webpack-cli":"^2.0.10"},dependencies:{"@jupyter-widgets/base":"^1.1.10",bluebird:"^3.5.1","jupyter-dataserializers":"^1.1.2",three:"^0.90.0",underscore:"^1.8.3"},keywords:["jupyterlab","extension","jupyterlab-extension","notebook","jupyter","widgets","three"],jupyterlab:{extension:"src/jupyterlab-plugin"}}},function(e,t,r){e.exports.version=r(30).version;var o=[r(297),r(286),r(272),r(267),r(257),r(248),r(233),r(225),r(206),r(174),r(156),r(155),r(151),r(133),r(120),r(104),r(90),r(71),r(69),r(29)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{name:"",color:"white",density:25e-5})},constructThreeObject:function(){var e=new n.FogExp2(this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("density"),"density"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.name=null,this.property_converters.color="convertColor",this.property_converters.density="convertFloat"}},{model_name:"FogExp2Model",serializers:o.extend({},i.serializers)});e.exports={FogExp2Model:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{name:"",color:"white",near:1,far:1e3})},constructThreeObject:function(){var e=new n.Fog(this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("near"),"near"),this.convertFloatModelToThree(this.get("far"),"far"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.name=null,this.property_converters.color="convertColor",this.property_converters.near="convertFloat",this.property_converters.far="convertFloat"}},{model_name:"FogModel",serializers:o.extend({},i.serializers)});e.exports={FogModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(36).BoneModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{bones:[]})},constructThreeObject:function(){var e=new n.Skeleton(this.convertThreeTypeArrayModelToThree(this.get("bones"),"bones"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_nested_properties.push("bones"),this.property_converters.bones="convertThreeTypeArray"}},{model_name:"SkeletonModel",serializers:o.extend({bones:{deserialize:i.unpack_models}},s.serializers)}));e.exports={SkeletonModel:a}},function(e,t,r){var o=r(1),n=r(95).MeshModel,i={serialize:function(e,t){if(void 0===e)return[]}},s=n.extend({},{serializers:o.extend({morphTargetInfluences:i},n.serializers)});e.exports={MeshModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"Bone"})},constructThreeObject:function(){var e=new n.Bone;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.type=null}},{model_name:"BoneModel",serializers:o.extend({},i.serializers)});e.exports={BoneModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(8).MaterialModel),a=(r(9).TextureModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{color:"#ffffff",fog:!1,lights:!1,map:null,rotation:0,type:"SpriteMaterial"})},constructThreeObject:function(){var e=new n.SpriteMaterial({color:this.convertColorModelToThree(this.get("color"),"color"),fog:this.convertBoolModelToThree(this.get("fog"),"fog"),lights:this.convertBoolModelToThree(this.get("lights"),"lights"),map:this.convertThreeTypeModelToThree(this.get("map"),"map"),rotation:this.convertFloatModelToThree(this.get("rotation"),"rotation"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("map"),this.props_created_by_three.type=!0,this.property_converters.color="convertColor",this.property_converters.fog="convertBool",this.property_converters.lights="convertBool",this.property_converters.map="convertThreeType",this.property_converters.rotation="convertFloat",this.property_converters.type=null}},{model_name:"SpriteMaterialModel",serializers:o.extend({map:{deserialize:i.unpack_models}},s.serializers)}));e.exports={SpriteMaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(8).MaterialModel),a=(r(9).TextureModel,r(16).CubeTextureModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{alphaMap:null,aoMap:null,aoMapIntensity:1,bumpMap:null,bumpScale:1,color:"#ffffff",defines:{STANDARD:""},displacementMap:null,displacementScale:1,displacementBias:0,emissive:"#000000",emissiveMap:null,emissiveIntensity:1,envMap:null,envMapIntensity:1,lightMap:null,lightMapIntensity:1,map:null,metalness:.5,metalnessMap:null,morphTargets:!1,morphNormals:!1,normalMap:null,normalScale:[1,1],refractionRatio:.98,roughness:.5,roughnessMap:null,skinning:!1,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",wireframeLinewidth:1,type:"MeshStandardMaterial"})},constructThreeObject:function(){var e=new n.MeshStandardMaterial({alphaMap:this.convertThreeTypeModelToThree(this.get("alphaMap"),"alphaMap"),aoMap:this.convertThreeTypeModelToThree(this.get("aoMap"),"aoMap"),aoMapIntensity:this.convertFloatModelToThree(this.get("aoMapIntensity"),"aoMapIntensity"),bumpMap:this.convertThreeTypeModelToThree(this.get("bumpMap"),"bumpMap"),bumpScale:this.convertFloatModelToThree(this.get("bumpScale"),"bumpScale"),color:this.convertColorModelToThree(this.get("color"),"color"),defines:this.get("defines"),displacementMap:this.convertThreeTypeModelToThree(this.get("displacementMap"),"displacementMap"),displacementScale:this.convertFloatModelToThree(this.get("displacementScale"),"displacementScale"),displacementBias:this.convertFloatModelToThree(this.get("displacementBias"),"displacementBias"),emissive:this.convertColorModelToThree(this.get("emissive"),"emissive"),emissiveMap:this.convertThreeTypeModelToThree(this.get("emissiveMap"),"emissiveMap"),emissiveIntensity:this.convertFloatModelToThree(this.get("emissiveIntensity"),"emissiveIntensity"),envMap:this.convertThreeTypeModelToThree(this.get("envMap"),"envMap"),envMapIntensity:this.convertFloatModelToThree(this.get("envMapIntensity"),"envMapIntensity"),lightMap:this.convertThreeTypeModelToThree(this.get("lightMap"),"lightMap"),lightMapIntensity:this.convertFloatModelToThree(this.get("lightMapIntensity"),"lightMapIntensity"),map:this.convertThreeTypeModelToThree(this.get("map"),"map"),metalness:this.convertFloatModelToThree(this.get("metalness"),"metalness"),metalnessMap:this.convertThreeTypeModelToThree(this.get("metalnessMap"),"metalnessMap"),morphTargets:this.convertBoolModelToThree(this.get("morphTargets"),"morphTargets"),morphNormals:this.convertBoolModelToThree(this.get("morphNormals"),"morphNormals"),normalMap:this.convertThreeTypeModelToThree(this.get("normalMap"),"normalMap"),normalScale:this.convertVectorModelToThree(this.get("normalScale"),"normalScale"),refractionRatio:this.convertFloatModelToThree(this.get("refractionRatio"),"refractionRatio"),roughness:this.convertFloatModelToThree(this.get("roughness"),"roughness"),roughnessMap:this.convertThreeTypeModelToThree(this.get("roughnessMap"),"roughnessMap"),skinning:this.convertBoolModelToThree(this.get("skinning"),"skinning"),wireframe:this.convertBoolModelToThree(this.get("wireframe"),"wireframe"),wireframeLinecap:this.get("wireframeLinecap"),wireframeLinejoin:this.get("wireframeLinejoin"),wireframeLinewidth:this.convertFloatModelToThree(this.get("wireframeLinewidth"),"wireframeLinewidth"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("alphaMap"),this.three_properties.push("aoMap"),this.three_properties.push("bumpMap"),this.three_properties.push("displacementMap"),this.three_properties.push("emissiveMap"),this.three_properties.push("envMap"),this.three_properties.push("lightMap"),this.three_properties.push("map"),this.three_properties.push("metalnessMap"),this.three_properties.push("normalMap"),this.three_properties.push("roughnessMap"),this.props_created_by_three.type=!0,this.property_converters.alphaMap="convertThreeType",this.property_converters.aoMap="convertThreeType",this.property_converters.aoMapIntensity="convertFloat",this.property_converters.bumpMap="convertThreeType",this.property_converters.bumpScale="convertFloat",this.property_converters.color="convertColor",this.property_converters.defines=null,this.property_converters.displacementMap="convertThreeType",this.property_converters.displacementScale="convertFloat",this.property_converters.displacementBias="convertFloat",this.property_converters.emissive="convertColor",this.property_converters.emissiveMap="convertThreeType",this.property_converters.emissiveIntensity="convertFloat",this.property_converters.envMap="convertThreeType",this.property_converters.envMapIntensity="convertFloat",this.property_converters.lightMap="convertThreeType",this.property_converters.lightMapIntensity="convertFloat",this.property_converters.map="convertThreeType",this.property_converters.metalness="convertFloat",this.property_converters.metalnessMap="convertThreeType",this.property_converters.morphTargets="convertBool",this.property_converters.morphNormals="convertBool",this.property_converters.normalMap="convertThreeType",this.property_converters.normalScale="convertVector",this.property_converters.refractionRatio="convertFloat",this.property_converters.roughness="convertFloat",this.property_converters.roughnessMap="convertThreeType",this.property_converters.skinning="convertBool",this.property_converters.wireframe="convertBool",this.property_converters.wireframeLinecap=null,this.property_converters.wireframeLinejoin=null,this.property_converters.wireframeLinewidth="convertFloat",this.property_converters.type=null,this.property_assigners.defines="assignDict",this.property_assigners.normalScale="assignVector"}},{model_name:"MeshStandardMaterialModel",serializers:o.extend({alphaMap:{deserialize:i.unpack_models},aoMap:{deserialize:i.unpack_models},bumpMap:{deserialize:i.unpack_models},displacementMap:{deserialize:i.unpack_models},emissiveMap:{deserialize:i.unpack_models},envMap:{deserialize:i.unpack_models},lightMap:{deserialize:i.unpack_models},map:{deserialize:i.unpack_models},metalnessMap:{deserialize:i.unpack_models},normalMap:{deserialize:i.unpack_models},roughnessMap:{deserialize:i.unpack_models}},s.serializers)}));e.exports={MeshStandardMaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(8).MaterialModel),a=(r(9).TextureModel,r(16).CubeTextureModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{alphaMap:null,aoMap:null,aoMapIntensity:1,bumpMap:null,bumpScale:1,color:"#ffffff",combine:"MultiplyOperation",displacementMap:null,displacementScale:1,displacementBias:0,emissive:"#000000",emissiveMap:null,emissiveIntensity:1,envMap:null,lightMap:null,lightMapIntensity:1,map:null,morphNormals:!1,morphTargets:!1,normalMap:null,normalScale:[1,1],reflectivity:1,refractionRatio:.98,shininess:30,skinning:!1,specular:"#111111",specularMap:null,wireframe:!1,wireframeLinewidth:1,wireframeLinecap:"round",wireframeLinejoin:"round",type:"MeshPhongMaterial"})},constructThreeObject:function(){var e=new n.MeshPhongMaterial({alphaMap:this.convertThreeTypeModelToThree(this.get("alphaMap"),"alphaMap"),aoMap:this.convertThreeTypeModelToThree(this.get("aoMap"),"aoMap"),aoMapIntensity:this.convertFloatModelToThree(this.get("aoMapIntensity"),"aoMapIntensity"),bumpMap:this.convertThreeTypeModelToThree(this.get("bumpMap"),"bumpMap"),bumpScale:this.convertFloatModelToThree(this.get("bumpScale"),"bumpScale"),color:this.convertColorModelToThree(this.get("color"),"color"),combine:this.convertEnumModelToThree(this.get("combine"),"combine"),displacementMap:this.convertThreeTypeModelToThree(this.get("displacementMap"),"displacementMap"),displacementScale:this.convertFloatModelToThree(this.get("displacementScale"),"displacementScale"),displacementBias:this.convertFloatModelToThree(this.get("displacementBias"),"displacementBias"),emissive:this.convertColorModelToThree(this.get("emissive"),"emissive"),emissiveMap:this.convertThreeTypeModelToThree(this.get("emissiveMap"),"emissiveMap"),emissiveIntensity:this.convertFloatModelToThree(this.get("emissiveIntensity"),"emissiveIntensity"),envMap:this.convertThreeTypeModelToThree(this.get("envMap"),"envMap"),lightMap:this.convertThreeTypeModelToThree(this.get("lightMap"),"lightMap"),lightMapIntensity:this.convertFloatModelToThree(this.get("lightMapIntensity"),"lightMapIntensity"),map:this.convertThreeTypeModelToThree(this.get("map"),"map"),morphNormals:this.convertBoolModelToThree(this.get("morphNormals"),"morphNormals"),morphTargets:this.convertBoolModelToThree(this.get("morphTargets"),"morphTargets"),normalMap:this.convertThreeTypeModelToThree(this.get("normalMap"),"normalMap"),normalScale:this.convertVectorModelToThree(this.get("normalScale"),"normalScale"),reflectivity:this.convertFloatModelToThree(this.get("reflectivity"),"reflectivity"),refractionRatio:this.convertFloatModelToThree(this.get("refractionRatio"),"refractionRatio"),shininess:this.convertFloatModelToThree(this.get("shininess"),"shininess"),skinning:this.convertBoolModelToThree(this.get("skinning"),"skinning"),specular:this.convertColorModelToThree(this.get("specular"),"specular"),specularMap:this.convertThreeTypeModelToThree(this.get("specularMap"),"specularMap"),wireframe:this.convertBoolModelToThree(this.get("wireframe"),"wireframe"),wireframeLinewidth:this.convertFloatModelToThree(this.get("wireframeLinewidth"),"wireframeLinewidth"),wireframeLinecap:this.get("wireframeLinecap"),wireframeLinejoin:this.get("wireframeLinejoin"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("alphaMap"),this.three_properties.push("aoMap"),this.three_properties.push("bumpMap"),this.three_properties.push("displacementMap"),this.three_properties.push("emissiveMap"),this.three_properties.push("envMap"),this.three_properties.push("lightMap"),this.three_properties.push("map"),this.three_properties.push("normalMap"),this.three_properties.push("specularMap"),this.props_created_by_three.type=!0,this.enum_property_types.combine="Operations",this.property_converters.alphaMap="convertThreeType",this.property_converters.aoMap="convertThreeType",this.property_converters.aoMapIntensity="convertFloat",this.property_converters.bumpMap="convertThreeType",this.property_converters.bumpScale="convertFloat",this.property_converters.color="convertColor",this.property_converters.combine="convertEnum",this.property_converters.displacementMap="convertThreeType",this.property_converters.displacementScale="convertFloat",this.property_converters.displacementBias="convertFloat",this.property_converters.emissive="convertColor",this.property_converters.emissiveMap="convertThreeType",this.property_converters.emissiveIntensity="convertFloat",this.property_converters.envMap="convertThreeType",this.property_converters.lightMap="convertThreeType",this.property_converters.lightMapIntensity="convertFloat",this.property_converters.map="convertThreeType",this.property_converters.morphNormals="convertBool",this.property_converters.morphTargets="convertBool",this.property_converters.normalMap="convertThreeType",this.property_converters.normalScale="convertVector",this.property_converters.reflectivity="convertFloat",this.property_converters.refractionRatio="convertFloat",this.property_converters.shininess="convertFloat",this.property_converters.skinning="convertBool",this.property_converters.specular="convertColor",this.property_converters.specularMap="convertThreeType",this.property_converters.wireframe="convertBool",this.property_converters.wireframeLinewidth="convertFloat",this.property_converters.wireframeLinecap=null,this.property_converters.wireframeLinejoin=null,this.property_converters.type=null,this.property_assigners.normalScale="assignVector"}},{model_name:"MeshPhongMaterialModel",serializers:o.extend({alphaMap:{deserialize:i.unpack_models},aoMap:{deserialize:i.unpack_models},bumpMap:{deserialize:i.unpack_models},displacementMap:{deserialize:i.unpack_models},emissiveMap:{deserialize:i.unpack_models},envMap:{deserialize:i.unpack_models},lightMap:{deserialize:i.unpack_models},map:{deserialize:i.unpack_models},normalMap:{deserialize:i.unpack_models},specularMap:{deserialize:i.unpack_models}},s.serializers)}));e.exports={MeshPhongMaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(12).LightModel),a=(r(5).Object3DModel,r(13).LightShadowModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{target:"uninitialized",distance:0,angle:1.0471975511965976,penumbra:0,decay:1,shadow:"uninitialized",type:"SpotLight"})},constructThreeObject:function(){var e=new n.SpotLight(this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("intensity"),"intensity"),this.convertFloatModelToThree(this.get("distance"),"distance"),this.convertFloatModelToThree(this.get("angle"),"angle"),this.convertFloatModelToThree(this.get("penumbra"),"penumbra"),this.convertFloatModelToThree(this.get("decay"),"decay"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("target"),this.three_properties.push("shadow"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.target="convertThreeType",this.property_converters.distance="convertFloat",this.property_converters.angle="convertFloat",this.property_converters.penumbra="convertFloat",this.property_converters.decay="convertFloat",this.property_converters.shadow="convertThreeType",this.property_converters.type=null}},{model_name:"SpotLightModel",serializers:o.extend({target:{deserialize:i.unpack_models},shadow:{deserialize:i.unpack_models}},s.serializers)}));e.exports={SpotLightModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(12).LightModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{width:10,height:10,type:"RectAreaLight"})},constructThreeObject:function(){var e=new n.RectAreaLight(this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("intensity"),"intensity"),this.convertFloatModelToThree(this.get("width"),"width"),this.convertFloatModelToThree(this.get("height"),"height"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.width="convertFloat",this.property_converters.height="convertFloat",this.property_converters.type=null}},{model_name:"RectAreaLightModel",serializers:o.extend({},i.serializers)});e.exports={RectAreaLightModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(12).LightModel),a=(r(13).LightShadowModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{power:12.566370614359172,distance:0,decay:1,shadow:"uninitialized",type:"PointLight"})},constructThreeObject:function(){var e=new n.PointLight(this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("intensity"),"intensity"),this.convertFloatModelToThree(this.get("distance"),"distance"),this.convertFloatModelToThree(this.get("decay"),"decay"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("shadow"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.power="convertFloat",this.property_converters.distance="convertFloat",this.property_converters.decay="convertFloat",this.property_converters.shadow="convertThreeType",this.property_converters.type=null}},{model_name:"PointLightModel",serializers:o.extend({shadow:{deserialize:i.unpack_models}},s.serializers)}));e.exports={PointLightModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(12).LightModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{groundColor:"#000000",type:"HemisphereLight"})},constructThreeObject:function(){var e=new n.HemisphereLight(this.convertColorModelToThree(this.get("color"),"color"),this.convertColorModelToThree(this.get("groundColor"),"groundColor"),this.convertFloatModelToThree(this.get("intensity"),"intensity"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.groundColor="convertColor",this.property_converters.type=null}},{model_name:"HemisphereLightModel",serializers:o.extend({},i.serializers)});e.exports={HemisphereLightModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(12).LightModel),a=(r(5).Object3DModel,r(13).LightShadowModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{target:"uninitialized",shadow:"uninitialized",type:"DirectionalLight"})},constructThreeObject:function(){var e=new n.DirectionalLight(this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("intensity"),"intensity"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("target"),this.three_properties.push("shadow"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.target="convertThreeType",this.property_converters.shadow="convertThreeType",this.property_converters.type=null}},{model_name:"DirectionalLightModel",serializers:o.extend({target:{deserialize:i.unpack_models},shadow:{deserialize:i.unpack_models}},s.serializers)}));e.exports={DirectionalLightModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{min:[0,0,0],max:[0,0,0]})},constructThreeObject:function(){var e=new n.Box3(this.convertVectorModelToThree(this.get("min"),"min"),this.convertVectorModelToThree(this.get("max"),"max"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.min="convertVector",this.property_converters.max="convertVector",this.property_assigners.min="assignVector",this.property_assigners.max="assignVector"}},{model_name:"Box3Model",serializers:o.extend({},i.serializers)});e.exports={Box3Model:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Shape;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ShapeModel",serializers:o.extend({},i.serializers)});e.exports={ShapeModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Curve;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CurveModel",serializers:o.extend({},i.serializers)});e.exports={CurveModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{origin:[0,0,0],direction:[0,0,0]})},constructThreeObject:function(){var e=new n.Ray(this.convertVectorModelToThree(this.get("origin"),"origin"),this.convertVectorModelToThree(this.get("direction"),"direction"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.origin="convertVector",this.property_converters.direction="convertVector",this.property_assigners.origin="assignVector",this.property_assigners.direction="assignVector"}},{model_name:"RayModel",serializers:o.extend({},i.serializers)});e.exports={RayModel:s}},function(e,t,r){var o=r(1),n=r(10),i=r(0),s=r(18).createModel,a=r(246).BufferGeometryModel,l=r(20).BufferAttributeModel,c=r(26).InterleavedBufferAttributeModel,p=r(6).BaseGeometryModel,h=r(7).BaseBufferGeometryModel,u=a.extend({createPropertiesArrays:function(){a.prototype.createPropertiesArrays.call(this),this.property_assigners.attributes="assignAttributesMap"},constructFromRef:function(e,t){var r=new i.BufferGeometry,a=e.initPromise.bind(this),d={};if(e instanceof u&&(a=a.then(n.all(o.map(o.values(e.get("attributes")),function(e){return e.initPromise}))).then(n.all(o.map(o.values(e.get("morphAttributes")),function(e){return e.initPromise}))).then(function(){return e.get("index").then(function(e){return e.initPromise})})),e instanceof h)a=a.then(function(){r.copy(e.obj)});else{if(!(e instanceof p))throw new Error("Invalid reference geometry:",e);a=a.then(function(){r.fromGeometry(e.obj)})}return a.then(function(){return n.all(o.map(o.pairs(r.attributes),function(e){var t=e[1].isInterleavedBufferAttribute?c:l;return s(t,this.widget_manager,e[1]).then(function(t){return[e[0],t]})},this))}).then(function(e){d.attributes=o.object(e)}).then(function(){return n.all(o.map(o.pairs(r.morphAttributes),function(e){var t=e[1].isInterleavedBufferAttribute?c:l;return s(t,this.widget_manager,e[1]).then(function(t){return[e[0],t]},this)}))}).then(function(e){d.morphAttributes=o.object(e)}).then(function(){if(r.index){var e=r.index.isInterleavedBufferAttribute?c:l;return s(e,this.widget_manager,r.index).then(function(e){d.index=e},this)}}).then(function(){return d.name=r.name,t||(d._ref_geometry=null),this.set(d,"pushFromThree"),this.save_changes(),r})},constructThreeObject:function(){var e=this.get("_ref_geometry"),t=this.get("_store_ref");if(e)return this.constructFromRef(e,t);var r=new i.BufferGeometry;return n.resolve(r)},assignAttributesMap:function(e,t,r){var n=e[t],i=n?Object.keys(n).sort():[],s=r?Object.keys(r).sort():[],a=o.difference(s,i),l=o.difference(i,s),c=o.intersection(i,s);l.length>0&&console.warn("Cannot remove buffer geometry attributes:",l),a.forEach(function(t){"index"===t?e.setIndex(r[t]):e.addAttribute(t,r[t])});var p=o.filter(c,function(t){return e.getAttribute(t)!==r[t]});p.length>0&&console.warn("Cannot reassign buffer geometry attribute:",p)}});e.exports={BufferGeometryModel:u}},function(e,t,r){var o=r(0),n=function(e,t){var r=this,n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.noRoll=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new o.Vector3;var i=new o.Vector3,s=n.NONE,a=n.NONE,l=new o.Vector3,c=new o.Vector3,p=new o.Vector3,h=new o.Vector2,u=new o.Vector2,d=0,f=0,y=new o.Vector2,v=new o.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var m={type:"change"},g={type:"start"},_={type:"end"};this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var T,b,x,M,w,P,A=(T=new o.Vector2,function(e,t){return T.set((e-r.screen.left)/r.screen.width,(t-r.screen.top)/r.screen.height),T}),j=function(){var e=new o.Vector3,t=new o.Vector3,n=new o.Vector3;return function(o,i){n.set((o-.5*r.screen.width-r.screen.left)/(.5*r.screen.width),(.5*r.screen.height+r.screen.top-i)/(.5*r.screen.height),0);var s=n.length();return r.noRoll?s<Math.SQRT1_2?n.z=Math.sqrt(1-s*s):n.z=.5/s:s>1?n.normalize():n.z=Math.sqrt(1-s*s),l.copy(r.object.position).sub(r.target),e.copy(r.object.up).setLength(n.y),e.add(t.copy(r.object.up).cross(l).setLength(n.x)),e.add(l.setLength(n.z)),e}}();function C(e){e.preventDefault()}function S(e){!1!==r.enabled&&(window.removeEventListener("keydown",S),a=s,s===n.NONE&&(e.keyCode!==r.keys[n.ROTATE]||r.noRotate?e.keyCode!==r.keys[n.ZOOM]||r.noZoom?e.keyCode!==r.keys[n.PAN]||r.noPan||(s=n.PAN):s=n.ZOOM:s=n.ROTATE))}function F(e){!1!==r.enabled&&(s=a,window.addEventListener("keydown",S,!1))}function E(e){!1!==r.enabled&&(e.preventDefault(),e.stopPropagation(),s===n.NONE&&(s=e.button),s!==n.ROTATE||r.noRotate?s!==n.ZOOM||r.noZoom?s!==n.PAN||r.noPan||(y.copy(A(e.pageX,e.pageY)),v.copy(y)):(h.copy(A(e.pageX,e.pageY)),u.copy(h)):(c.copy(j(e.pageX,e.pageY)),p.copy(c)),document.addEventListener("mousemove",z,!1),document.addEventListener("mouseup",O,!1),r.dispatchEvent(g))}function z(e){!1!==r.enabled&&(e.preventDefault(),e.stopPropagation(),s!==n.ROTATE||r.noRotate?s!==n.ZOOM||r.noZoom?s!==n.PAN||r.noPan||v.copy(A(e.pageX,e.pageY)):u.copy(A(e.pageX,e.pageY)):p.copy(j(e.pageX,e.pageY)),r.update())}function O(e){!1!==r.enabled&&(e.preventDefault(),e.stopPropagation(),r.update(),s=n.NONE,document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",O),r.dispatchEvent(_))}function k(e){if(!1!==r.enabled&&!0!==r.noZoom){e.preventDefault(),e.stopPropagation();var t=0;e.wheelDelta?t=e.wheelDelta/40:e.detail&&(t=-e.detail/3),h.y+=.01*t,r.dispatchEvent(g),r.dispatchEvent(_)}}function L(e){if(!1!==r.enabled){switch(e.touches.length){case 1:s=n.TOUCH_ROTATE,c.copy(j(e.touches[0].pageX,e.touches[0].pageY)),p.copy(c);break;case 2:s=n.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;f=d=Math.sqrt(t*t+o*o);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;y.copy(A(i,a)),v.copy(y);break;default:s=n.NONE}r.dispatchEvent(g)}}function B(e){if(!1!==r.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:p.copy(j(e.touches[0].pageX,e.touches[0].pageY));break;case 2:var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY;f=Math.sqrt(t*t+o*o);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,a=(e.touches[0].pageY+e.touches[1].pageY)/2;v.copy(A(i,a));break;default:s=n.NONE}}function R(e){if(!1!==r.enabled){switch(e.touches.length){case 1:p.copy(j(e.touches[0].pageX,e.touches[0].pageY)),c.copy(p);break;case 2:d=f=0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;v.copy(A(t,o)),y.copy(v)}s=n.NONE,r.dispatchEvent(_)}}this.rotateCamera=(b=new o.Vector3,x=new o.Quaternion,function(){var e=Math.acos(c.dot(p)/c.length()/p.length());e&&(b.crossVectors(c,p).normalize(),e*=r.rotateSpeed,x.setFromAxisAngle(b,-e),l.applyQuaternion(x),r.object.up.applyQuaternion(x),p.applyQuaternion(x),r.staticMoving?c.copy(p):(x.setFromAxisAngle(b,e*(r.dynamicDampingFactor-1)),c.applyQuaternion(x)))}),this.zoomCamera=function(){if(s===n.TOUCH_ZOOM_PAN){var e=d/f;d=f,l.multiplyScalar(e)}else{1!==(e=1+(u.y-h.y)*r.zoomSpeed)&&e>0&&(l.multiplyScalar(e),r.staticMoving?h.copy(u):h.y+=(u.y-h.y)*this.dynamicDampingFactor)}},this.panCamera=(M=new o.Vector2,w=new o.Vector3,P=new o.Vector3,function(){M.copy(v).sub(y),M.lengthSq()&&(M.multiplyScalar(l.length()*r.panSpeed),P.copy(l).cross(r.object.up).setLength(M.x),P.add(w.copy(r.object.up).setLength(M.y)),r.object.position.add(P),r.target.add(P),r.staticMoving?y.copy(v):y.add(M.subVectors(v,y).multiplyScalar(r.dynamicDampingFactor)))}),this.checkDistances=function(){r.noZoom&&r.noPan||(l.lengthSq()>r.maxDistance*r.maxDistance&&r.object.position.addVectors(r.target,l.setLength(r.maxDistance)),l.lengthSq()<r.minDistance*r.minDistance&&r.object.position.addVectors(r.target,l.setLength(r.minDistance)))},this.update=function(){l.subVectors(r.object.position,r.target),r.noRotate||r.rotateCamera(),r.noZoom||r.zoomCamera(),r.noPan||r.panCamera(),r.object.position.addVectors(r.target,l),r.checkDistances(),r.object.lookAt(r.target),i.distanceToSquared(r.object.position)>1e-6&&(r.dispatchEvent(m),i.copy(r.object.position))},this.reset=function(){s=n.NONE,a=n.NONE,r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.up.copy(r.up0),l.subVectors(r.object.position,r.target),r.object.lookAt(r.target),r.dispatchEvent(m),i.copy(r.object.position)},this.connectEvents=function(e){e&&(r.domElement=e),r.domElement.addEventListener("contextmenu",C,!1),r.domElement.addEventListener("mousedown",E,!1),r.domElement.addEventListener("mousewheel",k,!1),r.domElement.addEventListener("DOMMouseScroll",k,!1),r.domElement.addEventListener("touchstart",L,!1),r.domElement.addEventListener("touchend",R,!1),r.domElement.addEventListener("touchmove",B,!1),r.domElement.addEventListener("keydown",S,!1),r.domElement.addEventListener("keyup",F,!1)},this.dispose=function(){r.domElement.removeEventListener("contextmenu",C,!1),r.domElement.removeEventListener("mousedown",E,!1),r.domElement.removeEventListener("mousewheel",k,!1),r.domElement.removeEventListener("DOMMouseScroll",k,!1),r.domElement.removeEventListener("touchstart",L,!1),r.domElement.removeEventListener("touchend",R,!1),r.domElement.removeEventListener("touchmove",B,!1),document.removeEventListener("mousemove",z,!1),document.removeEventListener("mouseup",O,!1),r.domElement.removeEventListener("keydown",S,!1),r.domElement.removeEventListener("keyup",F,!1)},this.connectEvents(),this.handleResize(),this.update()};(n.prototype=Object.create(o.EventDispatcher.prototype)).constructor=n,e.exports={TrackballControls:n}},function(e,t,r){var o=r(0),n=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.movementSpeed=1,this.rollSpeed=.05,this.moveVector=new o.Vector3(0,0,0),this.rotationVector=new o.Vector3(0,0,0),this.tmpQuaternion=new o.Quaternion;var r=new o.Vector3,n=new o.Quaternion,i=this;this.mouseStatus=0,this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)},this.update=function(e){var t=e*this.movementSpeed,o=e*this.rollSpeed;return this.object.position.addScaledVector(this.moveVector,t),this.tmpQuaternion.set(this.rotationVector.x*o,this.rotationVector.y*o,this.rotationVector.z*o,1).normalize(),this.object.quaternion.multiply(this.tmpQuaternion),this.object.rotation.setFromQuaternion(this.object.quaternion,this.object.rotation.order),(r.distanceToSquared(this.object.position)>1e-6||8*(1-n.dot(this.object.quaternion))>1e-6)&&(this.dispatchEvent(s),r.copy(this.object.position),n.copy(this.object.quaternion),!0)},this.dispose=function(){},this.connectEvents=function(e){e&&(i.domElement=e)};var s={type:"change"};this.update(0)};(n.prototype=Object.create(o.EventDispatcher.prototype)).constructor=n,e.exports={FlyControls:n}},function(e,t,r){var o=r(0),n=function(e,t,r,n,i,s,a){o.Camera.call(this),this.fov=r,this.far=i,this.near=n,this.focus=(n+i)/2,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2,this.aspect=e/t,this.zoom=1,this.view=null,this.cameraO=new o.OrthographicCamera(e/-2,e/2,t/2,t/-2,s,a),this.cameraP=new o.PerspectiveCamera(r,e/t,n,i),this.impersonate=!0,this.toPerspective()};(n.prototype=Object.create(o.Camera.prototype)).constructor=n,Object.defineProperties(n.prototype,{isPerspectiveCamera:{get:function(){if(this.impersonate)return this.inPerspectiveMode}},isOrthographicCamera:{get:function(){if(this.impersonate)return this.inOrthographicMode}}}),n.prototype.toPerspective=function(){this.near=this.cameraP.near,this.far=this.cameraP.far,this.cameraP.aspect=this.aspect,this.cameraP.fov=this.fov/this.zoom,this.cameraP.view=this.view,this.cameraP.updateProjectionMatrix(),this.projectionMatrix=this.cameraP.projectionMatrix,this.inPerspectiveMode=!0,this.inOrthographicMode=!1,this.type="PerspectiveCamera"},n.prototype.toOrthographic=function(){var e=this.fov,t=this.cameraP.aspect,r=Math.tan(e*Math.PI/180/2)*this.focus,o=r*t;r/=this.zoom,o/=this.zoom,this.cameraO.left=-o,this.cameraO.right=o,this.cameraO.top=r,this.cameraO.bottom=-r,this.cameraO.view=this.view,this.cameraO.updateProjectionMatrix(),this.near=this.cameraO.near,this.far=this.cameraO.far,this.projectionMatrix=this.cameraO.projectionMatrix,this.inPerspectiveMode=!1,this.inOrthographicMode=!0,this.type="OrthographicCamera"},n.prototype.copy=function(e){return o.Camera.prototype.copy.call(this,e),this.fov=e.fov,this.far=e.far,this.near=e.near,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this.aspect=e.aspect,this.cameraO.copy(e.cameraO),this.cameraP.copy(e.cameraP),this.inOrthographicMode=e.inOrthographicMode,this.inPerspectiveMode=e.inPerspectiveMode,this},n.prototype.setViewOffset=function(e,t,r,o,n,i){this.view={fullWidth:e,fullHeight:t,offsetX:r,offsetY:o,width:n,height:i},this.inPerspectiveMode?(this.aspect=e/t,this.toPerspective()):this.toOrthographic()},n.prototype.clearViewOffset=function(){this.view=null,this.updateProjectionMatrix()},n.prototype.setSize=function(e,t){this.cameraP.aspect=e/t,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2},n.prototype.setFov=function(e){this.fov=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},n.prototype.updateProjectionMatrix=function(){this.inPerspectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())},n.prototype.setLens=function(e,t){void 0===t&&(t=35);var r=.5*t/(e*Math.max(this.cameraP.aspect,1)),n=2*o.Math.RAD2DEG*Math.atan(r);return this.setFov(n),n},n.prototype.setZoom=function(e){this.zoom=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},n.prototype.toFrontView=function(){this.rotation.x=0,this.rotation.y=0,this.rotation.z=0},n.prototype.toBackView=function(){this.rotation.x=0,this.rotation.y=Math.PI,this.rotation.z=0},n.prototype.toLeftView=function(){this.rotation.x=0,this.rotation.y=-Math.PI/2,this.rotation.z=0},n.prototype.toRightView=function(){this.rotation.x=0,this.rotation.y=Math.PI/2,this.rotation.z=0},n.prototype.toTopView=function(){this.rotation.x=-Math.PI/2,this.rotation.y=0,this.rotation.z=0},n.prototype.toBottomView=function(){this.rotation.x=Math.PI/2,this.rotation.y=0,this.rotation.z=0},e.exports={CombinedCamera:n}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(11).KeyframeTrackModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{name:null,duration:-1,tracks:[]})},constructThreeObject:function(){var e=new n.AnimationClip(this.get("name"),this.convertFloatModelToThree(this.get("duration"),"duration"),this.convertThreeTypeArrayModelToThree(this.get("tracks"),"tracks"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_nested_properties.push("tracks"),this.props_created_by_three.duration=!0,this.property_converters.name=null,this.property_converters.duration="convertFloat",this.property_converters.tracks="convertThreeTypeArray"}},{model_name:"AnimationClipModel",serializers:o.extend({tracks:{deserialize:i.unpack_models}},s.serializers)}));e.exports={AnimationClipModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(s=r(4).ThreeModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{rootObject:null,time:0,timeScale:1})},constructThreeObject:function(){var e=new n.AnimationMixer(this.convertThreeTypeModelToThree(this.get("rootObject"),"rootObject"),this.convertFloatModelToThree(this.get("time"),"time"),this.convertFloatModelToThree(this.get("timeScale"),"timeScale"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("rootObject"),this.property_converters.rootObject="convertThreeType",this.property_converters.time="convertFloat",this.property_converters.timeScale="convertFloat"}},{model_name:"AnimationMixerModel",serializers:o.extend({rootObject:{deserialize:i.unpack_models}},s.serializers)});e.exports={AnimationMixerModel:a}},function(e,t){e.exports={Equations:{100:"AddEquation",101:"SubtractEquation",102:"ReverseSubtractEquation",103:"MinEquation",104:"MaxEquation"},BlendFactors:{200:"ZeroFactor",201:"OneFactor",202:"SrcColorFactor",203:"OneMinusSrcColorFactor",204:"SrcAlphaFactor",205:"OneMinusSrcAlphaFactor",206:"DstAlphaFactor",207:"OneMinusDstAlphaFactor",208:"DstColorFactor",209:"OneMinusDstColorFactor",210:"SrcAlphaSaturateFactor"},Side:{0:"FrontSide",1:"BackSide",2:"DoubleSide"},Shading:{1:"FlatShading",2:"SmoothShading"},Colors:{0:"NoColors",1:"FaceColors",2:"VertexColors"},BlendingMode:{0:"NoBlending",1:"NormalBlending",2:"AdditiveBlending",3:"SubtractiveBlending",4:"MultiplyBlending",5:"CustomBlending"},DepthMode:{0:"NeverDepth",1:"AlwaysDepth",2:"LessDepth",3:"LessEqualDepth",4:"EqualDepth",5:"GreaterEqualDepth",6:"GreaterDepth",7:"NotEqualDepth"},Operations:{0:"MultiplyOperation",1:"MixOperation",2:"AddOperation"},MappingModes:{300:"UVMapping",301:"CubeReflectionMapping",302:"CubeRefractionMapping",303:"EquirectangularReflectionMapping",304:"EquirectangularRefractionMapping",305:"SphericalReflectionMapping",306:"CubeUVReflectionMapping",307:"CubeUVRefractionMapping"},WrappingModes:{1000:"RepeatWrapping",1001:"ClampToEdgeWrapping",1002:"MirroredRepeatWrapping"},Filters:{1003:"NearestFilter",1004:"NearestMipMapNearestFilter",1005:"NearestMipMapLinearFilter",1006:"LinearFilter",1007:"LinearMipMapNearestFilter",1008:"LinearMipMapLinearFilter"},DataTypes:{1009:"UnsignedByteType",1010:"ByteType",1011:"ShortType",1012:"UnsignedShortType",1013:"IntType",1014:"UnsignedIntType",1015:"FloatType",1016:"HalfFloatType"},PixelTypes:{1017:"UnsignedShort4444Type",1018:"UnsignedShort5551Type",1019:"UnsignedShort565Type",1020:"UnsignedInt248Type"},PixelFormats:{1021:"AlphaFormat",1022:"RGBFormat",1023:"RGBAFormat",1024:"LuminanceFormat",1025:"LuminanceAlphaFormat",1026:"DepthFormat",1027:"DepthStencilFormat"},DepthFormats:{1026:"DepthFormat",1027:"DepthStencilFormat"},CompressedTextureFormats:{33776:"RGB_S3TC_DXT1_Format",33777:"RGBA_S3TC_DXT1_Format",33778:"RGBA_S3TC_DXT3_Format",33779:"RGBA_S3TC_DXT5_Format",35840:"RGB_PVRTC_4BPPV1_Format",35841:"RGB_PVRTC_2BPPV1_Format",35842:"RGBA_PVRTC_4BPPV1_Format",35843:"RGBA_PVRTC_2BPPV1_Format",36196:"RGB_ETC1_Format",37808:"RGBA_ASTC_4x4_Format",37809:"RGBA_ASTC_5x4_Format",37810:"RGBA_ASTC_5x5_Format",37811:"RGBA_ASTC_6x5_Format",37812:"RGBA_ASTC_6x6_Format",37813:"RGBA_ASTC_8x5_Format",37814:"RGBA_ASTC_8x6_Format",37815:"RGBA_ASTC_8x8_Format",37816:"RGBA_ASTC_10x5_Format",37817:"RGBA_ASTC_10x6_Format",37818:"RGBA_ASTC_10x8_Format",37819:"RGBA_ASTC_10x10_Format",37820:"RGBA_ASTC_12x10_Format",37821:"RGBA_ASTC_12x12_Format"},TextureEncodings:{3000:"LinearEncoding",3001:"sRGBEncoding",3002:"RGBEEncoding",3003:"LogLuvEncoding",3004:"RGBM7Encoding",3005:"RGBM16Encoding",3006:"RGBDEncoding",3007:"GammaEncoding"},CullFaceModes:{0:"CullFaceNone",1:"CullFaceBack",2:"CullFaceFront",3:"CullFaceFrontBack"},FrontFaceDirection:{0:"FrontFaceDirectionCW",1:"FrontFaceDirectionCCW"},ShadowTypes:{0:"BasicShadowMap",1:"PCFShadowMap",2:"PCFSoftShadowMap"},ToneMappings:{0:"NoToneMapping",1:"LinearToneMapping",2:"ReinhardToneMapping",3:"Uncharted2ToneMapping",4:"CineonToneMapping"},LoopModes:{2200:"LoopOnce",2201:"LoopRepeat",2202:"LoopPingPong"},InterpolationModes:{2300:"InterpolateDiscrete",2301:"InterpolateLinear",2302:"InterpolateSmooth"},EndingModes:{2400:"ZeroCurvatureEnding",2401:"ZeroSlopeEnding",2402:"WrapAroundEnding"},DrawModes:{0:"TrianglesDrawMode",1:"TriangleStripDrawMode",2:"TriangleFanDrawMode"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(21);function n(e){if("array"===e||"buffer"===e||"generic"===e)throw new Error("Cannot serialize ndarray with dtype: "+e+".");return"uint8_clamped"===e&&(e="uint8"),e}function i(e,r){return null===e?null:o(new t.typesToArray[e.dtype](e.buffer.buffer),e.shape)}function s(e,t){if(null===e)return null;var r=n(e.dtype);return{shape:e.shape,dtype:r,buffer:e.data}}t.ensureSerializableDtype=n,t.JSONToArray=i,t.arrayToJSON=s,t.array_serialization={deserialize:i,serialize:s},t.typesToArray={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint8_clamped:Uint8ClampedArray,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array}},function(e,t,r){var o=r(1),n=r(0);function i(){this._collection=[]}function s(){this.numCreated=0,this.freePool=new i,this.claimedPool=new i}o.extend(i.prototype,{push:function(e,t){this._collection.push({key:e,value:t})},pop:function(e){for(var t=0,r=this._collection.length;t<r;++t){var n=this._collection[t];if(o.isEqual(n.key,e))return this._collection.splice(t,1),n.value}return null},shift:function(){return this._collection.shift().value},find:function(e){return o.find(this._collection,function(t){return e(t.value)})},popFind:function(e){for(var t=0,r=this._collection.length;t<r;++t){var o=this._collection[t];if(e(o.value))return this._collection.splice(t,1),o}return null},length:function(){return this._collection.length}}),o.extend(s.prototype,{_createRenderer:function(e){var t=new n.WebGLRenderer(o.extend({},e,{preserveDrawingBuffer:!0}));return t.setPixelRatio(window.devicePixelRatio||1),t.context.canvas.addEventListener("webglcontextlost",this.onContextLost.bind(this),!1),t.poolId=this.numCreated,this.numCreated++,t},_replaceRenderer:function(e,t){var r=e.poolId;return e.dispose(),this.numCreated--,(e=this._createRenderer(t)).poolId=r,e},acquire:function(e,t){var r;if(console.debug("RendererPool.acquiring..."),this.freePool.length()>0){var o=this.freePool.pop(e);o?r=o.renderer:(o=this.freePool.shift(),r=this._replaceRenderer(o.renderer,e))}else if(this.numCreated<8)r=this._createRenderer(e);else{var n=this.claimedPool.pop(e),i=null===n;i&&(n=this.claimedPool.shift()),r=n.renderer;try{n.onReclaim()}catch(e){throw this.freePool.push(null,r),e}i&&(r=this._replaceRenderer(n.renderer,e))}return console.debug("RendererPool.acquire(id="+r.poolId+")"),this.claimedPool.push(e,function(e,t){return{id:e.poolId,claimTime:new Date,renderer:e,onReclaim:t}}(r,t)),r.clear(),r},release:function(e){console.debug("RendererPool.release(id="+e.poolId+")");var t=e.poolId,r=this.claimedPool.popFind(function(e){return e.renderer.poolId===t});r&&(this.freePool.push(r.key,r.value),r.value.onReclaim())},onContextLost:function(e){var t=this.claimedPool.popFind(function(t){return t.renderer.domElement===e.target});t?(this.freePool.push(t.key,t.value),t.value.onReclaim()):console.warn("Could not find lost context")}}),e.exports=new s},function(e,t){var r,o,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var l,c=[],p=!1,h=-1;function u(){p&&l&&(p=!1,l.length?c=l.concat(c):h=-1,c.length&&d())}function d(){if(!p){var e=a(u);p=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,p=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||p||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.VideoTexture;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"VideoTextureModel",serializers:o.extend({},i.serializers)});e.exports={VideoTextureModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(9).TextureModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{color:"white",fontFace:"Arial",size:12,string:"",squareTexture:!0})},constructThreeObject:function(){var e=new n.TextTexture(this.get("string"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.id=!0,this.props_created_by_three.version=!0,this.property_converters.color="convertColor",this.property_converters.fontFace=null,this.property_converters.size=null,this.property_converters.string=null,this.property_converters.squareTexture="convertBool"}},{model_name:"TextTextureModel",serializers:o.extend({},i.serializers)});e.exports={TextTextureModel:s}},function(e,t,r){var o=r(10),n=r(0),i=r(60).TextTextureModel,s=i.extend({constructThreeObjectAsync:function(){var e=this;return new o(function(t,r){var o=e.buildCanvas();return t(new n.CanvasTexture(o))})},syncToThreeObj:function(e){i.prototype.syncToThreeObj.apply(this,arguments);var t=this.buildCanvas();this.obj.image=t,this.obj.needsUpdate=!0,this.set({version:this.obj.version},"pushFromThree"),this.save_changes()},buildCanvas:function(){var e=this.get("fontFace"),t=this.get("size"),r=this.get("color"),o=this.get("string"),n=document.createElement("canvas"),i=n.getContext("2d");n.height=t+2;var s="Normal "+t+"px "+e;i.font=s;var a=i.measureText(o),l=Math.ceil(a.width)+2;return n.width=l,this.get("squareTexture")&&(n.height=n.width=Math.max(n.width,n.height)),i.textAlign="center",i.textBaseline="middle",i.fillStyle=r,i.font=s,i.fillText(o,n.width/2,n.height/2),n}});e.exports={TextTextureModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(9).TextureModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{imageUri:""})},constructThreeObject:function(){var e=new n.ImageTexture(this.get("imageUri"),this.convertEnumModelToThree(this.get("mapping"),"mapping"),this.convertEnumModelToThree(this.get("wrapS"),"wrapS"),this.convertEnumModelToThree(this.get("wrapT"),"wrapT"),this.convertEnumModelToThree(this.get("magFilter"),"magFilter"),this.convertEnumModelToThree(this.get("minFilter"),"minFilter"),this.convertEnumModelToThree(this.get("format"),"format"),this.convertEnumModelToThree(this.get("type"),"type"),this.convertFloatModelToThree(this.get("anisotropy"),"anisotropy"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.id=!0,this.props_created_by_three.version=!0,this.property_converters.imageUri=null}},{model_name:"ImageTextureModel",serializers:o.extend({},i.serializers)});e.exports={ImageTextureModel:s}},function(e,t,r){var o=r(10),n=r(0),i=r(62).ImageTextureModel.extend({constructThreeObjectAsync:function(){var e=new n.TextureLoader,t=this.widget_manager.resolveUrl(this.get("imageUri"));return new o(function(r,o){t.then(function(t){e.load(t,function(e){return r(e)},function(e){console.debug(t+": "+e.loaded/e.total*100+"%")},function(e){return console.log("Error loading texture: "+t),o(e)})},o)})}});e.exports={ImageTextureModel:i}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(9).TextureModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{width:0,height:0,format:"DepthFormat",type:"UnsignedShortType",minFilter:"NearestFilter",magFilter:"NearestFilter",flipY:!1,generateMipmaps:!1})},constructThreeObject:function(){var e=new n.DepthTexture(this.get("width"),this.get("height"),this.convertEnumModelToThree(this.get("type"),"type"),this.convertEnumModelToThree(this.get("wrapS"),"wrapS"),this.convertEnumModelToThree(this.get("wrapT"),"wrapT"),this.convertEnumModelToThree(this.get("magFilter"),"magFilter"),this.convertEnumModelToThree(this.get("minFilter"),"minFilter"),this.convertFloatModelToThree(this.get("anisotropy"),"anisotropy"),this.convertEnumModelToThree(this.get("format"),"format"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.id=!0,this.props_created_by_three.version=!0,this.enum_property_types.format="DepthFormats",this.enum_property_types.type="DataTypes",this.enum_property_types.minFilter="Filters",this.enum_property_types.magFilter="Filters",this.property_converters.width=null,this.property_converters.height=null,this.property_converters.format="convertEnum",this.property_converters.type="convertEnum",this.property_converters.minFilter="convertEnum",this.property_converters.magFilter="convertEnum",this.property_converters.flipY="convertBool",this.property_converters.generateMipmaps="convertBool"}},{model_name:"DepthTextureModel",serializers:o.extend({},i.serializers)});e.exports={DepthTextureModel:s}},function(e,t,r){var o=r(64),n=o.DepthTextureModel.extend({createPropertiesArrays:function(){o.DepthTextureModel.prototype.createPropertiesArrays.call(this),this.property_mappers.DepthTextureData="mapDepthTextureData"},mapDepthTextureDataModelToThree:function(){var e=this.get("width"),t=this.get("height");this.obj.image={width:e,height:t},this.obj.needsUpdate=!0},mapDepthTextureDataThreeToModel:function(){var e=this.obj.image,t=e.width,r=e.height;this.set("width",t),this.set("height",r)}});e.exports={DepthTextureModel:n}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3)),s=r(9).TextureModel,a=s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{data:null,minFilter:"NearestFilter",magFilter:"NearestFilter",flipY:!1,generateMipmaps:!1})},constructThreeObject:function(){var e=new n.DataTexture(this.convertArrayBufferModelToThree(this.get("data"),"data"),this.convertEnumModelToThree(this.get("format"),"format"),this.convertEnumModelToThree(this.get("type"),"type"),this.convertEnumModelToThree(this.get("mapping"),"mapping"),this.convertEnumModelToThree(this.get("wrapS"),"wrapS"),this.convertEnumModelToThree(this.get("wrapT"),"wrapT"),this.convertEnumModelToThree(this.get("magFilter"),"magFilter"),this.convertEnumModelToThree(this.get("minFilter"),"minFilter"),this.convertFloatModelToThree(this.get("anisotropy"),"anisotropy"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.datawidget_properties.push("data"),this.props_created_by_three.id=!0,this.props_created_by_three.version=!0,this.enum_property_types.minFilter="Filters",this.enum_property_types.magFilter="Filters",this.property_converters.data="convertArrayBuffer",this.property_converters.minFilter="convertEnum",this.property_converters.magFilter="convertEnum",this.property_converters.flipY="convertBool",this.property_converters.generateMipmaps="convertBool"}},{model_name:"DataTextureModel",serializers:o.extend({data:i.data_union_serialization},s.serializers)});e.exports={DataTextureModel:a}},function(e,t,r){var o=r(1),n=r(10),i=r(3),s=r(21),a=r(0),l=r(66).DataTextureModel,c=l.extend({createPropertiesArrays:function(){l.prototype.createPropertiesArrays.call(this),this.property_mappers.DataTextureData="mapDataTextureData",delete this.property_converters.data},decodeData:function(){var e=i.getArray(this.get("data"));if(e.dimension<2||e.dimension>3)throw Error("DataTexture data dimensions need to be 2 or 3, got:",e.dimension);return{data:this.convertArrayBufferModelToThree(e,"data"),width:e.shape[0],height:e.shape[1]}},constructThreeObject:function(){var e=this.decodeData(),t=new e.data.constructor(e.data.length);t.set(e.data);var r=new a.DataTexture(t,e.width,e.height,this.convertEnumModelToThree(this.get("format"),"format"),this.convertEnumModelToThree(this.get("type"),"type"),this.convertEnumModelToThree(this.get("mapping"),"mapping"),this.convertEnumModelToThree(this.get("wrapS"),"wrapS"),this.convertEnumModelToThree(this.get("wrapT"),"wrapT"),this.convertEnumModelToThree(this.get("magFilter"),"magFilter"),this.convertEnumModelToThree(this.get("minFilter"),"minFilter"),this.convertFloatModelToThree(this.get("anisotropy"),"anisotropy"));return r.needsUpdate=!0,n.resolve(r)},mapDataTextureDataModelToThree:function(){var e=this.obj.image,t=this.decodeData();if(e.width!==t.width||e.height!=e.height)throw new Error("Cannot change the dimensions of a DataTexture!");this.obj.image.data.set(t.data),this.obj.needsUpdate=!0,this.set({version:this.obj.version},"pushFromThree")},mapDataTextureDataThreeToModel:function(){var e=this.obj.image,t=this.get("data");t?i.getArray(t).data.set(e.data):this.set("data",s(e.data,[e.width,e.height]))}},{serializers:o.extend({data:i.data_union_serialization},l.serializers)});e.exports={DataTextureModel:c}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(9).TextureModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.CompressedTexture;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.id=!0,this.props_created_by_three.version=!0}},{model_name:"CompressedTextureModel",serializers:o.extend({},i.serializers)});e.exports={CompressedTextureModel:s}},function(e,t,r){var o=[r(68),r(16),r(67),r(65),r(63),r(61),r(9),r(59)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(33).FogModel,r(32).FogExp2Model,r(8).MaterialModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{fog:null,overrideMaterial:null,autoUpdate:!0,background:"#ffffff",type:"Scene"})},constructThreeObject:function(){var e=new n.Scene;return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("fog"),this.three_properties.push("overrideMaterial"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.fog="convertThreeType",this.property_converters.overrideMaterial="convertThreeType",this.property_converters.autoUpdate="convertBool",this.property_converters.background="convertColor",this.property_converters.type=null}},{model_name:"SceneModel",serializers:o.extend({fog:{deserialize:i.unpack_models},overrideMaterial:{deserialize:i.unpack_models}},s.serializers)}));e.exports={SceneModel:a}},function(e,t,r){var o=[r(33),r(32),r(70)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLState;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLStateModel",serializers:o.extend({},i.serializers)});e.exports={WebGLStateModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{enabled:!1,type:"PCFShadowMap"})},constructThreeObject:function(){var e=new n.WebGLShadowMap;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.enum_property_types.type="ShadowTypes",this.property_converters.enabled="convertBool",this.property_converters.type="convertEnum"}},{model_name:"WebGLShadowMapModel",serializers:o.extend({},i.serializers)});e.exports={WebGLShadowMapModel:s}},function(e,t,r){r(1);var o=r(10),n=r(73).WebGLShadowMapModel.extend({constructThreeObject:function(){return o.resolve(null)},processNewObj:function(){},syncToThreeObj:function(e){},synToModel:function(e){}});e.exports={WebGLShadowMapModel:n}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLShader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLShaderModel",serializers:o.extend({},i.serializers)});e.exports={WebGLShaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLProperties;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLPropertiesModel",serializers:o.extend({},i.serializers)});e.exports={WebGLPropertiesModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLPrograms;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLProgramsModel",serializers:o.extend({},i.serializers)});e.exports={WebGLProgramsModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLProgram;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLProgramModel",serializers:o.extend({},i.serializers)});e.exports={WebGLProgramModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLObjects;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLObjectsModel",serializers:o.extend({},i.serializers)});e.exports={WebGLObjectsModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLLights;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLLightsModel",serializers:o.extend({},i.serializers)});e.exports={WebGLLightsModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLIndexedBufferRenderer;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLIndexedBufferRendererModel",serializers:o.extend({},i.serializers)});e.exports={WebGLIndexedBufferRendererModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLGeometries;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLGeometriesModel",serializers:o.extend({},i.serializers)});e.exports={WebGLGeometriesModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLExtensions;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLExtensionsModel",serializers:o.extend({},i.serializers)});e.exports={WebGLExtensionsModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLCapabilities;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLCapabilitiesModel",serializers:o.extend({},i.serializers)});e.exports={WebGLCapabilitiesModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLBufferRenderer;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLBufferRendererModel",serializers:o.extend({},i.serializers)});e.exports={WebGLBufferRendererModel:s}},function(e,t,r){var o=[r(85),r(84),r(83),r(82),r(81),r(80),r(79),r(78),r(77),r(76),r(75),r(74),r(72)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(2),i=r(10),s=r(15).RenderableModel,a=r(15).RenderableView,l=s.extend({defaults:o.extend({},s.prototype.defaults,{_view_name:"WebGLRendererView",_model_name:"WebGLRendererModel",width:200,height:200})},{serializers:o.extend({clippingPlanes:{deserialize:n.unpack_models}},s.serializers)}),c=a.extend({lazyRendererSetup:function(){},objFromCommWidgetId:function(e){return n.unpack_models(e,this.model.widget_manager).then(function(e){return e.obj})},log:function(e){console.log("WGLR("+this.id+"): "+e)},acquireRenderer:function(){a.prototype.acquireRenderer.call(this),this.updateProperties()},onCustomMessage:function(e,t){switch(e.type){case"render":i.props({scene:this.objFromCommWidgetId(e.scene),camera:this.objFromCommWidgetId(e.camera)}).bind(this).then(function(e){this.renderScene(e.scene,e.camera)});break;default:return a.prototype.onCustomMessage.apply(this,arguments)}}});e.exports={WebGLRendererView:c,WebGLRendererModel:l}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLRenderTargetCube;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLRenderTargetCubeModel",serializers:o.extend({},i.serializers)});e.exports={WebGLRenderTargetCubeModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.WebGLRenderTarget;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"WebGLRenderTargetModel",serializers:o.extend({},i.serializers)});e.exports={WebGLRenderTargetModel:s}},function(e,t,r){var o=[r(89),r(88),r(87),r(86)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(37).SpriteMaterialModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{material:null,center:[.5,.5],type:"Sprite"})},constructThreeObject:function(){var e=new n.Sprite(this.convertThreeTypeModelToThree(this.get("material"),"material"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("material"),this.props_created_by_three.skeleton=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.material="convertThreeType",this.property_converters.center="convertVector",this.property_converters.type=null,this.property_assigners.center="assignVector"}},{model_name:"SpriteModel",serializers:o.extend({material:{deserialize:i.unpack_models}},s.serializers)}));e.exports={SpriteModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(35).MeshModel),a=(r(34).SkeletonModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{bindMode:"attached",bindMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],skeleton:null,type:"SkinnedMesh"})},constructThreeObject:function(){var e=new n.SkinnedMesh(this.convertThreeTypeModelToThree(this.get("geometry"),"geometry"),this.convertThreeTypeArrayModelToThree(this.get("material"),"material"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("skeleton"),this.props_created_by_three.morphTargetInfluences=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.bindMode=null,this.property_converters.bindMatrix="convertMatrix",this.property_converters.skeleton="convertThreeType",this.property_converters.type=null,this.property_assigners.bindMatrix="assignMatrix"}},{model_name:"SkinnedMeshModel",serializers:o.extend({skeleton:{deserialize:i.unpack_models}},s.serializers)}));e.exports={SkinnedMeshModel:a}},function(e,t,r){var o=r(92).SkinnedMeshModel,n=o.extend({createPropertiesArrays:function(){o.prototype.createPropertiesArrays.call(this),this.property_assigners.skeleton="assignSkeleton"},assignSkeleton:function(e,t,r){r&&(e.bind(r),e.scale.multiplyScalar(1))}});e.exports={SkinnedMeshModel:n}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(8).MaterialModel,r(6).BaseGeometryModel,r(7).BaseBufferGeometryModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{material:null,geometry:null,type:"Points"})},constructThreeObject:function(){var e=new n.Points(this.convertThreeTypeModelToThree(this.get("geometry"),"geometry"),this.convertThreeTypeModelToThree(this.get("material"),"material"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("material"),this.three_properties.push("geometry"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.material="convertThreeType",this.property_converters.geometry="convertThreeType",this.property_converters.type=null}},{model_name:"PointsModel",serializers:o.extend({material:{deserialize:i.unpack_models},geometry:{deserialize:i.unpack_models}},s.serializers)}));e.exports={PointsModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(8).MaterialModel,r(6).BaseGeometryModel,r(7).BaseBufferGeometryModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{material:[],geometry:null,drawMode:"TrianglesDrawMode",morphTargetInfluences:[],type:"Mesh"})},constructThreeObject:function(){var e=new n.Mesh(this.convertThreeTypeModelToThree(this.get("geometry"),"geometry"),this.convertThreeTypeArrayModelToThree(this.get("material"),"material"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_nested_properties.push("material"),this.three_properties.push("geometry"),this.props_created_by_three.morphTargetInfluences=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.enum_property_types.drawMode="DrawModes",this.property_converters.material="convertThreeTypeArray",this.property_converters.geometry="convertThreeType",this.property_converters.drawMode="convertEnum",this.property_converters.morphTargetInfluences=null,this.property_converters.type=null,this.property_assigners.morphTargetInfluences="assignArray"}},{model_name:"MeshModel",serializers:o.extend({material:{deserialize:i.unpack_models},geometry:{deserialize:i.unpack_models}},s.serializers)}));e.exports={MeshModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(23).LineModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"LineSegments"})},constructThreeObject:function(){var e=new n.LineSegments(this.convertThreeTypeModelToThree(this.get("geometry"),"geometry"),this.convertThreeTypeModelToThree(this.get("material"),"material"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.type=null}},{model_name:"LineSegmentsModel",serializers:o.extend({},i.serializers)});e.exports={LineSegmentsModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(23).LineModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"LineLoop"})},constructThreeObject:function(){var e=new n.LineLoop(this.convertThreeTypeModelToThree(this.get("geometry"),"geometry"),this.convertThreeTypeModelToThree(this.get("material"),"material"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.type=null}},{model_name:"LineLoopModel",serializers:o.extend({},i.serializers)});e.exports={LineLoopModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.LOD;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"LODModel",serializers:o.extend({},i.serializers)});e.exports={LODModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"Group"})},constructThreeObject:function(){var e=new n.Group;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.type=null}},{model_name:"GroupModel",serializers:o.extend({},i.serializers)});e.exports={GroupModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(s=r(5).Object3DModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{original:null,positions:[],merge:!1,type:"CloneArray"})},constructThreeObject:function(){var e=new n.CloneArray(this.convertThreeTypeModelToThree(this.get("original"),"original"),this.convertVectorArrayModelToThree(this.get("positions"),"positions"),this.convertBoolModelToThree(this.get("merge"),"merge"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("original"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.original="convertThreeType",this.property_converters.positions="convertVectorArray",this.property_converters.merge="convertBool",this.property_converters.type=null,this.property_assigners.positions="assignArray"}},{model_name:"CloneArrayModel",serializers:o.extend({original:{deserialize:i.unpack_models}},s.serializers)});e.exports={CloneArrayModel:a}},function(e,t,r){var o=r(10),n=r(0),i=r(100).CloneArrayModel;function s(e,t,r){n.Object3D.call(this),this.original=e,this.positions=t,this.merge=r,this.build()}s.prototype=Object.assign(Object.create(n.Object3D.prototype),{constructor:s,clear:function(){},isComplete:function(){return!!this.original&&!!this.positions},build:function(){if(this.children&&this.clear(),this.isComplete())if(this.merge){var e=new n.BufferGeometry;this.original.geometry&&this.original.geometry.isBufferGeometry?e.copy(this.original.geometry):e.setFromObject(this.original);var t=this.positions.length,r=e.getAttribute("position").count,o=new n.BufferGeometry,i=e.attributes;for(var s in i){var a=i[s],l=a.array,c=new l.constructor(l.length*t),p=new a.constructor(c,a.itemSize,a.normalized);p.dynamic=a.dynamic,o.addAttribute(s,p)}var h=e.getIndex();if(h){for(var u=[],d=0;d<t;++d)for(var f=0;f<h.count;++f)u.push(h.array[f]+d*r);o.setIndex(u)}d=0,this.original.updateMatrix();var y=this.original.matrix.clone();this.positions.forEach(function(t){var n=e.clone();y.setPosition(t),n.applyMatrix(y),o.merge(n,r*d++)},this);var v=this.original.clone();v.geometry=o,v.updateMorphTargets&&v.updateMorphTargets(),this.add(v)}else this.positions.forEach(function(e){var t=this.original.clone();t.position.copy(e),this.add(t)},this)}});var a=i.extend({constructThreeObject:function(){var e=new s(this.convertThreeTypeModelToThree(this.get("original"),"original"),this.convertVectorArrayModelToThree(this.get("positions"),"positions"),this.get("merge"));return o.resolve(e)},syncToThreeObj:function(e){this._needs_rebuild=!1,i.prototype.syncToThreeObj.apply(this,arguments),this._needs_rebuild&&this.obj.build()},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_assigners.original="rebuildAssigner",this.property_assigners.positions="rebuildAssigner",this.property_assigners.merge="rebuildAssigner"},rebuildAssigner:function(e,t,r){"positions"===t?this.assignArray(e,t,r):this.assignDirect(e,t,r),this._needs_rebuild=!0}});e.exports={CloneArrayModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"Blackbox"})},constructThreeObject:function(){var e=new n.Blackbox;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.type=null}},{model_name:"BlackboxModel",serializers:o.extend({},i.serializers)});e.exports={BlackboxModel:s}},function(e,t,r){var o=r(10),n=r(0),i=r(102).BlackboxModel,s=i.extend({defaults:function(){var e=i.prototype.defaults.call(this);return delete e.children,e},constructThreeObject:function(){var e=new n.Object3D;return o.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),delete this.three_nested_properties.children,delete this.property_converters.children}});e.exports={BlackboxModel:s}},function(e,t,r){var o=[r(103),r(36),r(101),r(99),r(98),r(23),r(97),r(96),r(35),r(94),r(34),r(93),r(91)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.QuaternionLinearInterpolant;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"QuaternionLinearInterpolantModel",serializers:o.extend({},i.serializers)});e.exports={QuaternionLinearInterpolantModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.LinearInterpolant;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"LinearInterpolantModel",serializers:o.extend({},i.serializers)});e.exports={LinearInterpolantModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.DiscreteInterpolant;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"DiscreteInterpolantModel",serializers:o.extend({},i.serializers)});e.exports={DiscreteInterpolantModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.CubicInterpolant;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CubicInterpolantModel",serializers:o.extend({},i.serializers)});e.exports={CubicInterpolantModel:s}},function(e,t,r){var o=[r(108),r(107),r(106),r(105)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{a:[0,0,0],b:[0,0,0],c:[0,0,0]})},constructThreeObject:function(){var e=new n.Triangle(this.convertVectorModelToThree(this.get("a"),"a"),this.convertVectorModelToThree(this.get("b"),"b"),this.convertVectorModelToThree(this.get("c"),"c"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.a="convertVector",this.property_converters.b="convertVector",this.property_converters.c="convertVector",this.property_assigners.a="assignVector",this.property_assigners.b="assignVector",this.property_assigners.c="assignVector"}},{model_name:"TriangleModel",serializers:o.extend({},i.serializers)});e.exports={TriangleModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Spherical;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"SphericalModel",serializers:o.extend({},i.serializers)});e.exports={SphericalModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{center:[0,0,0],radius:0})},constructThreeObject:function(){var e=new n.Sphere(this.convertVectorModelToThree(this.get("center"),"center"),this.convertFloatModelToThree(this.get("radius"),"radius"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.center="convertVector",this.property_converters.radius="convertFloat",this.property_assigners.center="assignVector"}},{model_name:"SphereModel",serializers:o.extend({},i.serializers)});e.exports={SphereModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{x:0,y:0,z:0,w:1})},constructThreeObject:function(){var e=new n.Quaternion(this.convertFloatModelToThree(this.get("x"),"x"),this.convertFloatModelToThree(this.get("y"),"y"),this.convertFloatModelToThree(this.get("z"),"z"),this.convertFloatModelToThree(this.get("w"),"w"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.x="convertFloat",this.property_converters.y="convertFloat",this.property_converters.z="convertFloat",this.property_converters.w="convertFloat"}},{model_name:"QuaternionModel",serializers:o.extend({},i.serializers)});e.exports={QuaternionModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Math;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"MathModel",serializers:o.extend({},i.serializers)});e.exports={MathModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{start:[0,0,0],end:[0,0,0]})},constructThreeObject:function(){var e=new n.Line3(this.convertVectorModelToThree(this.get("start"),"start"),this.convertVectorModelToThree(this.get("end"),"end"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.start="convertVector",this.property_converters.end="convertVector",this.property_assigners.start="assignVector",this.property_assigners.end="assignVector"}},{model_name:"Line3Model",serializers:o.extend({},i.serializers)});e.exports={Line3Model:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Interpolant;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"InterpolantModel",serializers:o.extend({},i.serializers)});e.exports={InterpolantModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(19).PlaneModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{p0:null,p1:null,p2:null,p3:null,p4:null,p5:null})},constructThreeObject:function(){var e=new n.Frustum(this.convertThreeTypeModelToThree(this.get("p0"),"p0"),this.convertThreeTypeModelToThree(this.get("p1"),"p1"),this.convertThreeTypeModelToThree(this.get("p2"),"p2"),this.convertThreeTypeModelToThree(this.get("p3"),"p3"),this.convertThreeTypeModelToThree(this.get("p4"),"p4"),this.convertThreeTypeModelToThree(this.get("p5"),"p5"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("p0"),this.three_properties.push("p1"),this.three_properties.push("p2"),this.three_properties.push("p3"),this.three_properties.push("p4"),this.three_properties.push("p5"),this.property_converters.p0="convertThreeType",this.property_converters.p1="convertThreeType",this.property_converters.p2="convertThreeType",this.property_converters.p3="convertThreeType",this.property_converters.p4="convertThreeType",this.property_converters.p5="convertThreeType"}},{model_name:"FrustumModel",serializers:o.extend({p0:{deserialize:i.unpack_models},p1:{deserialize:i.unpack_models},p2:{deserialize:i.unpack_models},p3:{deserialize:i.unpack_models},p4:{deserialize:i.unpack_models},p5:{deserialize:i.unpack_models}},s.serializers)}));e.exports={FrustumModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,theta:0,y:0})},constructThreeObject:function(){var e=new n.Cylindrical(this.convertFloatModelToThree(this.get("radius"),"radius"),this.convertFloatModelToThree(this.get("theta"),"theta"),this.convertFloatModelToThree(this.get("y"),"y"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.radius="convertFloat",this.property_converters.theta="convertFloat",this.property_converters.y="convertFloat"}},{model_name:"CylindricalModel",serializers:o.extend({},i.serializers)});e.exports={CylindricalModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{min:[0,0],max:[0,0]})},constructThreeObject:function(){var e=new n.Box2(this.convertVectorModelToThree(this.get("min"),"min"),this.convertVectorModelToThree(this.get("max"),"max"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.min="convertVector",this.property_converters.max="convertVector",this.property_assigners.min="assignVector",this.property_assigners.max="assignVector"}},{model_name:"Box2Model",serializers:o.extend({},i.serializers)});e.exports={Box2Model:s}},function(e,t,r){var o=[r(119),r(45),r(118),r(117),r(116),r(115),r(114),r(19),r(113),r(48),r(112),r(111),r(110),r(109)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(24).ShaderMaterialModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{lights:!0,transparent:!0,type:"ShadowMaterial"})},constructThreeObject:function(){var e=new n.ShadowMaterial;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.extensions=!0,this.props_created_by_three.type=!0,this.property_converters.lights="convertBool",this.property_converters.transparent="convertBool",this.property_converters.type=null}},{model_name:"ShadowMaterialModel",serializers:o.extend({},i.serializers)});e.exports={ShadowMaterialModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(24).ShaderMaterialModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"RawShaderMaterial"})},constructThreeObject:function(){var e=new n.RawShaderMaterial({type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.extensions=!0,this.props_created_by_three.type=!0,this.property_converters.type=null}},{model_name:"RawShaderMaterialModel",serializers:o.extend({},i.serializers)});e.exports={RawShaderMaterialModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(8).MaterialModel),a=(r(9).TextureModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{color:"#ffffff",lights:!1,map:null,size:1,sizeAttenuation:!0,type:"PointsMaterial"})},constructThreeObject:function(){var e=new n.PointsMaterial({color:this.convertColorModelToThree(this.get("color"),"color"),lights:this.convertBoolModelToThree(this.get("lights"),"lights"),map:this.convertThreeTypeModelToThree(this.get("map"),"map"),size:this.convertFloatModelToThree(this.get("size"),"size"),sizeAttenuation:this.convertBoolModelToThree(this.get("sizeAttenuation"),"sizeAttenuation"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("map"),this.props_created_by_three.type=!0,this.property_converters.color="convertColor",this.property_converters.lights="convertBool",this.property_converters.map="convertThreeType",this.property_converters.size="convertFloat",this.property_converters.sizeAttenuation="convertBool",this.property_converters.type=null}},{model_name:"PointsMaterialModel",serializers:o.extend({map:{deserialize:i.unpack_models}},s.serializers)}));e.exports={PointsMaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(39).MeshPhongMaterialModel),a=(r(9).TextureModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{gradientMap:null,type:"MeshToonMaterial"})},constructThreeObject:function(){var e=new n.MeshToonMaterial;return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("gradientMap"),this.props_created_by_three.type=!0,this.property_converters.gradientMap="convertThreeType",this.property_converters.type=null}},{model_name:"MeshToonMaterialModel",serializers:o.extend({gradientMap:{deserialize:i.unpack_models}},s.serializers)}));e.exports={MeshToonMaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(38).MeshStandardMaterialModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{clearCoat:0,clearCoatRoughness:0,defines:{PHYSICAL:""},reflectivity:.5,type:"MeshPhysicalMaterial"})},constructThreeObject:function(){var e=new n.MeshPhysicalMaterial;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.clearCoat="convertFloat",this.property_converters.clearCoatRoughness="convertFloat",this.property_converters.defines=null,this.property_converters.reflectivity="convertFloat",this.property_converters.type=null,this.property_assigners.defines="assignDict"}},{model_name:"MeshPhysicalMaterialModel",serializers:o.extend({},i.serializers)});e.exports={MeshPhysicalMaterialModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(8).MaterialModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{fog:!1,lights:!1,morphTargets:!1,wireframe:!1,wireframeLinewidth:1,type:"MeshNormalMaterial"})},constructThreeObject:function(){var e=new n.MeshNormalMaterial({fog:this.convertBoolModelToThree(this.get("fog"),"fog"),lights:this.convertBoolModelToThree(this.get("lights"),"lights"),morphTargets:this.convertBoolModelToThree(this.get("morphTargets"),"morphTargets"),wireframe:this.convertBoolModelToThree(this.get("wireframe"),"wireframe"),wireframeLinewidth:this.convertFloatModelToThree(this.get("wireframeLinewidth"),"wireframeLinewidth"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.fog="convertBool",this.property_converters.lights="convertBool",this.property_converters.morphTargets="convertBool",this.property_converters.wireframe="convertBool",this.property_converters.wireframeLinewidth="convertFloat",this.property_converters.type=null}},{model_name:"MeshNormalMaterialModel",serializers:o.extend({},i.serializers)});e.exports={MeshNormalMaterialModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(8).MaterialModel),a=(r(9).TextureModel,r(16).CubeTextureModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{alphaMap:null,aoMap:null,aoMapIntensity:1,color:"#ffffff",combine:"MultiplyOperation",emissive:"#000000",emissiveMap:null,emissiveIntensity:1,envMap:null,lightMap:null,lightMapIntensity:1,map:null,morphNormals:!1,morphTargets:!1,reflectivity:1,refractionRatio:.98,skinning:!1,specularMap:null,wireframe:!1,wireframeLinecap:"round",wireframeLinejoin:"round",wireframeLinewidth:1,type:"MeshLambertMaterial"})},constructThreeObject:function(){var e=new n.MeshLambertMaterial({alphaMap:this.convertThreeTypeModelToThree(this.get("alphaMap"),"alphaMap"),aoMap:this.convertThreeTypeModelToThree(this.get("aoMap"),"aoMap"),aoMapIntensity:this.convertFloatModelToThree(this.get("aoMapIntensity"),"aoMapIntensity"),color:this.convertColorModelToThree(this.get("color"),"color"),combine:this.convertEnumModelToThree(this.get("combine"),"combine"),emissive:this.convertColorModelToThree(this.get("emissive"),"emissive"),emissiveMap:this.convertThreeTypeModelToThree(this.get("emissiveMap"),"emissiveMap"),emissiveIntensity:this.convertFloatModelToThree(this.get("emissiveIntensity"),"emissiveIntensity"),envMap:this.convertThreeTypeModelToThree(this.get("envMap"),"envMap"),lightMap:this.convertThreeTypeModelToThree(this.get("lightMap"),"lightMap"),lightMapIntensity:this.convertFloatModelToThree(this.get("lightMapIntensity"),"lightMapIntensity"),map:this.convertThreeTypeModelToThree(this.get("map"),"map"),morphNormals:this.convertBoolModelToThree(this.get("morphNormals"),"morphNormals"),morphTargets:this.convertBoolModelToThree(this.get("morphTargets"),"morphTargets"),reflectivity:this.convertFloatModelToThree(this.get("reflectivity"),"reflectivity"),refractionRatio:this.convertFloatModelToThree(this.get("refractionRatio"),"refractionRatio"),skinning:this.convertBoolModelToThree(this.get("skinning"),"skinning"),specularMap:this.convertThreeTypeModelToThree(this.get("specularMap"),"specularMap"),wireframe:this.convertBoolModelToThree(this.get("wireframe"),"wireframe"),wireframeLinecap:this.get("wireframeLinecap"),wireframeLinejoin:this.get("wireframeLinejoin"),wireframeLinewidth:this.convertFloatModelToThree(this.get("wireframeLinewidth"),"wireframeLinewidth"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("alphaMap"),this.three_properties.push("aoMap"),this.three_properties.push("emissiveMap"),this.three_properties.push("envMap"),this.three_properties.push("lightMap"),this.three_properties.push("map"),this.three_properties.push("specularMap"),this.props_created_by_three.type=!0,this.enum_property_types.combine="Operations",this.property_converters.alphaMap="convertThreeType",this.property_converters.aoMap="convertThreeType",this.property_converters.aoMapIntensity="convertFloat",this.property_converters.color="convertColor",this.property_converters.combine="convertEnum",this.property_converters.emissive="convertColor",this.property_converters.emissiveMap="convertThreeType",this.property_converters.emissiveIntensity="convertFloat",this.property_converters.envMap="convertThreeType",this.property_converters.lightMap="convertThreeType",this.property_converters.lightMapIntensity="convertFloat",this.property_converters.map="convertThreeType",this.property_converters.morphNormals="convertBool",this.property_converters.morphTargets="convertBool",this.property_converters.reflectivity="convertFloat",this.property_converters.refractionRatio="convertFloat",this.property_converters.skinning="convertBool",this.property_converters.specularMap="convertThreeType",this.property_converters.wireframe="convertBool",this.property_converters.wireframeLinecap=null,this.property_converters.wireframeLinejoin=null,this.property_converters.wireframeLinewidth="convertFloat",this.property_converters.type=null}},{model_name:"MeshLambertMaterialModel",serializers:o.extend({alphaMap:{deserialize:i.unpack_models},aoMap:{deserialize:i.unpack_models},emissiveMap:{deserialize:i.unpack_models},envMap:{deserialize:i.unpack_models},lightMap:{deserialize:i.unpack_models},map:{deserialize:i.unpack_models},specularMap:{deserialize:i.unpack_models}},s.serializers)}));e.exports={MeshLambertMaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(8).MaterialModel),a=(r(9).TextureModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{alphaMap:null,displacementMap:null,displacementScale:1,displacementBias:0,fog:!1,lights:!1,map:null,morphTargets:!1,skinning:!1,wireframe:!1,wireframeLinewidth:1,type:"MeshDepthMaterial"})},constructThreeObject:function(){var e=new n.MeshDepthMaterial({alphaMap:this.convertThreeTypeModelToThree(this.get("alphaMap"),"alphaMap"),displacementMap:this.convertThreeTypeModelToThree(this.get("displacementMap"),"displacementMap"),displacementScale:this.convertFloatModelToThree(this.get("displacementScale"),"displacementScale"),displacementBias:this.convertFloatModelToThree(this.get("displacementBias"),"displacementBias"),fog:this.convertBoolModelToThree(this.get("fog"),"fog"),lights:this.convertBoolModelToThree(this.get("lights"),"lights"),map:this.convertThreeTypeModelToThree(this.get("map"),"map"),morphTargets:this.convertBoolModelToThree(this.get("morphTargets"),"morphTargets"),skinning:this.convertBoolModelToThree(this.get("skinning"),"skinning"),wireframe:this.convertBoolModelToThree(this.get("wireframe"),"wireframe"),wireframeLinewidth:this.convertFloatModelToThree(this.get("wireframeLinewidth"),"wireframeLinewidth"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("alphaMap"),this.three_properties.push("displacementMap"),this.three_properties.push("map"),this.props_created_by_three.type=!0,this.property_converters.alphaMap="convertThreeType",this.property_converters.displacementMap="convertThreeType",this.property_converters.displacementScale="convertFloat",this.property_converters.displacementBias="convertFloat",this.property_converters.fog="convertBool",this.property_converters.lights="convertBool",this.property_converters.map="convertThreeType",this.property_converters.morphTargets="convertBool",this.property_converters.skinning="convertBool",this.property_converters.wireframe="convertBool",this.property_converters.wireframeLinewidth="convertFloat",this.property_converters.type=null}},{model_name:"MeshDepthMaterialModel",serializers:o.extend({alphaMap:{deserialize:i.unpack_models},displacementMap:{deserialize:i.unpack_models},map:{deserialize:i.unpack_models}},s.serializers)}));e.exports={MeshDepthMaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(8).MaterialModel),a=(r(9).TextureModel,r(16).CubeTextureModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{alphaMap:null,aoMap:null,aoMapIntensity:1,color:"#ffffff",combine:"MultiplyOperation",envMap:null,lightMap:null,lightMapIntensity:1,lights:!1,map:null,morphTargets:!1,reflectivity:1,refractionRatio:.98,skinning:!1,specularMap:null,wireframe:!1,wireframeLinewidth:1,wireframeLinecap:"round",wireframeLinejoin:"round",type:"MeshBasicMaterial"})},constructThreeObject:function(){var e=new n.MeshBasicMaterial({alphaMap:this.convertThreeTypeModelToThree(this.get("alphaMap"),"alphaMap"),aoMap:this.convertThreeTypeModelToThree(this.get("aoMap"),"aoMap"),aoMapIntensity:this.convertFloatModelToThree(this.get("aoMapIntensity"),"aoMapIntensity"),color:this.convertColorModelToThree(this.get("color"),"color"),combine:this.convertEnumModelToThree(this.get("combine"),"combine"),envMap:this.convertThreeTypeModelToThree(this.get("envMap"),"envMap"),lightMap:this.convertThreeTypeModelToThree(this.get("lightMap"),"lightMap"),lightMapIntensity:this.convertFloatModelToThree(this.get("lightMapIntensity"),"lightMapIntensity"),lights:this.convertBoolModelToThree(this.get("lights"),"lights"),map:this.convertThreeTypeModelToThree(this.get("map"),"map"),morphTargets:this.convertBoolModelToThree(this.get("morphTargets"),"morphTargets"),reflectivity:this.convertFloatModelToThree(this.get("reflectivity"),"reflectivity"),refractionRatio:this.convertFloatModelToThree(this.get("refractionRatio"),"refractionRatio"),skinning:this.convertBoolModelToThree(this.get("skinning"),"skinning"),specularMap:this.convertThreeTypeModelToThree(this.get("specularMap"),"specularMap"),wireframe:this.convertBoolModelToThree(this.get("wireframe"),"wireframe"),wireframeLinewidth:this.convertFloatModelToThree(this.get("wireframeLinewidth"),"wireframeLinewidth"),wireframeLinecap:this.get("wireframeLinecap"),wireframeLinejoin:this.get("wireframeLinejoin"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("alphaMap"),this.three_properties.push("aoMap"),this.three_properties.push("envMap"),this.three_properties.push("lightMap"),this.three_properties.push("map"),this.three_properties.push("specularMap"),this.props_created_by_three.type=!0,this.enum_property_types.combine="Operations",this.property_converters.alphaMap="convertThreeType",this.property_converters.aoMap="convertThreeType",this.property_converters.aoMapIntensity="convertFloat",this.property_converters.color="convertColor",this.property_converters.combine="convertEnum",this.property_converters.envMap="convertThreeType",this.property_converters.lightMap="convertThreeType",this.property_converters.lightMapIntensity="convertFloat",this.property_converters.lights="convertBool",this.property_converters.map="convertThreeType",this.property_converters.morphTargets="convertBool",this.property_converters.reflectivity="convertFloat",this.property_converters.refractionRatio="convertFloat",this.property_converters.skinning="convertBool",this.property_converters.specularMap="convertThreeType",this.property_converters.wireframe="convertBool",this.property_converters.wireframeLinewidth="convertFloat",this.property_converters.wireframeLinecap=null,this.property_converters.wireframeLinejoin=null,this.property_converters.type=null}},{model_name:"MeshBasicMaterialModel",serializers:o.extend({alphaMap:{deserialize:i.unpack_models},aoMap:{deserialize:i.unpack_models},envMap:{deserialize:i.unpack_models},lightMap:{deserialize:i.unpack_models},map:{deserialize:i.unpack_models},specularMap:{deserialize:i.unpack_models}},s.serializers)}));e.exports={MeshBasicMaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(8).MaterialModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{color:"#ffffff",lights:!1,linewidth:1,scale:1,dashSize:3,gapSize:1,type:"LineDashedMaterial"})},constructThreeObject:function(){var e=new n.LineDashedMaterial({color:this.convertColorModelToThree(this.get("color"),"color"),lights:this.convertBoolModelToThree(this.get("lights"),"lights"),linewidth:this.convertFloatModelToThree(this.get("linewidth"),"linewidth"),scale:this.convertFloatModelToThree(this.get("scale"),"scale"),dashSize:this.convertFloatModelToThree(this.get("dashSize"),"dashSize"),gapSize:this.convertFloatModelToThree(this.get("gapSize"),"gapSize"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.color="convertColor",this.property_converters.lights="convertBool",this.property_converters.linewidth="convertFloat",this.property_converters.scale="convertFloat",this.property_converters.dashSize="convertFloat",this.property_converters.gapSize="convertFloat",this.property_converters.type=null}},{model_name:"LineDashedMaterialModel",serializers:o.extend({},i.serializers)});e.exports={LineDashedMaterialModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(19).PlaneModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{alphaTest:0,blendDst:"OneMinusSrcAlphaFactor",blendDstAlpha:0,blending:"NormalBlending",blendSrc:"SrcAlphaFactor",blendSrcAlpha:0,blendEquation:"AddEquation",blendEquationAlpha:0,clipIntersection:!1,clippingPlanes:[],clipShadows:!1,colorWrite:!0,defines:null,depthFunc:"LessEqualDepth",depthTest:!0,depthWrite:!0,dithering:!1,flatShading:!1,fog:!0,lights:!0,name:"",opacity:1,overdraw:0,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0,precision:null,premultipliedAlpha:!1,shadowSide:null,side:"FrontSide",transparent:!1,type:"Material",vertexColors:"NoColors",visible:!0})},constructThreeObject:function(){var e=new n.Material;return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_nested_properties.push("clippingPlanes"),this.props_created_by_three.type=!0,this.enum_property_types.blendDst="BlendFactors",this.enum_property_types.blending="BlendingMode",this.enum_property_types.blendSrc="BlendFactors",this.enum_property_types.blendEquation="Equations",this.enum_property_types.depthFunc="DepthMode",this.enum_property_types.shadowSide="Side",this.enum_property_types.side="Side",this.enum_property_types.vertexColors="Colors",this.property_converters.alphaTest="convertFloat",this.property_converters.blendDst="convertEnum",this.property_converters.blendDstAlpha="convertFloat",this.property_converters.blending="convertEnum",this.property_converters.blendSrc="convertEnum",this.property_converters.blendSrcAlpha="convertFloat",this.property_converters.blendEquation="convertEnum",this.property_converters.blendEquationAlpha="convertFloat",this.property_converters.clipIntersection="convertBool",this.property_converters.clippingPlanes="convertThreeTypeArray",this.property_converters.clipShadows="convertBool",this.property_converters.colorWrite="convertBool",this.property_converters.defines=null,this.property_converters.depthFunc="convertEnum",this.property_converters.depthTest="convertBool",this.property_converters.depthWrite="convertBool",this.property_converters.dithering="convertBool",this.property_converters.flatShading="convertBool",this.property_converters.fog="convertBool",this.property_converters.lights="convertBool",this.property_converters.name=null,this.property_converters.opacity="convertFloat",this.property_converters.overdraw="convertFloat",this.property_converters.polygonOffset="convertBool",this.property_converters.polygonOffsetFactor="convertFloat",this.property_converters.polygonOffsetUnits="convertFloat",this.property_converters.precision=null,this.property_converters.premultipliedAlpha="convertBool",this.property_converters.shadowSide="convertEnum",this.property_converters.side="convertEnum",this.property_converters.transparent="convertBool",this.property_converters.type=null,this.property_converters.vertexColors="convertEnum",this.property_converters.visible="convertBool",this.property_assigners.defines="assignDict"}},{model_name:"MaterialModel",serializers:o.extend({clippingPlanes:{deserialize:i.unpack_models}},s.serializers)}));e.exports={MaterialModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(8).MaterialModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{color:"#ffffff",lights:!1,linewidth:1,linecap:"round",linejoin:"round",type:"LineBasicMaterial"})},constructThreeObject:function(){var e=new n.LineBasicMaterial({color:this.convertColorModelToThree(this.get("color"),"color"),lights:this.convertBoolModelToThree(this.get("lights"),"lights"),linewidth:this.convertFloatModelToThree(this.get("linewidth"),"linewidth"),linecap:this.get("linecap"),linejoin:this.get("linejoin"),type:this.get("type")});return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.color="convertColor",this.property_converters.lights="convertBool",this.property_converters.linewidth="convertFloat",this.property_converters.linecap=null,this.property_converters.linejoin=null,this.property_converters.type=null}},{model_name:"LineBasicMaterialModel",serializers:o.extend({},i.serializers)});e.exports={LineBasicMaterialModel:s}},function(e,t,r){var o=[r(132),r(130),r(8),r(129),r(128),r(127),r(126),r(39),r(125),r(38),r(124),r(123),r(122),r(24),r(121),r(37)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.TextureLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"TextureLoaderModel",serializers:o.extend({},i.serializers)});e.exports={TextureLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.ObjectLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ObjectLoaderModel",serializers:o.extend({},i.serializers)});e.exports={ObjectLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.MaterialLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"MaterialLoaderModel",serializers:o.extend({},i.serializers)});e.exports={MaterialLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.LoadingManager;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"LoadingManagerModel",serializers:o.extend({},i.serializers)});e.exports={LoadingManagerModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Loader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"LoaderModel",serializers:o.extend({},i.serializers)});e.exports={LoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.JSONLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"JSONLoaderModel",serializers:o.extend({},i.serializers)});e.exports={JSONLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.ImageLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ImageLoaderModel",serializers:o.extend({},i.serializers)});e.exports={ImageLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.ImageBitmapLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ImageBitmapLoaderModel",serializers:o.extend({},i.serializers)});e.exports={ImageBitmapLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.FontLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"FontLoaderModel",serializers:o.extend({},i.serializers)});e.exports={FontLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.FileLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"FileLoaderModel",serializers:o.extend({},i.serializers)});e.exports={FileLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.DataTextureLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"DataTextureLoaderModel",serializers:o.extend({},i.serializers)});e.exports={DataTextureLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.CubeTextureLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CubeTextureLoaderModel",serializers:o.extend({},i.serializers)});e.exports={CubeTextureLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.CompressedTextureLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CompressedTextureLoaderModel",serializers:o.extend({},i.serializers)});e.exports={CompressedTextureLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Cache;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CacheModel",serializers:o.extend({},i.serializers)});e.exports={CacheModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.BufferGeometryLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"BufferGeometryLoaderModel",serializers:o.extend({},i.serializers)});e.exports={BufferGeometryLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.AudioLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"AudioLoaderModel",serializers:o.extend({},i.serializers)});e.exports={AudioLoaderModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.AnimationLoader;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"AnimationLoaderModel",serializers:o.extend({},i.serializers)});e.exports={AnimationLoaderModel:s}},function(e,t,r){var o=[r(150),r(149),r(148),r(147),r(146),r(145),r(144),r(143),r(142),r(141),r(140),r(139),r(138),r(137),r(136),r(135),r(134)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(13).LightShadowModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.SpotLightShadow;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"SpotLightShadowModel",serializers:o.extend({},i.serializers)});e.exports={SpotLightShadowModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(13).LightShadowModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.DirectionalLightShadow;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"DirectionalLightShadowModel",serializers:o.extend({},i.serializers)});e.exports={DirectionalLightShadowModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(12).LightModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"AmbientLight"})},constructThreeObject:function(){var e=new n.AmbientLight(this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("intensity"),"intensity"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.type=null}},{model_name:"AmbientLightModel",serializers:o.extend({},i.serializers)});e.exports={AmbientLightModel:s}},function(e,t,r){var o=[r(154),r(44),r(153),r(43),r(12),r(13),r(42),r(41),r(40),r(152)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(31),n=r(2);e.exports={id:"jupyter.extensions.jupyter-threejs",requires:[n.IJupyterWidgetRegistry],activate:function(e,t){t.registerWidget({name:"jupyter-threejs",version:o.EXTENSION_SPEC_VERSION,exports:o})},autoStart:!0}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(s=r(5).Object3DModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{object:null,size:1,color:"0xffff00",linewidth:1,type:"VertexNormalsHelper"})},constructThreeObject:function(){var e=new n.VertexNormalsHelper(this.convertThreeTypeModelToThree(this.get("object"),"object"),this.convertFloatModelToThree(this.get("size"),"size"),this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("linewidth"),"linewidth"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("object"),this.props_created_by_three.matrixAutoUpdate=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.object="convertThreeType",this.property_converters.size="convertFloat",this.property_converters.color="convertColor",this.property_converters.linewidth="convertFloat",this.property_converters.type=null}},{model_name:"VertexNormalsHelperModel",serializers:o.extend({object:{deserialize:i.unpack_models}},s.serializers)});e.exports={VertexNormalsHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(40).SpotLightModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{light:null,color:"#ffffff",type:"SpotLightHelper"})},constructThreeObject:function(){var e=new n.SpotLightHelper(this.convertThreeTypeModelToThree(this.get("light"),"light"),this.convertColorModelToThree(this.get("color"),"color"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("light"),this.props_created_by_three.matrixAutoUpdate=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.light="convertThreeType",this.property_converters.color="convertColor",this.property_converters.type=null}},{model_name:"SpotLightHelperModel",serializers:o.extend({light:{deserialize:i.unpack_models}},s.serializers)}));e.exports={SpotLightHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(s=r(5).Object3DModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{root:null,type:"SkeletonHelper"})},constructThreeObject:function(){var e=new n.SkeletonHelper(this.convertThreeTypeModelToThree(this.get("root"),"root"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("root"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.root="convertThreeType",this.property_converters.type=null}},{model_name:"SkeletonHelperModel",serializers:o.extend({root:{deserialize:i.unpack_models}},s.serializers)});e.exports={SkeletonHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(41).RectAreaLightModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{light:null,color:"#ffffff",type:"RectAreaLightHelper"})},constructThreeObject:function(){var e=new n.RectAreaLightHelper(this.convertThreeTypeModelToThree(this.get("light"),"light"),this.convertColorModelToThree(this.get("color"),"color"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("light"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.light="convertThreeType",this.property_converters.color="convertColor",this.property_converters.type=null}},{model_name:"RectAreaLightHelperModel",serializers:o.extend({light:{deserialize:i.unpack_models}},s.serializers)}));e.exports={RectAreaLightHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:10,radials:16,circles:8,divisions:64,color1:"0x444444",color2:"0x888888",type:"PolarGridHelper"})},constructThreeObject:function(){var e=new n.PolarGridHelper(this.get("radius"),this.get("radials"),this.get("circles"),this.get("divisions"),this.convertColorModelToThree(this.get("color1"),"color1"),this.convertColorModelToThree(this.get("color2"),"color2"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.radius=null,this.property_converters.radials=null,this.property_converters.circles=null,this.property_converters.divisions=null,this.property_converters.color1="convertColor",this.property_converters.color2="convertColor",this.property_converters.type=null}},{model_name:"PolarGridHelperModel",serializers:o.extend({},i.serializers)});e.exports={PolarGridHelperModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(42).PointLightModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{light:null,sphereSize:1,color:"#ffffff",type:"PointLightHelper"})},constructThreeObject:function(){var e=new n.PointLightHelper(this.convertThreeTypeModelToThree(this.get("light"),"light"),this.convertFloatModelToThree(this.get("sphereSize"),"sphereSize"),this.convertColorModelToThree(this.get("color"),"color"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("light"),this.props_created_by_three.matrixAutoUpdate=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.light="convertThreeType",this.property_converters.sphereSize="convertFloat",this.property_converters.color="convertColor",this.property_converters.type=null}},{model_name:"PointLightHelperModel",serializers:o.extend({light:{deserialize:i.unpack_models}},s.serializers)}));e.exports={PointLightHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(19).PlaneModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{plane:null,size:1,color:"yellow",type:"PlaneHelper"})},constructThreeObject:function(){var e=new n.PlaneHelper(this.convertThreeTypeModelToThree(this.get("plane"),"plane"),this.convertFloatModelToThree(this.get("size"),"size"),this.convertColorModelToThree(this.get("color"),"color"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("plane"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.plane="convertThreeType",this.property_converters.size="convertFloat",this.property_converters.color="convertColor",this.property_converters.type=null}},{model_name:"PlaneHelperModel",serializers:o.extend({plane:{deserialize:i.unpack_models}},s.serializers)}));e.exports={PlaneHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(43).HemisphereLightModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{light:null,size:1,color:"#ffffff",type:"HemisphereLightHelper"})},constructThreeObject:function(){var e=new n.HemisphereLightHelper(this.convertThreeTypeModelToThree(this.get("light"),"light"),this.convertFloatModelToThree(this.get("size"),"size"),this.convertColorModelToThree(this.get("color"),"color"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("light"),this.props_created_by_three.matrixAutoUpdate=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.light="convertThreeType",this.property_converters.size="convertFloat",this.property_converters.color="convertColor",this.property_converters.type=null}},{model_name:"HemisphereLightHelperModel",serializers:o.extend({light:{deserialize:i.unpack_models}},s.serializers)}));e.exports={HemisphereLightHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{size:10,divisions:10,colorCenterLine:"0x444444",colorGrid:"0x888888",type:"GridHelper"})},constructThreeObject:function(){var e=new n.GridHelper(this.convertFloatModelToThree(this.get("size"),"size"),this.get("divisions"),this.convertColorModelToThree(this.get("colorCenterLine"),"colorCenterLine"),this.convertColorModelToThree(this.get("colorGrid"),"colorGrid"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.size="convertFloat",this.property_converters.divisions=null,this.property_converters.colorCenterLine="convertColor",this.property_converters.colorGrid="convertColor",this.property_converters.type=null}},{model_name:"GridHelperModel",serializers:o.extend({},i.serializers)});e.exports={GridHelperModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(s=r(5).Object3DModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{object:null,size:1,color:"0xffff00",linewidth:1,type:"FaceNormalsHelper"})},constructThreeObject:function(){var e=new n.FaceNormalsHelper(this.convertThreeTypeModelToThree(this.get("object"),"object"),this.convertFloatModelToThree(this.get("size"),"size"),this.convertColorModelToThree(this.get("color"),"color"),this.convertFloatModelToThree(this.get("linewidth"),"linewidth"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("object"),this.props_created_by_three.matrixAutoUpdate=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.object="convertThreeType",this.property_converters.size="convertFloat",this.property_converters.color="convertColor",this.property_converters.linewidth="convertFloat",this.property_converters.type=null}},{model_name:"FaceNormalsHelperModel",serializers:o.extend({object:{deserialize:i.unpack_models}},s.serializers)});e.exports={FaceNormalsHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(14).CameraModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{camera:"uninitialized",bias:0,mapSize:[512,512],radius:1})},constructThreeObject:function(){var e=new n.LightShadow(this.convertThreeTypeModelToThree(this.get("camera"),"camera"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("camera"),this.property_converters.camera="convertThreeType",this.property_converters.bias="convertFloat",this.property_converters.mapSize="convertVector",this.property_converters.radius="convertFloat",this.property_assigners.mapSize="assignVector"}},{model_name:"LightShadowModel",serializers:o.extend({camera:{deserialize:i.unpack_models}},s.serializers)}));e.exports={LightShadowModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(44).DirectionalLightModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{light:null,size:1,color:"#ffffff",type:"DirectionalLightHelper"})},constructThreeObject:function(){var e=new n.DirectionalLightHelper(this.convertThreeTypeModelToThree(this.get("light"),"light"),this.convertFloatModelToThree(this.get("size"),"size"),this.convertColorModelToThree(this.get("color"),"color"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("light"),this.props_created_by_three.matrixAutoUpdate=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.light="convertThreeType",this.property_converters.size="convertFloat",this.property_converters.color="convertColor",this.property_converters.type=null}},{model_name:"DirectionalLightHelperModel",serializers:o.extend({light:{deserialize:i.unpack_models}},s.serializers)}));e.exports={DirectionalLightHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(14).CameraModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{camera:null,type:"CameraHelper"})},constructThreeObject:function(){var e=new n.CameraHelper(this.convertThreeTypeModelToThree(this.get("camera"),"camera"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("camera"),this.props_created_by_three.matrixAutoUpdate=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.camera="convertThreeType",this.property_converters.type=null}},{model_name:"CameraHelperModel",serializers:o.extend({camera:{deserialize:i.unpack_models}},s.serializers)}));e.exports={CameraHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(s=r(5).Object3DModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{object:null,color:"#ffffff",type:"BoxHelper"})},constructThreeObject:function(){var e=new n.BoxHelper(this.convertThreeTypeModelToThree(this.get("object"),"object"),this.convertColorModelToThree(this.get("color"),"color"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("object"),this.props_created_by_three.matrixAutoUpdate=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.object="convertThreeType",this.property_converters.color="convertColor",this.property_converters.type=null}},{model_name:"BoxHelperModel",serializers:o.extend({object:{deserialize:i.unpack_models}},s.serializers)});e.exports={BoxHelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(5).Object3DModel),a=(r(45).Box3Model,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{box:null,color:"yellow",type:"Box3Helper"})},constructThreeObject:function(){var e=new n.Box3Helper(this.convertThreeTypeModelToThree(this.get("box"),"box"),this.convertColorModelToThree(this.get("color"),"color"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("box"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.box="convertThreeType",this.property_converters.color="convertColor",this.property_converters.type=null}},{model_name:"Box3HelperModel",serializers:o.extend({box:{deserialize:i.unpack_models}},s.serializers)}));e.exports={Box3HelperModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{size:1,type:"AxesHelper"})},constructThreeObject:function(){var e=new n.AxesHelper(this.convertFloatModelToThree(this.get("size"),"size"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.size="convertFloat",this.property_converters.type=null}},{model_name:"AxesHelperModel",serializers:o.extend({},i.serializers)});e.exports={AxesHelperModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{dir:[1,0,0],origin:[0,0,0],length:1,hex:0,headLength:null,headWidth:null,type:"ArrowHelper"})},constructThreeObject:function(){var e=new n.ArrowHelper;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.dir="convertVector",this.property_converters.origin="convertVector",this.property_converters.length="convertFloat",this.property_converters.hex=null,this.property_converters.headLength="convertFloat",this.property_converters.headWidth="convertFloat",this.property_converters.type=null,this.property_assigners.dir="assignVector",this.property_assigners.origin="assignVector"}},{model_name:"ArrowHelperModel",serializers:o.extend({},i.serializers)});e.exports={ArrowHelperModel:s}},function(e,t,r){var o=[r(173),r(172),r(171),r(170),r(169),r(168),r(166),r(165),r(164),r(163),r(162),r(161),r(160),r(159),r(158),r(157)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(6).BaseGeometryModel),a=(s=r(6).BaseGeometryModel,r(7).BaseBufferGeometryModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{geometry:null,type:"WireframeGeometry"})},constructThreeObject:function(){var e=new n.WireframeGeometry(this.convertThreeTypeModelToThree(this.get("geometry"),"geometry"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("geometry"),this.props_created_by_three.type=!0,this.property_converters.geometry="convertThreeType",this.property_converters.type=null}},{model_name:"WireframeGeometryModel",serializers:o.extend({geometry:{deserialize:i.unpack_models}},s.serializers)}));e.exports={WireframeGeometryModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(6).BaseGeometryModel),a=(r(47).CurveModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{path:null,segments:64,radius:1,radiusSegments:8,close:!1,type:"TubeGeometry"})},constructThreeObject:function(){var e=new n.TubeGeometry(this.convertThreeTypeModelToThree(this.get("path"),"path"),this.get("segments"),this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("radiusSegments"),this.convertBoolModelToThree(this.get("close"),"close"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("path"),this.props_created_by_three.type=!0,this.property_converters.path="convertThreeType",this.property_converters.segments=null,this.property_converters.radius="convertFloat",this.property_converters.radiusSegments=null,this.property_converters.close="convertBool",this.property_converters.type=null}},{model_name:"TubeGeometryModel",serializers:o.extend({path:{deserialize:i.unpack_models}},s.serializers)}));e.exports={TubeGeometryModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,tube:.4,tubularSegments:64,radialSegments:8,p:2,q:3,type:"TorusKnotGeometry"})},constructThreeObject:function(){var e=new n.TorusKnotGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.convertFloatModelToThree(this.get("tube"),"tube"),this.get("tubularSegments"),this.get("radialSegments"),this.get("p"),this.get("q"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.tube="convertFloat",this.property_converters.tubularSegments=null,this.property_converters.radialSegments=null,this.property_converters.p=null,this.property_converters.q=null,this.property_converters.type=null}},{model_name:"TorusKnotGeometryModel",serializers:o.extend({},i.serializers)});e.exports={TorusKnotGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,tube:.4,tubularSegments:64,radialSegments:8,p:2,q:3,type:"TorusKnotBufferGeometry"})},constructThreeObject:function(){var e=new n.TorusKnotBufferGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.convertFloatModelToThree(this.get("tube"),"tube"),this.get("tubularSegments"),this.get("radialSegments"),this.get("p"),this.get("q"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.tube="convertFloat",this.property_converters.tubularSegments=null,this.property_converters.radialSegments=null,this.property_converters.p=null,this.property_converters.q=null,this.property_converters.type=null}},{model_name:"TorusKnotBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={TorusKnotBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,tube:.4,radialSegments:8,tubularSegments:6,arc:6.283185307179586,type:"TorusGeometry"})},constructThreeObject:function(){var e=new n.TorusGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.convertFloatModelToThree(this.get("tube"),"tube"),this.get("radialSegments"),this.get("tubularSegments"),this.convertFloatModelToThree(this.get("arc"),"arc"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.tube="convertFloat",this.property_converters.radialSegments=null,this.property_converters.tubularSegments=null,this.property_converters.arc="convertFloat",this.property_converters.type=null}},{model_name:"TorusGeometryModel",serializers:o.extend({},i.serializers)});e.exports={TorusGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,tube:.4,radialSegments:8,tubularSegments:6,arc:6.283185307179586,type:"TorusBufferGeometry"})},constructThreeObject:function(){var e=new n.TorusBufferGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.convertFloatModelToThree(this.get("tube"),"tube"),this.get("radialSegments"),this.get("tubularSegments"),this.convertFloatModelToThree(this.get("arc"),"arc"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.tube="convertFloat",this.property_converters.radialSegments=null,this.property_converters.tubularSegments=null,this.property_converters.arc="convertFloat",this.property_converters.type=null}},{model_name:"TorusBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={TorusBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"TextGeometry"})},constructThreeObject:function(){var e=new n.TextGeometry;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.type=null}},{model_name:"TextGeometryModel",serializers:o.extend({},i.serializers)});e.exports={TextGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,detail:0,type:"TetrahedronGeometry"})},constructThreeObject:function(){var e=new n.TetrahedronGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("detail"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.detail=null,this.property_converters.type=null}},{model_name:"TetrahedronGeometryModel",serializers:o.extend({},i.serializers)});e.exports={TetrahedronGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,widthSegments:8,heightSegments:6,phiStart:0,phiLength:6.283185307179586,thetaStart:0,thetaLength:3.141592653589793,type:"SphereGeometry"})},constructThreeObject:function(){var e=new n.SphereGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("widthSegments"),this.get("heightSegments"),this.convertFloatModelToThree(this.get("phiStart"),"phiStart"),this.convertFloatModelToThree(this.get("phiLength"),"phiLength"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.widthSegments=null,this.property_converters.heightSegments=null,this.property_converters.phiStart="convertFloat",this.property_converters.phiLength="convertFloat",this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"SphereGeometryModel",serializers:o.extend({},i.serializers)});e.exports={SphereGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,widthSegments:8,heightSegments:6,phiStart:0,phiLength:6.283185307179586,thetaStart:0,thetaLength:3.141592653589793,type:"SphereBufferGeometry"})},constructThreeObject:function(){var e=new n.SphereBufferGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("widthSegments"),this.get("heightSegments"),this.convertFloatModelToThree(this.get("phiStart"),"phiStart"),this.convertFloatModelToThree(this.get("phiLength"),"phiLength"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.widthSegments=null,this.property_converters.heightSegments=null,this.property_converters.phiStart="convertFloat",this.property_converters.phiLength="convertFloat",this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"SphereBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={SphereBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(6).BaseGeometryModel),a=(r(46).ShapeModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{shapes:[],curveSegments:12,material:0,type:"ShapeGeometry"})},constructThreeObject:function(){var e=new n.ShapeGeometry(this.convertThreeTypeArrayModelToThree(this.get("shapes"),"shapes"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_nested_properties.push("shapes"),this.props_created_by_three.type=!0,this.property_converters.shapes="convertThreeTypeArray",this.property_converters.curveSegments=null,this.property_converters.material=null,this.property_converters.type=null}},{model_name:"ShapeGeometryModel",serializers:o.extend({shapes:{deserialize:i.unpack_models}},s.serializers)}));e.exports={ShapeGeometryModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{innerRadius:.5,outerRadius:1,thetaSegments:8,phiSegments:8,thetaStart:0,thetaLength:6.283185307179586,type:"RingGeometry"})},constructThreeObject:function(){var e=new n.RingGeometry(this.convertFloatModelToThree(this.get("innerRadius"),"innerRadius"),this.convertFloatModelToThree(this.get("outerRadius"),"outerRadius"),this.get("thetaSegments"),this.get("phiSegments"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.innerRadius="convertFloat",this.property_converters.outerRadius="convertFloat",this.property_converters.thetaSegments=null,this.property_converters.phiSegments=null,this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"RingGeometryModel",serializers:o.extend({},i.serializers)});e.exports={RingGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{innerRadius:.5,outerRadius:1,thetaSegments:8,phiSegments:8,thetaStart:0,thetaLength:6.283185307179586,type:"RingBufferGeometry"})},constructThreeObject:function(){var e=new n.RingBufferGeometry(this.convertFloatModelToThree(this.get("innerRadius"),"innerRadius"),this.convertFloatModelToThree(this.get("outerRadius"),"outerRadius"),this.get("thetaSegments"),this.get("phiSegments"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.innerRadius="convertFloat",this.property_converters.outerRadius="convertFloat",this.property_converters.thetaSegments=null,this.property_converters.phiSegments=null,this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"RingBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={RingBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{vertices:[],indices:[],radius:1,detail:0,faces:[],type:"PolyhedronGeometry"})},constructThreeObject:function(){var e=new n.PolyhedronGeometry(this.get("vertices"),this.get("faces"),this.convertFloatModelToThree(this.get("radius"),"radius"),this.convertFloatModelToThree(this.get("detail"),"detail"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.vertices=null,this.property_converters.indices=null,this.property_converters.radius="convertFloat",this.property_converters.detail="convertFloat",this.property_converters.faces=null,this.property_converters.type=null,this.property_assigners.vertices="assignArray",this.property_assigners.indices="assignArray",this.property_assigners.faces="assignArray"}},{model_name:"PolyhedronGeometryModel",serializers:o.extend({},i.serializers)});e.exports={PolyhedronGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{width:1,height:1,widthSegments:1,heightSegments:1,type:"PlaneGeometry"})},constructThreeObject:function(){var e=new n.PlaneGeometry(this.convertFloatModelToThree(this.get("width"),"width"),this.convertFloatModelToThree(this.get("height"),"height"),this.get("widthSegments"),this.get("heightSegments"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.width="convertFloat",this.property_converters.height="convertFloat",this.property_converters.widthSegments=null,this.property_converters.heightSegments=null,this.property_converters.type=null}},{model_name:"PlaneGeometryModel",serializers:o.extend({},i.serializers)});e.exports={PlaneGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{width:1,height:1,widthSegments:1,heightSegments:1,type:"PlaneBufferGeometry"})},constructThreeObject:function(){var e=new n.PlaneBufferGeometry(this.convertFloatModelToThree(this.get("width"),"width"),this.convertFloatModelToThree(this.get("height"),"height"),this.get("widthSegments"),this.get("heightSegments"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.width="convertFloat",this.property_converters.height="convertFloat",this.property_converters.widthSegments=null,this.property_converters.heightSegments=null,this.property_converters.type=null}},{model_name:"PlaneBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={PlaneBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{func:function(e,t){return n.Vector3()},slices:3,stacks:3,type:"ParametricGeometry"})},constructThreeObject:function(){var e=new n.ParametricGeometry(this.convertFunctionModelToThree(this.get("func"),"func"),this.get("slices"),this.get("stacks"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.func="convertFunction",this.property_converters.slices=null,this.property_converters.stacks=null,this.property_converters.type=null}},{model_name:"ParametricGeometryModel",serializers:o.extend({},i.serializers)});e.exports={ParametricGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,detail:0,type:"OctahedronGeometry"})},constructThreeObject:function(){var e=new n.OctahedronGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("detail"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.detail=null,this.property_converters.type=null}},{model_name:"OctahedronGeometryModel",serializers:o.extend({},i.serializers)});e.exports={OctahedronGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{points:[],segments:12,phiStart:0,phiLength:6.283185307179586,type:"LatheGeometry"})},constructThreeObject:function(){var e=new n.LatheGeometry(this.convertVectorArrayModelToThree(this.get("points"),"points"),this.get("segments"),this.convertFloatModelToThree(this.get("phiStart"),"phiStart"),this.convertFloatModelToThree(this.get("phiLength"),"phiLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.points="convertVectorArray",this.property_converters.segments=null,this.property_converters.phiStart="convertFloat",this.property_converters.phiLength="convertFloat",this.property_converters.type=null,this.property_assigners.points="assignArray"}},{model_name:"LatheGeometryModel",serializers:o.extend({},i.serializers)});e.exports={LatheGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{points:[],segments:12,phiStart:0,phiLength:6.283185307179586,type:"LatheBufferGeometry"})},constructThreeObject:function(){var e=new n.LatheBufferGeometry(this.convertVectorArrayModelToThree(this.get("points"),"points"),this.get("segments"),this.convertFloatModelToThree(this.get("phiStart"),"phiStart"),this.convertFloatModelToThree(this.get("phiLength"),"phiLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.points="convertVectorArray",this.property_converters.segments=null,this.property_converters.phiStart="convertFloat",this.property_converters.phiLength="convertFloat",this.property_converters.type=null,this.property_assigners.points="assignArray"}},{model_name:"LatheBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={LatheBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,detail:0,type:"IcosahedronGeometry"})},constructThreeObject:function(){var e=new n.IcosahedronGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("detail"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.detail=null,this.property_converters.type=null}},{model_name:"IcosahedronGeometryModel",serializers:o.extend({},i.serializers)});e.exports={IcosahedronGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"ExtrudeGeometry"})},constructThreeObject:function(){var e=new n.ExtrudeGeometry;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.type=null}},{model_name:"ExtrudeGeometryModel",serializers:o.extend({},i.serializers)});e.exports={ExtrudeGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"EdgesGeometry"})},constructThreeObject:function(){var e=new n.EdgesGeometry;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.type=null}},{model_name:"EdgesGeometryModel",serializers:o.extend({},i.serializers)});e.exports={EdgesGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,detail:0,type:"DodecahedronGeometry"})},constructThreeObject:function(){var e=new n.DodecahedronGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("detail"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.detail=null,this.property_converters.type=null}},{model_name:"DodecahedronGeometryModel",serializers:o.extend({},i.serializers)});e.exports={DodecahedronGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radiusTop:1,radiusBottom:1,height:1,radiusSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:6.283185307179586,type:"CylinderGeometry"})},constructThreeObject:function(){var e=new n.CylinderGeometry(this.convertFloatModelToThree(this.get("radiusTop"),"radiusTop"),this.convertFloatModelToThree(this.get("radiusBottom"),"radiusBottom"),this.convertFloatModelToThree(this.get("height"),"height"),this.get("radiusSegments"),this.get("heightSegments"),this.convertBoolModelToThree(this.get("openEnded"),"openEnded"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radiusTop="convertFloat",this.property_converters.radiusBottom="convertFloat",this.property_converters.height="convertFloat",this.property_converters.radiusSegments=null,this.property_converters.heightSegments=null,this.property_converters.openEnded="convertBool",this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"CylinderGeometryModel",serializers:o.extend({},i.serializers)});e.exports={CylinderGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radiusTop:1,radiusBottom:1,height:1,radiusSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:6.283185307179586,type:"CylinderBufferGeometry"})},constructThreeObject:function(){var e=new n.CylinderBufferGeometry(this.convertFloatModelToThree(this.get("radiusTop"),"radiusTop"),this.convertFloatModelToThree(this.get("radiusBottom"),"radiusBottom"),this.convertFloatModelToThree(this.get("height"),"height"),this.get("radiusSegments"),this.get("heightSegments"),this.convertBoolModelToThree(this.get("openEnded"),"openEnded"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radiusTop="convertFloat",this.property_converters.radiusBottom="convertFloat",this.property_converters.height="convertFloat",this.property_converters.radiusSegments=null,this.property_converters.heightSegments=null,this.property_converters.openEnded="convertBool",this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"CylinderBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={CylinderBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:20,height:100,radialSegments:8,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:6.283185307179586,type:"ConeGeometry"})},constructThreeObject:function(){var e=new n.ConeGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.convertFloatModelToThree(this.get("height"),"height"),this.get("radialSegments"),this.get("heightSegments"),this.convertBoolModelToThree(this.get("openEnded"),"openEnded"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.height="convertFloat",this.property_converters.radialSegments=null,this.property_converters.heightSegments=null,this.property_converters.openEnded="convertBool",this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"ConeGeometryModel",serializers:o.extend({},i.serializers)});e.exports={ConeGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,segments:8,thetaStart:0,thetaLength:6.283185307179586,type:"CircleGeometry"})},constructThreeObject:function(){var e=new n.CircleGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("segments"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.segments=null,this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"CircleGeometryModel",serializers:o.extend({},i.serializers)});e.exports={CircleGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{radius:1,segments:8,thetaStart:0,thetaLength:6.283185307179586,type:"CircleBufferGeometry"})},constructThreeObject:function(){var e=new n.CircleBufferGeometry(this.convertFloatModelToThree(this.get("radius"),"radius"),this.get("segments"),this.convertFloatModelToThree(this.get("thetaStart"),"thetaStart"),this.convertFloatModelToThree(this.get("thetaLength"),"thetaLength"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.radius="convertFloat",this.property_converters.segments=null,this.property_converters.thetaStart="convertFloat",this.property_converters.thetaLength="convertFloat",this.property_converters.type=null}},{model_name:"CircleBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={CircleBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(6).BaseGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,type:"BoxGeometry"})},constructThreeObject:function(){var e=new n.BoxGeometry(this.convertFloatModelToThree(this.get("width"),"width"),this.convertFloatModelToThree(this.get("height"),"height"),this.convertFloatModelToThree(this.get("depth"),"depth"),this.get("widthSegments"),this.get("heightSegments"),this.get("depthSegments"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.width="convertFloat",this.property_converters.height="convertFloat",this.property_converters.depth="convertFloat",this.property_converters.widthSegments=null,this.property_converters.heightSegments=null,this.property_converters.depthSegments=null,this.property_converters.type=null}},{model_name:"BoxGeometryModel",serializers:o.extend({},i.serializers)});e.exports={BoxGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(7).BaseBufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,type:"BoxBufferGeometry"})},constructThreeObject:function(){var e=new n.BoxBufferGeometry(this.convertFloatModelToThree(this.get("width"),"width"),this.convertFloatModelToThree(this.get("height"),"height"),this.convertFloatModelToThree(this.get("depth"),"depth"),this.get("widthSegments"),this.get("heightSegments"),this.get("depthSegments"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.width="convertFloat",this.property_converters.height="convertFloat",this.property_converters.depth="convertFloat",this.property_converters.widthSegments=null,this.property_converters.heightSegments=null,this.property_converters.depthSegments=null,this.property_converters.type=null}},{model_name:"BoxBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={BoxBufferGeometryModel:s}},function(e,t,r){var o=[r(205),r(204),r(203),r(202),r(201),r(200),r(199),r(198),r(197),r(196),r(195),r(194),r(193),r(192),r(191),r(190),r(189),r(188),r(187),r(186),r(185),r(184),r(183),r(182),r(181),r(180),r(179),r(178),r(177),r(176),r(175)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.ImmediateRenderObject;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ImmediateRenderObjectModel",serializers:o.extend({},i.serializers)});e.exports={ImmediateRenderObjectModel:s}},function(e,t,r){var o=[r(207)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.SplineCurve;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"SplineCurveModel",serializers:o.extend({},i.serializers)});e.exports={SplineCurveModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.QuadraticBezierCurve3;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"QuadraticBezierCurve3Model",serializers:o.extend({},i.serializers)});e.exports={QuadraticBezierCurve3Model:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.QuadraticBezierCurve;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"QuadraticBezierCurveModel",serializers:o.extend({},i.serializers)});e.exports={QuadraticBezierCurveModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.LineCurve3;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"LineCurve3Model",serializers:o.extend({},i.serializers)});e.exports={LineCurve3Model:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.LineCurve;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"LineCurveModel",serializers:o.extend({},i.serializers)});e.exports={LineCurveModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.EllipseCurve;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"EllipseCurveModel",serializers:o.extend({},i.serializers)});e.exports={EllipseCurveModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.CubicBezierCurve3;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CubicBezierCurve3Model",serializers:o.extend({},i.serializers)});e.exports={CubicBezierCurve3Model:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.CubicBezierCurve;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CubicBezierCurveModel",serializers:o.extend({},i.serializers)});e.exports={CubicBezierCurveModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.CatmullRomCurve3;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CatmullRomCurve3Model",serializers:o.extend({},i.serializers)});e.exports={CatmullRomCurve3Model:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.ArcCurve;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ArcCurveModel",serializers:o.extend({},i.serializers)});e.exports={ArcCurveModel:s}},function(e,t,r){var o=[r(218),r(217),r(216),r(215),r(214),r(213),r(212),r(211),r(210),r(209)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.ShapePath;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ShapePathModel",serializers:o.extend({},i.serializers)});e.exports={ShapePathModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Path;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"PathModel",serializers:o.extend({},i.serializers)});e.exports={PathModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Font;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"FontModel",serializers:o.extend({},i.serializers)});e.exports={FontModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.CurvePath;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"CurvePathModel",serializers:o.extend({},i.serializers)});e.exports={CurvePathModel:s}},function(e,t,r){var o=[r(47),r(223),r(222),r(221),r(46),r(220)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=[r(224),r(219),r(208)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(0),n=function(){this.id=0,this.object=null,this.z=0},i=function(){this.id=0,this.v1=new s,this.v2=new s,this.v3=new s,this.normalModel=new o.Vector3,this.vertexNormalsModel=[new o.Vector3,new o.Vector3,new o.Vector3],this.vertexNormalsLength=0,this.color=new o.Color,this.material=null,this.uvs=[new o.Vector2,new o.Vector2,new o.Vector2],this.z=0},s=function(){this.position=new o.Vector3,this.positionWorld=new o.Vector3,this.positionScreen=new o.Vector4,this.visible=!0};s.prototype.copy=function(e){this.positionWorld.copy(e.positionWorld),this.positionScreen.copy(e.positionScreen)};var a=function(){this.id=0,this.v1=new s,this.v2=new s,this.vertexColors=[new o.Color,new o.Color],this.material=null,this.z=0},l=function(){this.id=0,this.object=null,this.x=0,this.y=0,this.z=0,this.rotation=0,this.scale=new o.Vector2,this.material=null};e.exports={RenderableObject:n,RenderableFace:i,RenderableVertex:s,RenderableSprite:l,Projector:function(){var e,t,r,c,p,h,u,d,f,y,v,m=[],g=0,_=[],T=0,b=[],x=0,M=[],w=0,P=[],A=0,j={objects:[],lights:[],elements:[]},C=new o.Vector3,S=new o.Vector3,F=new o.Vector3,E=new o.Vector3,z=new o.Vector4,O=new o.Box3(new o.Vector3(-1,-1,-1),new o.Vector3(1,1,1)),k=new o.Box3,L=new Array(3),B=(new Array(4),new o.Matrix4),R=new o.Matrix4,D=new o.Matrix4,N=new o.Matrix3,V=new o.Frustum,I=new o.Vector4,G=new o.Vector4;this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(e,t){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")};var W=new function(){var e=[],t=[],n=null,i=null,s=new o.Matrix3,a=function(e){var t=e.position,r=e.positionWorld,o=e.positionScreen;r.copy(t).applyMatrix4(v),o.copy(r).applyMatrix4(R);var n=1/o.w;o.x*=n,o.y*=n,o.z*=n,e.visible=o.x>=-1&&o.x<=1&&o.y>=-1&&o.y<=1&&o.z>=-1&&o.z<=1},l=function(e,t,r){return!0===e.visible||!0===t.visible||!0===r.visible||(L[0]=e.positionScreen,L[1]=t.positionScreen,L[2]=r.positionScreen,O.isIntersectionBox(k.setFromPoints(L)))},c=function(e,t,r){return(r.positionScreen.x-e.positionScreen.x)*(t.positionScreen.y-e.positionScreen.y)-(r.positionScreen.y-e.positionScreen.y)*(t.positionScreen.x-e.positionScreen.x)<0};return{setObject:function(r){i=(n=r).material,s.getNormalMatrix(n.matrixWorld),e.length=0,t.length=0},projectVertex:a,checkTriangleVisibility:l,checkBackfaceCulling:c,pushVertex:function(e,t,o){(r=H()).position.set(e,t,o),a(r)},pushNormal:function(t,r,o){e.push(t,r,o)},pushUv:function(e,r){t.push(e,r)},pushLine:function(e,t){var r=_[e],o=_[t];(u=U()).id=n.id,u.v1.copy(r),u.v2.copy(o),u.z=(r.positionScreen.z+o.positionScreen.z)/2,u.material=n.material,j.elements.push(u)},pushTriangle:function(r,a,h){var u=_[r],d=_[a],f=_[h];if(!1!==l(u,d,f)&&(i.side===o.DoubleSide||!0===c(u,d,f))){(p=q()).id=n.id,p.v1.copy(u),p.v2.copy(d),p.v3.copy(f),p.z=(u.positionScreen.z+d.positionScreen.z+f.positionScreen.z)/3;for(var y=0;y<3;y++){var v=3*arguments[y],m=p.vertexNormalsModel[y];m.set(e[v],e[v+1],e[v+2]),m.applyMatrix3(s).normalize();var g=2*arguments[y];p.uvs[y].set(t[g],t[g+1])}p.vertexNormalsLength=3,p.material=n.material,j.elements.push(p)}}}};function H(){if(c===T){var e=new s;return _.push(e),T++,c++,e}return _[c++]}function q(){if(h===x){var e=new i;return b.push(e),x++,h++,e}return b[h++]}function U(){if(d===w){var e=new a;return M.push(e),w++,d++,e}return M[d++]}function $(){if(y===A){var e=new l;return P.push(e),A++,y++,e}return P[y++]}function X(e,t){return e.z!==t.z?t.z-e.z:e.id!==t.id?e.id-t.id:0}this.projectScene=function(r,i,s,a){h=0,d=0,y=0,j.elements.length=0,!0===r.autoUpdate&&r.updateMatrixWorld(),void 0===i.parent&&i.updateMatrixWorld(),B.copy(i.matrixWorldInverse.getInverse(i.matrixWorld)),R.multiplyMatrices(i.projectionMatrix,B),V.setFromMatrix(R),t=0,j.objects.length=0,j.lights.length=0,r.traverseVisible(function(r){if(r.isLight)j.lights.push(r);else if(r.isMesh||r.isLine||r.isSprite){if(!1===r.material.visible)return;!1!==r.frustumCulled&&!0!==V.intersectsObject(r)||((e=function(){if(t===g){var e=new n;return m.push(e),g++,t++,e}return m[t++]}()).id=r.id,e.object=r,E.setFromMatrixPosition(r.matrixWorld),E.applyProjection(R),e.z=E.z,j.objects.push(e))}}),!0===s&&j.objects.sort(X);for(var l=0,T=j.objects.length;l<T;l++){var b=j.objects[l].object,x=b.geometry;if(W.setObject(b),v=b.matrixWorld,c=0,b.isMesh){if(x.isBufferGeometry){var M=x.attributes,w=x.offsets;if(void 0===M.position)continue;for(var P=0,A=(Se=M.position.array).length;P<A;P+=3)W.pushVertex(Se[P],Se[P+1],Se[P+2]);if(void 0!==M.normal){var O=M.normal.array;for(P=0,A=O.length;P<A;P+=3)W.pushNormal(O[P],O[P+1],O[P+2])}if(void 0!==M.uv){var k=M.uv.array;for(P=0,A=k.length;P<A;P+=2)W.pushUv(k[P],k[P+1])}if(void 0!==M.index){var L=M.index.array;if(w.length>0)for(l=0;l<w.length;l++){var K=w[l],Q=K.index;for(P=K.start,A=K.start+K.count;P<A;P+=3)W.pushTriangle(L[P]+Q,L[P+1]+Q,L[P+2]+Q)}else for(P=0,A=L.length;P<A;P+=3)W.pushTriangle(L[P],L[P+1],L[P+2])}else for(P=0,A=Se.length/3;P<A;P+=3)W.pushTriangle(P,P+1,P+2)}else if(x.isGeometry){var Y=x.vertices,Z=x.faces,J=x.faceVertexUvs[0];N.getNormalMatrix(v);for(var ee=Array.isArray(b.material),te=!0===ee?b.material:null,re=0,oe=Y.length;re<oe;re++){var ne=Y[re];W.pushVertex(ne.x,ne.y,ne.z)}for(var ie=0,se=Z.length;ie<se;ie++){var ae=Z[ie],le=!0===ee?te.materials[ae.materialIndex]:b.material;if(void 0!==le){var ce=le.side,pe=_[ae.a],he=_[ae.b],ue=_[ae.c];if(!0===le.morphTargets){var de=x.morphTargets,fe=b.morphTargetInfluences,ye=pe.position,ve=he.position,me=ue.position;C.set(0,0,0),S.set(0,0,0),F.set(0,0,0);for(var ge=0,_e=de.length;ge<_e;ge++){var Te=fe[ge];if(0!==Te){var be=de[ge].vertices;C.x+=(be[ae.a].x-ye.x)*Te,C.y+=(be[ae.a].y-ye.y)*Te,C.z+=(be[ae.a].z-ye.z)*Te,S.x+=(be[ae.b].x-ve.x)*Te,S.y+=(be[ae.b].y-ve.y)*Te,S.z+=(be[ae.b].z-ve.z)*Te,F.x+=(be[ae.c].x-me.x)*Te,F.y+=(be[ae.c].y-me.y)*Te,F.z+=(be[ae.c].z-me.z)*Te}}pe.position.add(C),he.position.add(S),ue.position.add(F),W.projectVertex(pe),W.projectVertex(he),W.projectVertex(ue)}if(!1!==W.checkTriangleVisibility(pe,he,ue)){var xe=W.checkBackfaceCulling(pe,he,ue);if(ce!==o.DoubleSide){if(ce===o.FrontSide&&!1===xe)continue;if(ce===o.BackSide&&!0===xe)continue}(p=q()).id=b.id,p.v1.copy(pe),p.v2.copy(he),p.v3.copy(ue),p.normalModel.copy(ae.normal),!1!==xe||ce!==o.BackSide&&ce!==o.DoubleSide||p.normalModel.negate(),p.normalModel.applyMatrix3(N).normalize();for(var Me=ae.vertexNormals,we=0,Pe=Math.min(Me.length,3);we<Pe;we++){var Ae=p.vertexNormalsModel[we];Ae.copy(Me[we]),!1!==xe||ce!==o.BackSide&&ce!==o.DoubleSide||Ae.negate(),Ae.applyMatrix3(N).normalize()}p.vertexNormalsLength=Me.length;var je=J[ie];if(void 0!==je)for(var Ce=0;Ce<3;Ce++)p.uvs[Ce].copy(je[Ce]);p.color=ae.color,p.material=le,p.z=(pe.positionScreen.z+he.positionScreen.z+ue.positionScreen.z)/3,j.elements.push(p)}}}}}else if(b.isLine){if(x.isBufferGeometry){if(void 0!==(M=x.attributes).position){var Se;for(P=0,A=(Se=M.position.array).length;P<A;P+=3)W.pushVertex(Se[P],Se[P+1],Se[P+2]);if(void 0!==M.index)for(P=0,A=(L=M.index.array).length;P<A;P+=2)W.pushLine(L[P],L[P+1]);else{var Fe=b.mode===o.LinePieces?2:1;for(P=0,A=Se.length/3-1;P<A;P+=Fe)W.pushLine(P,P+1)}}}else if(x.isGeometry){if(D.multiplyMatrices(R,v),0===(Y=b.geometry.vertices).length)continue;for((pe=H()).positionScreen.copy(Y[0]).applyMatrix4(D),Fe=b.mode===o.LinePieces?2:1,re=1,oe=Y.length;re<oe;re++)(pe=H()).positionScreen.copy(Y[re]).applyMatrix4(D),(re+1)%Fe>0||(he=_[c-2],I.copy(pe.positionScreen),G.copy(he.positionScreen),!0==(Oe=G,ke=void 0,Le=void 0,void 0,void 0,void 0,void 0,ke=0,Le=1,Be=(ze=I).z+ze.w,Re=Oe.z+Oe.w,De=-ze.z+ze.w,Ne=-Oe.z+Oe.w,Be>=0&&Re>=0&&De>=0&&Ne>=0||!(Be<0&&Re<0||De<0&&Ne<0)&&(Be<0?ke=Math.max(ke,Be/(Be-Re)):Re<0&&(Le=Math.min(Le,Be/(Be-Re))),De<0?ke=Math.max(ke,De/(De-Ne)):Ne<0&&(Le=Math.min(Le,De/(De-Ne))),!(Le<ke||(ze.lerp(Oe,ke),Oe.lerp(ze,1-Le),0))))&&(I.multiplyScalar(1/I.w),G.multiplyScalar(1/G.w),(u=U()).id=b.id,u.v1.positionScreen.copy(I),u.v2.positionScreen.copy(G),u.z=Math.max(I.z,G.z),u.material=b.material,b.material.vertexColors===o.VertexColors&&(u.vertexColors[0].copy(b.geometry.colors[re]),u.vertexColors[1].copy(b.geometry.colors[re-1])),j.elements.push(u)))}}else if(b.isSprite){z.set(v.elements[12],v.elements[13],v.elements[14],1),z.applyMatrix4(R);var Ee=1/z.w;z.z*=Ee,z.z>=-1&&z.z<=1&&((f=$()).id=b.id,f.x=z.x*Ee,f.y=z.y*Ee,f.z=z.z,f.object=b,f.rotation=b.rotation,f.scale.x=b.scale.x*Math.abs(f.x-(z.x+i.projectionMatrix.elements[0])/(z.w+i.projectionMatrix.elements[12])),f.scale.y=b.scale.y*Math.abs(f.y-(z.y+i.projectionMatrix.elements[5])/(z.w+i.projectionMatrix.elements[13])),f.material=b.material,j.elements.push(f))}}var ze,Oe,ke,Le,Be,Re,De,Ne;return!0===a&&j.elements.sort(X),j}}}},function(e,t,r){var o=r(0),n=function(e){o.Material.call(this),this.type="SpriteCanvasMaterial",this.color=new o.Color(16777215),this.program=function(e,t){},this.setValues(e)};n.prototype=Object.create(o.Material.prototype),n.prototype.constructor=n,n.prototype.clone=function(){var e=new n;return o.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.program=this.program,e};e.exports={CanvasRenderer:function(e){console.log("CanvasRenderer",o.REVISION);var t=o.Math.smoothstep;e=e||{};var r,i,s,a,l,c,p,h,u,d,f,y,v,m,g,_,T,b,x,M,w=this,P=new o.Projector,A=void 0!==e.canvas?e.canvas:document.createElement("canvas"),j=A.width,C=A.height,S=Math.floor(j/2),F=Math.floor(C/2),E=0,z=0,O=j,k=C,L=1,B=A.getContext("2d",{alpha:!0===e.alpha}),R=new o.Color(0),D=!0===e.alpha?0:1,N=1,V=0,I=null,G=null,W=null,H=null,q=null,U=[],$=(new o.RenderableVertex,new o.RenderableVertex,new o.Color),X=(new o.Color,new o.Color,new o.Color,new o.Color,new o.Color),K=new o.Color,Q=new o.Color,Y={},Z=new o.Box2,J=new o.Box2,ee=new o.Box2,te=new o.Color,re=new o.Color,oe=new o.Color,ne=new o.Vector3,ie=new o.Vector3,se=new o.Vector3,ae=new o.Matrix3;function le(e,t,r){me(r.opacity),ge(r.blending);var i=t.scale.x*S,s=t.scale.y*F,a=.5*Math.sqrt(i*i+s*s);if(ee.min.set(e.x-a,e.y-a),ee.max.set(e.x+a,e.y+a),r instanceof o.SpriteMaterial){var l=r.map;if(null!==l&&void 0!==l.image){!1===l.hasEventListener("update",de)&&(l.image.width>0&&fe(l),l.addEventListener("update",de));var c=Y[l.id];Me(void 0!==c?c:"rgba( 0, 0, 0, 1 )");var p=l.image,h=p.width*l.offset.x,u=p.height*l.offset.y,d=p.width*l.repeat.x,f=p.height*l.repeat.y,y=i/d,v=s/f;B.save(),B.translate(e.x,e.y),0!==r.rotation&&B.rotate(r.rotation),B.translate(-i/2,-s/2),B.scale(y,v),B.translate(-h,-u),B.fillRect(h,u,d,f),B.restore()}else Me(r.color.getStyle()),B.save(),B.translate(e.x,e.y),0!==r.rotation&&B.rotate(r.rotation),B.scale(i,-s),B.fillRect(-.5,-.5,1,1),B.restore()}else r instanceof n&&(xe(r.color.getStyle()),Me(r.color.getStyle()),B.save(),B.translate(e.x,e.y),0!==r.rotation&&B.rotate(r.rotation),B.scale(i,s),r.program(B),B.restore())}function ce(e,t,r,n){if(me(n.opacity),ge(n.blending),B.beginPath(),B.moveTo(e.positionScreen.x,e.positionScreen.y),B.lineTo(t.positionScreen.x,t.positionScreen.y),n instanceof o.LineBasicMaterial){if(_e(n.linewidth),Te(n.linecap),be(n.linejoin),n.vertexColors!==o.VertexColors)xe(n.color.getStyle());else{var i=r.vertexColors[0].getStyle(),s=r.vertexColors[1].getStyle();if(i===s)xe(i);else{try{var a=B.createLinearGradient(e.positionScreen.x,e.positionScreen.y,t.positionScreen.x,t.positionScreen.y);a.addColorStop(0,i),a.addColorStop(1,s)}catch(e){a=i}xe(a)}}B.stroke(),ee.expandByScalar(2*n.linewidth)}else n instanceof o.LineDashedMaterial&&(_e(n.linewidth),Te(n.linecap),be(n.linejoin),xe(n.color.getStyle()),we([n.dashSize,n.gapSize]),B.stroke(),ee.expandByScalar(2*n.linewidth),we([]))}function pe(e,r,n,i,l,c,p,P){var A,j,C,S,F,E;w.info.render.vertices+=3,w.info.render.faces++,me(P.opacity),ge(P.blending),h=e.positionScreen.x,u=e.positionScreen.y,d=r.positionScreen.x,f=r.positionScreen.y,y=n.positionScreen.x,v=n.positionScreen.y,A=h,j=u,C=d,S=f,F=y,E=v,B.beginPath(),B.moveTo(A,j),B.lineTo(C,S),B.lineTo(F,E),B.closePath(),(P instanceof o.MeshLambertMaterial||P instanceof o.MeshPhongMaterial)&&null===P.map?(X.copy(P.color),K.copy(P.emissive),P.vertexColors===o.FaceColors&&X.multiply(p.color),$.copy(te),ie.copy(e.positionWorld).add(r.positionWorld).add(n.positionWorld).divideScalar(3),function(e,t,r){for(var n=0,i=s.length;n<i;n++){var a=s[n];if(Q.copy(a.color),a instanceof o.DirectionalLight){var l=ne.setFromMatrixPosition(a.matrixWorld).normalize();if((c=t.dot(l))<=0)continue;c*=a.intensity,r.add(Q.multiplyScalar(c))}else if(a instanceof o.PointLight){var c;if(l=ne.setFromMatrixPosition(a.matrixWorld),(c=t.dot(ne.subVectors(l,e).normalize()))<=0)continue;if(0==(c*=0==a.distance?1:1-Math.min(e.distanceTo(l)/a.distance,1)))continue;c*=a.intensity,r.add(Q.multiplyScalar(c))}}}(ie,p.normalModel,$),$.multiply(X).add(K),!0===P.wireframe?he($,P.wireframeLinewidth,P.wireframeLinecap,P.wireframeLinejoin):ue($)):P instanceof o.MeshBasicMaterial||P instanceof o.MeshLambertMaterial||P instanceof o.MeshPhongMaterial?null!==P.map?P.map.mapping===o.UVMapping&&(m=p.uvs,ye(h,u,d,f,y,v,m[i].x,m[i].y,m[l].x,m[l].y,m[c].x,m[c].y,P.map)):null!==P.envMap?P.envMap.mapping===o.SphericalReflectionMapping&&(se.copy(p.vertexNormalsModel[i]).applyMatrix3(ae),g=.5*se.x+.5,_=.5*se.y+.5,se.copy(p.vertexNormalsModel[l]).applyMatrix3(ae),T=.5*se.x+.5,b=.5*se.y+.5,se.copy(p.vertexNormalsModel[c]).applyMatrix3(ae),x=.5*se.x+.5,M=.5*se.y+.5,ye(h,u,d,f,y,v,g,_,T,b,x,M,P.envMap)):($.copy(P.color),P.vertexColors===o.FaceColors&&$.multiply(p.color),!0===P.wireframe?he($,P.wireframeLinewidth,P.wireframeLinecap,P.wireframeLinejoin):ue($)):P instanceof o.MeshDepthMaterial?($.r=$.g=$.b=1-t(e.positionScreen.z*e.positionScreen.w,a.near,a.far),!0===P.wireframe?he($,P.wireframeLinewidth,P.wireframeLinecap,P.wireframeLinejoin):ue($)):P instanceof o.MeshNormalMaterial?(se.copy(p.normalModel).applyMatrix3(ae),$.setRGB(se.x,se.y,se.z).multiplyScalar(.5).addScalar(.5),!0===P.wireframe?he($,P.wireframeLinewidth,P.wireframeLinecap,P.wireframeLinejoin):ue($)):($.setRGB(1,1,1),!0===P.wireframe?he($,P.wireframeLinewidth,P.wireframeLinecap,P.wireframeLinejoin):ue($))}function he(e,t,r,o){_e(t),Te(r),be(o),xe(e.getStyle()),B.stroke(),ee.expandByScalar(2*t)}function ue(e){Me(e.getStyle()),B.fill()}function de(e){fe(e.target)}function fe(e){if(!(e instanceof o.CompressedTexture)){var t=e.wrapS===o.RepeatWrapping,r=e.wrapT===o.RepeatWrapping,n=e.image,i=document.createElement("canvas");i.width=n.width,i.height=n.height;var s=i.getContext("2d");s.setTransform(1,0,0,-1,0,n.height),s.drawImage(n,0,0),Y[e.id]=B.createPattern(i,!0===t&&!0===r?"repeat":!0===t&&!1===r?"repeat-x":!1===t&&!0===r?"repeat-y":"no-repeat")}}function ye(e,t,r,n,i,s,a,l,c,p,h,u,d){if(!(d instanceof o.DataTexture)){!1===d.hasEventListener("update",de)&&(void 0!==d.image&&d.image.width>0&&fe(d),d.addEventListener("update",de));var f=Y[d.id];if(void 0===f)return Me("rgba(0,0,0,1)"),void B.fill();Me(f);var y,v,m,g,_,T,b,x,M=d.offset.x/d.repeat.x,w=d.offset.y/d.repeat.y,P=d.image.width*d.repeat.x,A=d.image.height*d.repeat.y;c=(c+M)*P,p=(p+w)*A,h=(h+M)*P,u=(u+w)*A,r-=e,n-=t,i-=e,s-=t,0!=(b=(c-=a=(a+M)*P)*(u-=l=(l+w)*A)-(h-=a)*(p-=l))&&(_=e-(y=(u*r-p*i)*(x=1/b))*a-(m=(c*i-h*r)*x)*l,T=t-(v=(u*n-p*s)*x)*a-(g=(c*s-h*n)*x)*l,B.save(),B.transform(y,v,m,g,_,T),B.fill(),B.restore())}}function ve(e,t,r){var o,n=t.x-e.x,i=t.y-e.y,s=n*n+i*i;0!==s&&(n*=o=r/Math.sqrt(s),i*=o,t.x+=n,t.y+=i,e.x-=n,e.y-=i)}function me(e){N!==e&&(B.globalAlpha=e,N=e)}function ge(e){V!==e&&(e===o.NormalBlending?B.globalCompositeOperation="source-over":e===o.AdditiveBlending?B.globalCompositeOperation="lighter":e===o.SubtractiveBlending&&(B.globalCompositeOperation="darker"),V=e)}function _e(e){W!==e&&(B.lineWidth=e,W=e)}function Te(e){H!==e&&(B.lineCap=e,H=e)}function be(e){q!==e&&(B.lineJoin=e,q=e)}function xe(e){I!==e&&(B.strokeStyle=e,I=e)}function Me(e){G!==e&&(B.fillStyle=e,G=e)}function we(e){U.length!==e.length&&(B.setLineDash(e),U=e)}void 0===B.setLineDash&&(B.setLineDash=function(){}),this.domElement=A,this.autoClear=!0,this.sortObjects=!0,this.sortElements=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.getPixelRatio=function(){return L},this.setPixelRatio=function(e){L=e},this.setSize=function(e,t,r){j=e*L,C=t*L,A.width=j,A.height=C,S=Math.floor(j/2),F=Math.floor(C/2),!1!==r&&(A.style.width=e+"px",A.style.height=t+"px"),Z.min.set(-S,-F),Z.max.set(S,F),J.min.set(-S,-F),J.max.set(S,F),N=1,V=0,I=null,G=null,W=null,H=null,q=null,this.setViewport(0,0,e,t)},this.setViewport=function(e,t,r,o){E=e*L,z=t*L,O=r*L,k=o*L},this.setScissor=function(){},this.enableScissorTest=function(){},this.setClearColor=function(e,t){R.set(e),D=void 0!==t?t:1,J.min.set(-S,-F),J.max.set(S,F)},this.setClearColorHex=function(e,t){console.warn("CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getClearColor=function(){return R},this.getClearAlpha=function(){return D},this.getMaxAnisotropy=function(){return 0},this.clear=function(){!1===J.empty()&&(J.intersect(Z),J.expandByScalar(2),J.min.x=J.min.x+S,J.min.y=-J.min.y+F,J.max.x=J.max.x+S,J.max.y=-J.max.y+F,D<1&&B.clearRect(0|J.min.x,0|J.max.y,J.max.x-J.min.x|0,J.min.y-J.max.y|0),D>0&&(ge(o.NormalBlending),me(1),Me("rgba("+Math.floor(255*R.r)+","+Math.floor(255*R.g)+","+Math.floor(255*R.b)+","+D+")"),B.fillRect(0|J.min.x,0|J.max.y,J.max.x-J.min.x|0,J.min.y-J.max.y|0)),J.makeEmpty())},this.clearColor=function(){},this.clearDepth=function(){},this.clearStencil=function(){},this.render=function(e,t){if(t instanceof o.Camera!=0){!0===this.autoClear&&this.clear(),w.info.render.vertices=0,w.info.render.faces=0,B.setTransform(O/j,0,0,-k/C,E,C-z),B.translate(S,F),r=P.projectScene(e,t,this.sortObjects,this.sortElements),i=r.elements,s=r.lights,a=t,ae.getNormalMatrix(t.matrixWorldInverse),function(){te.setRGB(0,0,0),re.setRGB(0,0,0),oe.setRGB(0,0,0);for(var e=0,t=s.length;e<t;e++){var r=s[e],n=r.color;r instanceof o.AmbientLight?te.add(n):r instanceof o.DirectionalLight?re.add(n):r instanceof o.PointLight&&oe.add(n)}}();for(var n=0,h=i.length;n<h;n++){var u=i[n],d=u.material;if(void 0!==d&&0!==d.opacity){if(ee.makeEmpty(),u instanceof o.RenderableSprite)(l=u).x*=S,l.y*=F,le(l,u,d);else if(u instanceof o.RenderableLine)l=u.v1,c=u.v2,l.positionScreen.x*=S,l.positionScreen.y*=F,c.positionScreen.x*=S,c.positionScreen.y*=F,ee.setFromPoints([l.positionScreen,c.positionScreen]),!0===Z.isIntersectionBox(ee)&&ce(l,c,u,d);else if(u instanceof o.RenderableFace){if(l=u.v1,c=u.v2,p=u.v3,l.positionScreen.z<-1||l.positionScreen.z>1)continue;if(c.positionScreen.z<-1||c.positionScreen.z>1)continue;if(p.positionScreen.z<-1||p.positionScreen.z>1)continue;l.positionScreen.x*=S,l.positionScreen.y*=F,c.positionScreen.x*=S,c.positionScreen.y*=F,p.positionScreen.x*=S,p.positionScreen.y*=F,d.overdraw>0&&(ve(l.positionScreen,c.positionScreen,d.overdraw),ve(c.positionScreen,p.positionScreen,d.overdraw),ve(p.positionScreen,l.positionScreen,d.overdraw)),ee.setFromPoints([l.positionScreen,c.positionScreen,p.positionScreen]),!0===Z.isIntersectionBox(ee)&&pe(l,c,p,0,1,2,u,d)}J.union(ee)}}B.setTransform(1,0,0,1,0,0)}else console.error("CanvasRenderer.render: camera is not an instance of THREE.Camera.")}},SpriteCanvasMaterial:n}},function(e,t,r){var o=[r(227),r(226)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=[r(51),r(28),r(50)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=[r(52)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t){var r={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,o,n;t=void 0!==(e=e||{}).parent?e.parent:document.body,o=void 0!==e.id?e.id:"oldie",(n=r.getWebGLErrorMessage()).id=o,t.appendChild(n)}};e.exports={Detector:r}},function(e,t){e.exports={env:{browser:!0,commonjs:!0},extends:"eslint:recommended",rules:{indent:["error","tab"],"linebreak-style":["error","windows"],quotes:["error","single"],semi:["error","always"],"no-console":"off","no-unused-vars":"warn","no-redeclare":"warn"}}},function(e,t,r){var o=[r(232),r(231),r(230),r(229),r(228)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Uniform;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"UniformModel",serializers:o.extend({},i.serializers)});e.exports={UniformModel:s}},function(e,t,r){var o=r(1),n=r(2),i=r(15).RenderableModel,s=r(15).RenderableView,a=r(4).ThreeModel,l=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{_view_name:"RendererView",_model_name:"RendererModel",_antialias:!1,_alpha:!1,scene:null,camera:null,controls:[],effect:null,background:"black",background_opacity:1})},initialize:function(e,t){i.prototype.initialize.apply(this,arguments),this.initPromise=this.get("scene").initPromise.bind(this).then(function(){this.setupListeners()})},setupListeners:function(){var e=this.get("scene"),t=this.get("camera");this.listenTo(e,"change",this.onChildChanged.bind(this)),this.listenTo(e,"childchange",this.onChildChanged.bind(this)),this.listenTo(e,"rerender",this.onChildChanged.bind(this)),this.listenTo(t,"change",this.onCameraChange.bind(this))},onCameraChange:function(e,t){this.onChildChanged(e,t)},onChildChanged:function(e,t){i.prototype.onChildChanged.apply(this,arguments),this.trigger("rerender",this,{})}},{serializers:o.extend({scene:{deserialize:n.unpack_models},camera:{deserialize:n.unpack_models},controls:{deserialize:n.unpack_models},effect:{deserialize:n.unpack_models}},i.serializers)}),c=s.extend({render:function(){return this.model.initPromise.bind(this).then(this.doRender)},lazyRendererSetup:function(){this.scene=this.model.get("scene").obj,this.camera=this.model.get("camera").obj;var e=[];this.model.get("controls").forEach(function(t){e.push(t.obj)}),this.controls=e,this.controls&&this.enableControls(),this.renderScene()},setupEventListeners:function(){s.prototype.setupEventListeners.call(this),this.listenTo(this.model,"change:camera",this.onCameraSwitched.bind(this)),this.listenTo(this.model,"change:scene",this.onSceneSwitched.bind(this)),this.listenTo(this.model,"change:controls",this.onControlsSwitched.bind(this)),this.listenTo(this.model,"change:background change:background_opacity",this.applyBackground.bind(this));var e=this;function t(t){-1===[this.model.get("scene"),this.model.get("camera"),this.model.get("controls")].indexOf(t)&&e.updateProperties()}this.listenTo(this.model,"change",t),this.listenTo(this.model.get("shadowMap"),"change",t)},onCameraSwitched:function(){this.camera=this.model.get("camera").obj},onSceneSwitched:function(){this.scene=this.model.get("scene").obj},onControlsSwitched:function(){this.isFrozen||this.disableControls();var e=[];this.model.get("controls").forEach(function(t){e.push(t.obj)}),this.isFrozen||this.enableControls()},enableControls:function(){s.prototype.enableControls.apply(this,arguments),this.model.get("controls").forEach(function(e){e.trigger("enableControl",this)},this)},disableControls:function(){s.prototype.disableControls.apply(this,arguments),this.model.get("controls").forEach(function(e){e.trigger("disableControl",this)},this)},applyBackground:function(){if(!this.isFrozen){var e=a.prototype.convertColorModelToThree(this.model.get("background")),t=a.prototype.convertFloatModelToThree(this.model.get("background_opacity"));this.renderer.setClearColor(e,t)}},update:function(){this.tick()},acquireRenderer:function(){s.prototype.acquireRenderer.call(this),this.updateProperties(!0)}});e.exports={RendererView:c,RendererModel:l}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(48).RayModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{origin:[0,0,0],direction:[0,0,0],near:0,far:1e6,ray:null,linePrecision:1})},constructThreeObject:function(){var e=new n.Raycaster(this.convertVectorModelToThree(this.get("origin"),"origin"),this.convertVectorModelToThree(this.get("direction"),"direction"),this.convertFloatModelToThree(this.get("near"),"near"),this.convertFloatModelToThree(this.get("far"),"far"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("ray"),this.property_converters.origin="convertVector",this.property_converters.direction="convertVector",this.property_converters.near="convertFloat",this.property_converters.far="convertFloat",this.property_converters.ray="convertThreeType",this.property_converters.linePrecision="convertFloat",this.property_assigners.origin="assignVector",this.property_assigners.direction="assignVector"}},{model_name:"RaycasterModel",serializers:o.extend({ray:{deserialize:i.unpack_models}},s.serializers)}));e.exports={RaycasterModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Layers;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"LayersModel",serializers:o.extend({},i.serializers)});e.exports={LayersModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(25).InterleavedBufferModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{meshPerAttribute:1})},constructThreeObject:function(){var e=new n.InstancedInterleavedBuffer(this.convertArrayBufferModelToThree(this.get("array"),"array"),this.get("meshPerAttribute"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.version=!0,this.props_created_by_three.needsUpdate=!0,this.property_converters.meshPerAttribute=null}},{model_name:"InstancedInterleavedBufferModel",serializers:o.extend({},i.serializers)});e.exports={InstancedInterleavedBufferModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(49).BufferGeometryModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{maxInstancedCount:0,type:"InstancedBufferGeometry"})},constructThreeObject:function(){var e=new n.InstancedBufferGeometry;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.property_converters.maxInstancedCount=null,this.property_converters.type=null}},{model_name:"InstancedBufferGeometryModel",serializers:o.extend({},i.serializers)});e.exports={InstancedBufferGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(20).BufferAttributeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{meshPerAttribute:1})},constructThreeObject:function(){var e=new n.InstancedBufferAttribute(this.convertArrayBufferModelToThree(this.get("array"),"array"),this.get("meshPerAttribute"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.version=!0,this.props_created_by_three.needsUpdate=!0,this.property_converters.meshPerAttribute=null}},{model_name:"InstancedBufferAttributeModel",serializers:o.extend({},i.serializers)});e.exports={InstancedBufferAttributeModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(6).BaseGeometryModel),a=(s=r(6).BaseGeometryModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{vertices:[],colors:["#ffffff"],faces:[],faceVertexUvs:[],lineDistances:[],morphTargets:[],morphNormals:[],skinWeights:[],skinIndices:[],_ref_geometry:null,_store_ref:!1,type:"Geometry"})},constructThreeObject:function(){var e=new n.Geometry;return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("_ref_geometry"),this.props_created_by_three.type=!0,this.property_converters.vertices="convertVectorArray",this.property_converters.colors="convertColorArray",this.property_converters.faces="convertFaceArray",this.property_converters.faceVertexUvs=null,this.property_converters.lineDistances=null,this.property_converters.morphTargets=null,this.property_converters.morphNormals=null,this.property_converters.skinWeights="convertVectorArray",this.property_converters.skinIndices="convertVectorArray",this.property_converters._ref_geometry="convertThreeType",this.property_converters._store_ref="convertBool",this.property_converters.type=null,this.property_assigners.vertices="assignArray",this.property_assigners.colors="assignArray",this.property_assigners.faces="assignArray",this.property_assigners.faceVertexUvs="assignArray",this.property_assigners.lineDistances="assignArray",this.property_assigners.morphTargets="assignArray",this.property_assigners.morphNormals="assignArray",this.property_assigners.skinWeights="assignArray",this.property_assigners.skinIndices="assignArray"}},{model_name:"GeometryModel",serializers:o.extend({_ref_geometry:{deserialize:i.unpack_models}},s.serializers)});e.exports={GeometryModel:a}},function(e,t,r){var o=r(10),n=r(0),i=r(241).GeometryModel,s=i.extend({constructThreeObject:function(){var e=new n.Geometry,t=this.get("_ref_geometry"),r=this.get("_store_ref");return t?t.initPromise.bind(this).then(function(){e.copy(t.obj),this.obj=e;var o=this.props_created_by_three;return this.props_created_by_three={},["name","colors","faces","vertices","faceVertexUvs","morphTargets","morphNormals","skinWeights","skinIndices","lineDistances"].forEach(function(e){this.props_created_by_three[e]=!0},this),this.syncToModel(),this.props_created_by_three=o,r||(this.set({_ref_geometry:null},"pushFromThree"),this.save_changes()),e}):o.resolve(e)},onChange:function(e,t){"pushFromThree"!==t&&(this.hasChanged("vertices")&&(this.obj.verticesNeedUpdate=!0),this.hasChanged("colors")&&(this.obj.colorsNeedUpdate=!0),this.hasChanged("faces")&&(this.obj.elementsNeedUpdate=!0),this.hasChanged("faceVertexUvs")&&(this.obj.uvsNeedUpdate=!0),this.hasChanged("normals")&&(this.obj.normalsNeedUpdate=!0),(this.hasChanged("morphTargets")||this.hasChanged("morphNormals"))&&(this.obj.morphTargetsNeedUpdate=!0)),i.prototype.onChange.call(this,e,t)}});e.exports={GeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.EventDispatcher;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"EventDispatcherModel",serializers:o.extend({},i.serializers)});e.exports={EventDispatcherModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.DirectGeometry;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"DirectGeometryModel",serializers:o.extend({},i.serializers)});e.exports={DirectGeometryModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Clock;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ClockModel",serializers:o.extend({},i.serializers)});e.exports={ClockModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(7).BaseBufferGeometryModel),a=(r(20).BufferAttributeModel,r(26).InterleavedBufferAttributeModel,r(6).BaseGeometryModel,(s=r(7).BaseBufferGeometryModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{index:null,attributes:{},morphAttributes:{},MaxIndex:65535,_ref_geometry:null,_store_ref:!1,type:"BufferGeometry"})},constructThreeObject:function(){var e=new n.BufferGeometry;return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("index"),this.three_nested_properties.push("attributes"),this.three_nested_properties.push("morphAttributes"),this.three_properties.push("_ref_geometry"),this.props_created_by_three.type=!0,this.property_converters.index="convertThreeType",this.property_converters.attributes="convertThreeTypeDict",this.property_converters.morphAttributes="convertMorphAttributes",this.property_converters.MaxIndex=null,this.property_converters._ref_geometry="convertThreeType",this.property_converters._store_ref="convertBool",this.property_converters.type=null}},{model_name:"BufferGeometryModel",serializers:o.extend({index:{deserialize:i.unpack_models},attributes:{deserialize:i.unpack_models},morphAttributes:{deserialize:i.unpack_models},_ref_geometry:{deserialize:i.unpack_models}},s.serializers)}));e.exports={BufferGeometryModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3)),s=r(4).ThreeModel,a=s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{array:null,dynamic:!1,needsUpdate:!1,normalized:!0,version:-1})},constructThreeObject:function(){var e=new n.BufferAttribute(this.convertArrayBufferModelToThree(this.get("array"),"array"),this.convertBoolModelToThree(this.get("normalized"),"normalized"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.datawidget_properties.push("array"),this.props_created_by_three.version=!0,this.props_created_by_three.needsUpdate=!0,this.property_converters.array="convertArrayBuffer",this.property_converters.dynamic="convertBool",this.property_converters.needsUpdate="convertBool",this.property_converters.normalized="convertBool",this.property_converters.version=null}},{model_name:"BufferAttributeModel",serializers:o.extend({array:i.data_union_serialization},s.serializers)});e.exports={BufferAttributeModel:a}},function(e,t,r){var o=[r(7),r(6),r(20),r(49),r(245),r(244),r(243),r(242),r(240),r(239),r(238),r(25),r(26),r(237),r(5),r(236),r(235),r(234)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(17).ControlsModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{enabled:!0,minDistance:0,maxDistance:null,rotateSpeed:1,zoomSpeed:1.2,panSpeed:.3,staticMoving:!1,dynamicDampingFactor:.2,noRotate:!1,noZoom:!1,noPan:!1,noRoll:!1,target:[0,0,0]})},constructThreeObject:function(){var e=new n.TrackballControls(this.convertThreeTypeModelToThree(this.get("controlling"),"controlling"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.enabled="convertBool",this.property_converters.minDistance="convertFloat",this.property_converters.maxDistance="convertFloat",this.property_converters.rotateSpeed="convertFloat",this.property_converters.zoomSpeed="convertFloat",this.property_converters.panSpeed="convertFloat",this.property_converters.staticMoving="convertBool",this.property_converters.dynamicDampingFactor="convertFloat",this.property_converters.noRotate="convertBool",this.property_converters.noZoom="convertBool",this.property_converters.noPan="convertBool",this.property_converters.noRoll="convertBool",this.property_converters.target="convertVector",this.property_assigners.target="assignVector"}},{model_name:"TrackballControlsModel",serializers:o.extend({},i.serializers)});e.exports={TrackballControlsModel:s}},function(e,t,r){r(1);var o=r(50).TrackballControls,n=r(249),i=n.TrackballControlsModel.extend({constructThreeObject:function(){var e=this.get("controlling"),t=new o(e.obj);return t.dispose(),t.noKeys=!0,t},setupListeners:function(){n.TrackballControlsModel.prototype.setupListeners.call(this);var e=this;this.obj.addEventListener("end",function(){e.update_controlled()})},update_controlled:function(){var e=this.get("controlling"),t=e.obj.position,r=e.obj.quaternion;e.set({position:[t.x,t.y,t.z],quaternion:[r._x,r._y,r._z,r._w]},"pushFromThree"),e.save_changes()}});e.exports={TrackballControlsModel:i}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(17).ControlsModel),a=(r(5).Object3DModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{event:"click",all:!1,distance:null,point:[0,0,0],face:[0,0,0],faceNormal:[0,0,0],faceVertices:[],faceIndex:0,modifiers:[],object:null,picked:[],uv:[0,0],indices:[]})},constructThreeObject:function(){var e=new n.Picker(this.convertThreeTypeModelToThree(this.get("controlling"),"controlling"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("object"),this.props_created_by_three.distance=!0,this.props_created_by_three.point=!0,this.props_created_by_three.face=!0,this.props_created_by_three.faceNormal=!0,this.props_created_by_three.faceVertices=!0,this.props_created_by_three.faceIndex=!0,this.props_created_by_three.object=!0,this.props_created_by_three.picked=!0,this.props_created_by_three.uv=!0,this.props_created_by_three.indices=!0,this.property_converters.event=null,this.property_converters.all="convertBool",this.property_converters.distance="convertFloat",this.property_converters.point="convertVector",this.property_converters.face="convertVector",this.property_converters.faceNormal="convertVector",this.property_converters.faceVertices="convertVectorArray",this.property_converters.faceIndex=null,this.property_converters.modifiers=null,this.property_converters.object="convertThreeType",this.property_converters.picked=null,this.property_converters.uv="convertVector",this.property_converters.indices=null,this.property_assigners.point="assignVector",this.property_assigners.face="assignVector",this.property_assigners.faceNormal="assignVector",this.property_assigners.faceVertices="assignArray",this.property_assigners.modifiers="assignArray",this.property_assigners.picked="assignArray",this.property_assigners.uv="assignVector",this.property_assigners.indices="assignArray"}},{model_name:"PickerModel",serializers:o.extend({object:{deserialize:i.unpack_models}},s.serializers)}));e.exports={PickerModel:a}},function(e,t,r){var o=r(1),n=r(0),i=r(251),s=i.PickerModel.extend({syncToThreeObj:function(e){},syncToModel:function(){},constructThreeObject:function(){this.camera=null;var e=this.get("event");return new a(e)},setupListeners:function(){i.PickerModel.prototype.setupListeners.call(this),this.obj.addEventListener("pick",this.onPick.bind(this)),this.on("enableControl",this.onEnable,this),this.on("disableControl",this.onDisable,this)},onEnable:function(e){this.camera=e.camera},onDisable:function(e){this.camera=null},onPick:function(){var e=function(e,t,r){var o=new n.Raycaster;return o.setFromCamera(e,t),o.intersectObject(r,!0)}(this.obj.pickCoordinates,this.camera,this.get("controlling").obj),t=l(e.length>0?e[0]:null);this.get("all")?t.picked=o.map(e,l):t.picked=[],t.modifiers=this.obj.modifiers,this.set(t,"pushFromThree"),this.save_changes()}}),a=function(e){var t={type:"pick"},r=this;function o(e){var o=r.element,n=o.getBoundingClientRect(),i=n.x+window.pageXOffset,s=n.y+window.pageYOffset,a=(e.pageX-i)/o.scrollWidth*2-1,l=-(e.pageY-s)/o.scrollHeight*2+1;r.pickCoordinates={x:a,y:l},void 0!==e.altKey?r.modifiers=[e.shiftKey,e.ctrlKey,e.altKey,e.metaKey]:r.modifiers=null,r.dispatchEvent(t)}r.element=null,this.pickCoordinates=null,this.modifiers=null,this.connectEvents=function(t){r.element=t,t.addEventListener(e,o,!1)},this.dispose=function(){r.element.removeEventListener(e,o,!1)}};function l(e){var t,r;return null!==e?(e.face&&e.object.geometry.isBufferGeometry?r=[[(t=e.object.geometry.attributes.position.array)[e.face.a],t[e.face.a]+1,t[e.face.a]+2],[t[e.face.b],t[e.face.b]+1,t[e.face.b]+2],[t[e.face.c],t[e.face.c]+1,t[e.face.c]+2]]:e.face&&(r=[[(t=e.object.geometry.vertices)[e.face.a].x,t[e.face.a].y,t[e.face.a].z],[t[e.face.b].x,t[e.face.b].y,t[e.face.b].z],[t[e.face.c].x,t[e.face.c].y,t[e.face.c].z]]),{point:[e.point.x,e.point.y,e.point.z],distance:e.distance,face:e.face?[e.face.a,e.face.b,e.face.c]:[0,0,0],faceVertices:r||[],indices:e.indices||[],faceNormal:e.face?[e.face.normal.x,e.face.normal.y,e.face.normal.z]:[0,0,0],faceIndex:void 0!==e.faceIndex&&null!==e.faceIndex?e.faceIndex:null,object:e.object.ipymodel,uv:e.uv?[e.uv.x,e.uv.y]:[0,0]}):{point:[0,0,0],distance:null,face:[0,0,0],faceVertices:[],indices:[],faceNormal:[0,0,0],faceIndex:null,object:null,uv:[0,0]}}a.prototype=Object.create(n.EventDispatcher.prototype),a.prototype.constructor=a,e.exports={PickerModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(17).ControlsModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{enabled:!0,minDistance:0,maxDistance:null,minZoom:0,maxZoom:null,minPolarAngle:0,maxPolarAngle:3.141592653589793,minAzimuthAngle:null,maxAzimuthAngle:null,enableDamping:!1,dampingFactor:.25,enableZoom:!0,zoomSpeed:1,enableRotate:!0,rotateSpeed:1,enablePan:!0,keyPanSpeed:7,autoRotate:!1,autoRotateSpeed:2,enableKeys:!0,target:[0,0,0]})},constructThreeObject:function(){var e=new n.OrbitControls(this.convertThreeTypeModelToThree(this.get("controlling"),"controlling"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.enabled="convertBool",this.property_converters.minDistance="convertFloat",this.property_converters.maxDistance="convertFloat",this.property_converters.minZoom="convertFloat",this.property_converters.maxZoom="convertFloat",this.property_converters.minPolarAngle="convertFloat",this.property_converters.maxPolarAngle="convertFloat",this.property_converters.minAzimuthAngle="convertFloat",this.property_converters.maxAzimuthAngle="convertFloat",this.property_converters.enableDamping="convertBool",this.property_converters.dampingFactor="convertFloat",this.property_converters.enableZoom="convertBool",this.property_converters.zoomSpeed="convertFloat",this.property_converters.enableRotate="convertBool",this.property_converters.rotateSpeed="convertFloat",this.property_converters.enablePan="convertBool",this.property_converters.keyPanSpeed="convertFloat",this.property_converters.autoRotate="convertBool",this.property_converters.autoRotateSpeed="convertFloat",this.property_converters.enableKeys="convertBool",this.property_converters.target="convertVector",this.property_assigners.target="assignVector"}},{model_name:"OrbitControlsModel",serializers:o.extend({},i.serializers)});e.exports={OrbitControlsModel:s}},function(e,t,r){r(1);var o=r(28).OrbitControls,n=r(253),i=n.OrbitControlsModel.extend({constructThreeObject:function(){var e=this.get("controlling"),t=new o(e.obj);return t.dispose(),t.enableKeys=!1,t},setupListeners:function(){n.OrbitControlsModel.prototype.setupListeners.call(this);var e=this;this.obj.addEventListener("end",function(){e.update_controlled()})},update_controlled:function(){var e=this.get("controlling"),t=e.obj.position,r=e.obj.quaternion;e.set({position:[t.x,t.y,t.z],quaternion:[r._x,r._y,r._z,r._w],zoom:e.obj.zoom},"pushFromThree"),e.save_changes()}});e.exports={OrbitControlsModel:i}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(17).ControlsModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{moveVector:[0,0,0],rotationVector:[0,0,0],movementSpeed:1,rollSpeed:.05,syncRate:1})},constructThreeObject:function(){var e=new n.FlyControls(this.convertThreeTypeModelToThree(this.get("controlling"),"controlling"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_converters.moveVector="convertVector",this.property_converters.rotationVector="convertVector",this.property_converters.movementSpeed="convertFloat",this.property_converters.rollSpeed="convertFloat",this.property_converters.syncRate="convertFloat",this.property_assigners.moveVector="assignVector",this.property_assigners.rotationVector="assignVector"}},{model_name:"FlyControlsModel",serializers:o.extend({},i.serializers)});e.exports={FlyControlsModel:s}},function(e,t,r){r(1);var o=r(0),n=r(51).FlyControls,i=r(255),s=i.FlyControlsModel.extend({constructThreeObject:function(){this.clock=new o.Clock;var e=this.get("controlling");this.renderer=null,this.syncAtWill=!0;var t=new n(e.obj);return t.dispose(),t},setupListeners:function(){i.FlyControlsModel.prototype.setupListeners.call(this);var e=this;this.obj.addEventListener("change",function(){e.syncAtWill&&(e.syncAtWill=!1,e.update_controlled(),setTimeout(e.allowSync.bind(e),1e3*e.get("syncRate")))}),this.on("enableControl",this.onEnable,this),this.on("disableControl",this.onDisable,this)},onEnable:function(e){this.clock.start(),this.renderer=e,this._update()},onDisable:function(e){this.clock.stop(),this.renderer=null},allowSync:function(){this.syncAtWill=!0},_update:function(){null!==this.renderer&&(this.obj.update(this.clock.getDelta()),requestAnimationFrame(this._update.bind(this)))},update_controlled:function(){var e=this.get("controlling"),t=e.obj.position,r=e.obj.quaternion;e.set({position:[t.x,t.y,t.z],quaternion:[r._x,r._y,r._z,r._w]},"pushFromThree"),e.save_changes()}});e.exports={FlyControlsModel:s}},function(e,t,r){var o=[r(17),r(256),r(254),r(252),r(250)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(27).PerspectiveCameraModel,s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{aspect:1,eyeSep:.064,cameraL:null,cameraR:null})},constructThreeObject:function(){var e=new n.StereoCamera;return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("cameraL"),this.three_properties.push("cameraR"),this.property_converters.aspect="convertFloat",this.property_converters.eyeSep="convertFloat",this.property_converters.cameraL="convertThreeType",this.property_converters.cameraR="convertThreeType"}},{model_name:"StereoCameraModel",serializers:o.extend({cameraL:{deserialize:i.unpack_models},cameraR:{deserialize:i.unpack_models}},s.serializers)}));e.exports={StereoCameraModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(14).CameraModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{zoom:1,left:0,right:0,top:0,bottom:0,near:.1,far:2e3,type:"OrthographicCamera"})},constructThreeObject:function(){var e=new n.OrthographicCamera(this.convertFloatModelToThree(this.get("left"),"left"),this.convertFloatModelToThree(this.get("right"),"right"),this.convertFloatModelToThree(this.get("top"),"top"),this.convertFloatModelToThree(this.get("bottom"),"bottom"),this.convertFloatModelToThree(this.get("near"),"near"),this.convertFloatModelToThree(this.get("far"),"far"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.matrixWorldInverse=!0,this.props_created_by_three.projectionMatrix=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.zoom="convertFloat",this.property_converters.left="convertFloat",this.property_converters.right="convertFloat",this.property_converters.top="convertFloat",this.property_converters.bottom="convertFloat",this.property_converters.near="convertFloat",this.property_converters.far="convertFloat",this.property_converters.type=null}},{model_name:"OrthographicCameraModel",serializers:o.extend({},i.serializers)});e.exports={OrthographicCameraModel:s}},function(e,t,r){r(1);var o=r(259),n=o.OrthographicCameraModel.extend({syncToThreeObj:function(){o.OrthographicCameraModel.prototype.syncToThreeObj.apply(this,arguments),this.obj.updateProjectionMatrix()}});e.exports={OrthographicCameraModel:n}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(5).Object3DModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"CubeCamera"})},constructThreeObject:function(){var e=new n.CubeCamera;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.type=null}},{model_name:"CubeCameraModel",serializers:o.extend({},i.serializers)});e.exports={CubeCameraModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(14).CameraModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{fov:50,zoom:1,near:.1,far:2e3,orthoNear:.1,orthoFar:2e3,width:0,height:0,mode:"perspective",impersonate:!0,type:"CombinedCamera"})},constructThreeObject:function(){var e=new n.CombinedCamera(this.convertFloatModelToThree(this.get("width"),"width"),this.convertFloatModelToThree(this.get("height"),"height"),this.convertFloatModelToThree(this.get("fov"),"fov"),this.convertFloatModelToThree(this.get("near"),"near"),this.convertFloatModelToThree(this.get("far"),"far"),this.convertFloatModelToThree(this.get("orthoNear"),"orthoNear"),this.convertFloatModelToThree(this.get("orthoFar"),"orthoFar"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.matrixWorldInverse=!0,this.props_created_by_three.projectionMatrix=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.enum_property_types.mode="[&#x27;perspective&#x27;, &#x27;orthographic&#x27;]",this.property_converters.fov="convertFloat",this.property_converters.zoom="convertFloat",this.property_converters.near="convertFloat",this.property_converters.far="convertFloat",this.property_converters.orthoNear="convertFloat",this.property_converters.orthoFar="convertFloat",this.property_converters.width="convertFloat",this.property_converters.height="convertFloat",this.property_converters.mode="convertEnum",this.property_converters.impersonate="convertBool",this.property_converters.type=null}},{model_name:"CombinedCameraModel",serializers:o.extend({},i.serializers)});e.exports={CombinedCameraModel:s}},function(e,t,r){var o=r(10),n=r(52).CombinedCamera,i=r(262).CombinedCameraModel,s=i.extend({createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.property_mappers.CombinedCamera="mapCombinedCamera",delete this.property_converters.width,delete this.property_converters.height,delete this.property_converters.near,delete this.property_converters.far,delete this.property_converters.orthoNear,delete this.property_converters.orthoFar,delete this.property_converters.mode},constructThreeObject:function(){var e=new n(this.convertFloatModelToThree(this.get("width"),"width"),this.convertFloatModelToThree(this.get("height"),"height"),this.convertFloatModelToThree(this.get("fov"),"fov"),this.convertFloatModelToThree(this.get("near"),"near"),this.convertFloatModelToThree(this.get("far"),"far"),this.convertFloatModelToThree(this.get("orthoNear"),"orthoNear"),this.convertFloatModelToThree(this.get("orthoFar"),"orthoFar"));return e.impersonate=this.convertBoolModelToThree(this.get("impersonate"),"impersonate"),o.resolve(e)},mapCombinedCameraModelToThree:function(){var e=this.convertFloatModelToThree(this.get("width")),t=this.convertFloatModelToThree(this.get("height"));this.obj.left=-e/2,this.obj.right=e/2,this.obj.top=t/2,this.obj.bottom=-t/2,this.obj.aspect=e/t,this.obj.cameraP.near=this.convertFloatModelToThree(this.get("near")),this.obj.cameraP.far=this.convertFloatModelToThree(this.get("far")),this.obj.cameraO.near=this.convertFloatModelToThree(this.get("orthoNear")),this.obj.cameraO.far=this.convertFloatModelToThree(this.get("orthoFar")),this.obj.toPerspective(),"orthographic"===this.get("mode")&&this.obj.toOrthographic()},mapCombinedCameraThreeToModel:function(){var e={};e.width=this.convertFloatThreeToModel(this.obj.right-this.obj.left),e.height=this.convertFloatThreeToModel(this.obj.top-this.obj.bottom),e.near=this.convertFloatThreeToModel(this.obj.cameraP.near),e.far=this.convertFloatThreeToModel(this.obj.cameraP.far),e.orthoNear=this.convertFloatThreeToModel(this.obj.cameraO.near),e.orthoFar=this.convertFloatThreeToModel(this.obj.cameraO.far),e.mode=this.obj.inPerspectiveMode?"perspective":"orthographic",this.set(e,"pushFromThree")}});e.exports={CombinedCameraModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=s.extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{name:"",type:"Object3D",children:[],up:[0,1,0],position:[0,0,0],rotation:[0,0,0,"XYZ"],quaternion:[0,0,0,1],scale:[1,1,1],modelViewMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],normalMatrix:[1,0,0,0,1,0,0,0,1],matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],matrixWorld:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],matrixAutoUpdate:!0,matrixWorldNeedsUpdate:!1,visible:!0,castShadow:!1,receiveShadow:!1,frustumCulled:!0,renderOrder:0})},constructThreeObject:function(){var e=new n.Object3D;return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_nested_properties.push("children"),this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.name=null,this.property_converters.type=null,this.property_converters.children="convertThreeTypeArray",this.property_converters.up="convertVector",this.property_converters.position="convertVector",this.property_converters.rotation="convertEuler",this.property_converters.quaternion="convertVector",this.property_converters.scale="convertVector",this.property_converters.modelViewMatrix="convertMatrix",this.property_converters.normalMatrix="convertMatrix",this.property_converters.matrix="convertMatrix",this.property_converters.matrixWorld="convertMatrix",this.property_converters.matrixAutoUpdate="convertBool",this.property_converters.matrixWorldNeedsUpdate="convertBool",this.property_converters.visible="convertBool",this.property_converters.castShadow="convertBool",this.property_converters.receiveShadow="convertBool",this.property_converters.frustumCulled="convertBool",this.property_converters.renderOrder=null,this.property_assigners.up="assignVector",this.property_assigners.position="assignVector",this.property_assigners.rotation="assignEuler",this.property_assigners.quaternion="assignVector",this.property_assigners.scale="assignVector",this.property_assigners.modelViewMatrix="assignMatrix",this.property_assigners.normalMatrix="assignMatrix",this.property_assigners.matrix="assignMatrix",this.property_assigners.matrixWorld="assignMatrix"}},{model_name:"Object3DModel",serializers:o.extend({children:{deserialize:i.unpack_models}},s.serializers)});e.exports={Object3DModel:a}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(14).CameraModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{fov:50,zoom:1,near:.1,far:2e3,focus:10,aspect:1,type:"PerspectiveCamera"})},constructThreeObject:function(){var e=new n.PerspectiveCamera(this.convertFloatModelToThree(this.get("fov"),"fov"),this.convertFloatModelToThree(this.get("aspect"),"aspect"),this.convertFloatModelToThree(this.get("near"),"near"),this.convertFloatModelToThree(this.get("far"),"far"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.matrixWorldInverse=!0,this.props_created_by_three.projectionMatrix=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.fov="convertFloat",this.property_converters.zoom="convertFloat",this.property_converters.near="convertFloat",this.property_converters.far="convertFloat",this.property_converters.focus="convertFloat",this.property_converters.aspect="convertFloat",this.property_converters.type=null}},{model_name:"PerspectiveCameraModel",serializers:o.extend({},i.serializers)});e.exports={PerspectiveCameraModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(27).PerspectiveCameraModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{type:"ArrayCamera"})},constructThreeObject:function(){var e=new n.ArrayCamera(this.convertFloatModelToThree(this.get("fov"),"fov"),this.convertFloatModelToThree(this.get("aspect"),"aspect"),this.convertFloatModelToThree(this.get("near"),"near"),this.convertFloatModelToThree(this.get("far"),"far"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this),this.props_created_by_three.matrixWorldInverse=!0,this.props_created_by_three.projectionMatrix=!0,this.props_created_by_three.type=!0,this.props_created_by_three.rotation=!0,this.props_created_by_three.quaternion=!0,this.props_created_by_three.matrixWorldNeedsUpdate=!0,this.property_converters.type=null}},{model_name:"ArrayCameraModel",serializers:o.extend({},i.serializers)});e.exports={ArrayCameraModel:s}},function(e,t,r){var o=[r(266),r(14),r(263),r(261),r(260),r(27),r(258)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.PositionalAudio;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"PositionalAudioModel",serializers:o.extend({},i.serializers)});e.exports={PositionalAudioModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.AudioListener;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"AudioListenerModel",serializers:o.extend({},i.serializers)});e.exports={AudioListenerModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.AudioAnalyser;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"AudioAnalyserModel",serializers:o.extend({},i.serializers)});e.exports={AudioAnalyserModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.Audio;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"AudioModel",serializers:o.extend({},i.serializers)});e.exports={AudioModel:s}},function(e,t,r){var o=[r(271),r(270),r(269),r(268)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(11).KeyframeTrackModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.VectorKeyframeTrack(this.get("name"),this.convertArrayBufferModelToThree(this.get("times"),"times"),this.convertArrayBufferModelToThree(this.get("values"),"values"),this.convertEnumModelToThree(this.get("interpolation"),"interpolation"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"VectorKeyframeTrackModel",serializers:o.extend({},i.serializers)});e.exports={VectorKeyframeTrackModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(11).KeyframeTrackModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.StringKeyframeTrack(this.get("name"),this.convertArrayBufferModelToThree(this.get("times"),"times"),this.convertArrayBufferModelToThree(this.get("values"),"values"),this.convertEnumModelToThree(this.get("interpolation"),"interpolation"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"StringKeyframeTrackModel",serializers:o.extend({},i.serializers)});e.exports={StringKeyframeTrackModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(11).KeyframeTrackModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.QuaternionKeyframeTrack(this.get("name"),this.convertArrayBufferModelToThree(this.get("times"),"times"),this.convertArrayBufferModelToThree(this.get("values"),"values"),this.convertEnumModelToThree(this.get("interpolation"),"interpolation"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"QuaternionKeyframeTrackModel",serializers:o.extend({},i.serializers)});e.exports={QuaternionKeyframeTrackModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(11).KeyframeTrackModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.NumberKeyframeTrack(this.get("name"),this.convertArrayBufferModelToThree(this.get("times"),"times"),this.convertArrayBufferModelToThree(this.get("values"),"values"),this.convertEnumModelToThree(this.get("interpolation"),"interpolation"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"NumberKeyframeTrackModel",serializers:o.extend({},i.serializers)});e.exports={NumberKeyframeTrackModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(11).KeyframeTrackModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.ColorKeyframeTrack(this.get("name"),this.convertArrayBufferModelToThree(this.get("times"),"times"),this.convertArrayBufferModelToThree(this.get("values"),"values"),this.convertEnumModelToThree(this.get("interpolation"),"interpolation"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"ColorKeyframeTrackModel",serializers:o.extend({},i.serializers)});e.exports={ColorKeyframeTrackModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(11).KeyframeTrackModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.BooleanKeyframeTrack(this.get("name"),this.convertArrayBufferModelToThree(this.get("times"),"times"),this.convertArrayBufferModelToThree(this.get("values"),"values"),this.convertEnumModelToThree(this.get("interpolation"),"interpolation"));return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"BooleanKeyframeTrackModel",serializers:o.extend({},i.serializers)});e.exports={BooleanKeyframeTrackModel:s}},function(e,t,r){var o=[r(278),r(277),r(276),r(275),r(274),r(273)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.PropertyMixer;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"PropertyMixerModel",serializers:o.extend({},i.serializers)});e.exports={PropertyMixerModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.PropertyBinding;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"PropertyBindingModel",serializers:o.extend({},i.serializers)});e.exports={PropertyBindingModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.AnimationUtils;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"AnimationUtilsModel",serializers:o.extend({},i.serializers)});e.exports={AnimationUtilsModel:s}},function(e,t,r){var o=r(1),n=r(0),i=(r(2),r(3),r(4).ThreeModel),s=i.extend({defaults:function(){return o.extend(i.prototype.defaults.call(this),{})},constructThreeObject:function(){var e=new n.AnimationObjectGroup;return Promise.resolve(e)},createPropertiesArrays:function(){i.prototype.createPropertiesArrays.call(this)}},{model_name:"AnimationObjectGroupModel",serializers:o.extend({},i.serializers)});e.exports={AnimationObjectGroupModel:s}},function(e,t,r){var o=r(1),n=r(0),i=r(2),s=(r(3),r(4).ThreeModel),a=(r(54).AnimationMixerModel,r(53).AnimationClipModel,(s=r(4).ThreeModel).extend({defaults:function(){return o.extend(s.prototype.defaults.call(this),{mixer:null,clip:null,localRoot:null,clampWhenFinished:!1,enabled:!0,loop:"LoopRepeat",paused:!1,repititions:null,time:0,timeScale:1,weigth:1,zeroSlopeAtEnd:!0,zeroSlopeAtStart:!0})},constructThreeObject:function(){var e=new n.AnimationAction(this.convertThreeTypeModelToThree(this.get("mixer"),"mixer"),this.convertThreeTypeModelToThree(this.get("clip"),"clip"),this.convertThreeTypeModelToThree(this.get("localRoot"),"localRoot"));return Promise.resolve(e)},createPropertiesArrays:function(){s.prototype.createPropertiesArrays.call(this),this.three_properties.push("mixer"),this.three_properties.push("clip"),this.three_properties.push("localRoot"),this.enum_property_types.loop="LoopModes",this.property_converters.mixer="convertThreeType",this.property_converters.clip="convertThreeType",this.property_converters.localRoot="convertThreeType",this.property_converters.clampWhenFinished="convertBool",this.property_converters.enabled="convertBool",this.property_converters.loop="convertEnum",this.property_converters.paused="convertBool",this.property_converters.repititions=null,this.property_converters.time="convertFloat",this.property_converters.timeScale="convertFloat",this.property_converters.weigth="convertFloat",this.property_converters.zeroSlopeAtEnd="convertBool",this.property_converters.zeroSlopeAtStart="convertBool"}},{model_name:"AnimationActionModel",serializers:o.extend({mixer:{deserialize:i.unpack_models},clip:{deserialize:i.unpack_models},localRoot:{deserialize:i.unpack_models}},s.serializers)}));e.exports={AnimationActionModel:a}},function(e,t,r){var o=r(1),n=r(2),i=r(18),s=r(10),a=r(284).AnimationActionModel,l=r(0),c=r(30).name,p=a.extend({defaults:function(){return o.extend(a.prototype.defaults.call(this),n.DOMWidgetModel.prototype.defaults.call(this),{_view_module:c,_view_name:"AnimationActionView"})},createPropertiesArrays:function(){a.prototype.createPropertiesArrays.call(this),delete this.property_converters.mixer,delete this.property_converters.clip,delete this.property_converters.localRoot},constructThreeObject:function(){var e=this.convertThreeTypeModelToThree(this.get("mixer"),"mixer"),t=this.convertThreeTypeModelToThree(this.get("localRoot"),"localRoot"),r=e.clipAction(this.convertThreeTypeModelToThree(this.get("clip"),"clip"),t);return t.animations=t.animations||[],t.animations.push(r),this.timer=new l.Clock,s.resolve(r)},play:function(){this.obj.play(),this.timer.start(),this.obj.paused=!1;var e=this.get("localRoot"),t=i.getModelScene(e);t&&this.listenTo(t,"afterRender",this.animateFrame.bind(this)),this.animateFrame(),this.syncAnimationState()},syncAnimationState:function(){var e=this.get("localRoot"),t=this.get("mixer");e.syncToModel(!0),t.syncToModel(!0),this.syncToModel(!0)},animateFrame:function(){var e=this.get("mixer").obj,t=this.timer.getDelta();e.update(t);var r=i.getModelScene(this.get("localRoot"));r&&r.trigger("rerender",this,{})},pause:function(){this.obj.paused=!0,this.resetRenderHook(),this.timer.stop(),this.syncAnimationState()},stop:function(){this.obj.stop(),this.resetRenderHook(),this.timer.stop(),this.syncAnimationState()},repeat:function(){this.obj.reset(),this.obj.play()},resetRenderHook:function(){var e=i.getModelScene(this.get("localRoot"));e&&this.stopListening(e,"afterRender")}},{serializers:o.extend({},n.DOMWidgetModel.serializers,a.serializers)}),h=n.DOMWidgetView.extend({render:function(){n.DOMWidgetView.prototype.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playButton=document.createElement("button"),this.pauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playButton.className="jupyter-button",this.pauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playButton),this.el.appendChild(this.pauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);var e=document.createElement("i");e.className="fa fa-play",this.playButton.appendChild(e);var t=document.createElement("i");t.className="fa fa-pause",this.pauseButton.appendChild(t);var r=document.createElement("i");r.className="fa fa-stop",this.stopButton.appendChild(r);var o=document.createElement("i");o.className="fa fa-retweet",this.repeatButton.appendChild(o),this.model.initPromise.bind(this).then(function(){this.playButton.onclick=this.model.play.bind(this.model),this.pauseButton.onclick=this.model.pause.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:_playing",this.update_playing),this.listenTo(this.model,"change:_repeat",this.update_repeat),this.listenTo(this.model,"change:show_repeat",this.update_repeat),this.update_playing(),this.update_repeat(),this.update()})},update:function(){var e=!this.model.get("enabled");this.playButton.disabled=e,this.pauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.update_playing()},update_playing:function(){var e=!this.model.get("paused"),t=!this.model.get("enabled");e?(t||(this.pauseButton.disabled=!1),this.playButton.classList.add("mod-active")):(t||(this.pauseButton.disabled=!0),this.playButton.classList.remove("mod-active"))},update_repeat:function(){this.model.get("_repeat")?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")}});e.exports={AnimationActionModel:p,AnimationActionView:h}},function(e,t,r){var o=[r(285),r(53),r(54),r(283),r(282),r(11),r(281),r(280),r(279)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}},function(e){e.exports={_args:[["jupyter-dataserializers@1.1.2","C:\\dev\\pythreejs\\js"]],_from:"jupyter-dataserializers@1.1.2",_id:"jupyter-dataserializers@1.1.2",_inBundle:!1,_integrity:"sha512-XD9uQeJBDHQrC37LrJe6UYQSwSEn2x9NfO5O1EyuxKeQi6guDTd5BXppzZMo2JudXV/96OmdUiKV/IUNDLLe8Q==",_location:"/jupyter-dataserializers",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"jupyter-dataserializers@1.1.2",name:"jupyter-dataserializers",escapedName:"jupyter-dataserializers",rawSpec:"1.1.2",saveSpec:null,fetchSpec:"1.1.2"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/jupyter-dataserializers/-/jupyter-dataserializers-1.1.2.tgz",_spec:"1.1.2",_where:"C:\\dev\\pythreejs\\js",author:{name:"Vidar T. Fauske"},dependencies:{"@jupyter-widgets/base":"^1.1.8",ndarray:"^1.0.18"},description:"A set of widget utilities for array serialization",devDependencies:{"@types/expect.js":"^0.3.29","@types/mocha":"^2.2.48","@types/ndarray":"^1.0.5","@types/node":"^9.4.6","expect.js":"^0.3.1",karma:"^2.0.0","karma-chrome-launcher":"^2.2.0","karma-firefox-launcher":"^1.1.0","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.5","karma-typescript":"^3.0.12",mocha:"^5.0.1",typescript:"~2.7.2"},keywords:["jupyter","widgets"],license:"BSD-3-Clause",main:"lib/index.js",name:"jupyter-dataserializers",scripts:{build:"tsc --project src",clean:"rimraf lib",test:"npm run test:firefox","test:chrome":"karma start --browsers=Chrome tests/karma.conf.js","test:debug":"karma start --browsers=Chrome --singleRun=false --debug=true tests/karma.conf.js","test:firefox":"karma start --browsers=Firefox tests/karma.conf.js","test:ie":"karma start --browsers=IE tests/karma.conf.js",watch:"tsc --project src --watch"},types:"./lib/index.d.ts",version:"1.1.2"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2),n=r(56);function i(e,t){return"string"==typeof e?o.unpack_models(e,t):Promise.resolve(n.JSONToArray(e,t))}function s(e,t){return"string"==typeof e?o.unpack_models(e,t).then(function(e){return e.getNDArray()}):Promise.resolve(n.JSONToArray(e,t))}function a(e,t){return e instanceof o.WidgetModel?e.toJSON(void 0):n.arrayToJSON(e,t)}t.JSONToUnion=i,t.JSONToUnionArray=s,t.unionToJSON=a,t.listenToUnion=function(e,t,r,n){function i(t){t instanceof o.WidgetModel&&e.listenTo(t,"change",r)}function s(s,a,l){var c=e.previous(t)||[],p=a||[];c instanceof o.WidgetModel?e.stopListening(c):!n||p instanceof o.WidgetModel||r(s,l),n&&c instanceof o.WidgetModel!=p instanceof o.WidgetModel&&r(s,l),i(p)}return i(e.get(t)),e.on("change:"+t,s),function(){var r=e.get(t);r instanceof o.WidgetModel&&e.stopListening(r),e.off("change:"+t,s)}},t.data_union_array_serialization={deserialize:s,serialize:a},t.data_union_serialization={deserialize:i,serialize:a}},function(e,t,r){"use strict";function o(e){return e&&"function"==typeof e.getNDArray}Object.defineProperty(t,"__esModule",{value:!0}),t.isDataSource=o,t.getArray=function(e){return o(e)?e.getNDArray():e}},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";e.exports=function(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}},function(e,t,r){var o;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(t,r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}:r(t)}("undefined"!=typeof window?window:this,function(r,n){"use strict";var i=[],s=r.document,a=Object.getPrototypeOf,l=i.slice,c=i.concat,p=i.push,h=i.indexOf,u={},d=u.toString,f=u.hasOwnProperty,y=f.toString,v=y.call(Object),m={},g=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},_=function(e){return null!=e&&e===e.window},T={type:!0,src:!0,noModule:!0};function b(e,t,r){var o,n=(t=t||s).createElement("script");if(n.text=e,r)for(o in T)r[o]&&(n[o]=r[o]);t.head.appendChild(n).parentNode.removeChild(n)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[d.call(e)]||"object":typeof e}var M=function(e,t){return new M.fn.init(e,t)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function P(e){var t=!!e&&"length"in e&&e.length,r=x(e);return!g(e)&&!_(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}M.fn=M.prototype={jquery:"3.3.1",constructor:M,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=M.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return M.each(this,e)},map:function(e){return this.pushStack(M.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:p,sort:i.sort,splice:i.splice},M.extend=M.fn.extend=function(){var e,t,r,o,n,i,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||g(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=s[t],s!==(o=e[t])&&(c&&o&&(M.isPlainObject(o)||(n=Array.isArray(o)))?(n?(n=!1,i=r&&Array.isArray(r)?r:[]):i=r&&M.isPlainObject(r)?r:{},s[t]=M.extend(c,i,o)):void 0!==o&&(s[t]=o));return s},M.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(r=f.call(t,"constructor")&&t.constructor)&&y.call(r)===v)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){b(e)},each:function(e,t){var r,o=0;if(P(e))for(r=e.length;o<r&&!1!==t.call(e[o],o,e[o]);o++);else for(o in e)if(!1===t.call(e[o],o,e[o]))break;return e},trim:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(P(Object(e))?M.merge(r,"string"==typeof e?[e]:e):p.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:h.call(t,e,r)},merge:function(e,t){for(var r=+t.length,o=0,n=e.length;o<r;o++)e[n++]=t[o];return e.length=n,e},grep:function(e,t,r){for(var o=[],n=0,i=e.length,s=!r;n<i;n++)!t(e[n],n)!==s&&o.push(e[n]);return o},map:function(e,t,r){var o,n,i=0,s=[];if(P(e))for(o=e.length;i<o;i++)null!=(n=t(e[i],i,r))&&s.push(n);else for(i in e)null!=(n=t(e[i],i,r))&&s.push(n);return c.apply([],s)},guid:1,support:m}),"function"==typeof Symbol&&(M.fn[Symbol.iterator]=i[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var A=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){var t,r,o,n,i,s,a,l,c,p,h,u,d,f,y,v,m,g,_,T="sizzle"+1*new Date,b=e.document,x=0,M=0,w=se(),P=se(),A=se(),j=function(e,t){return e===t&&(h=!0),0},C={}.hasOwnProperty,S=[],F=S.pop,E=S.push,z=S.push,O=S.slice,k=function(e,t){for(var r=0,o=e.length;r<o;r++)if(e[r]===t)return r;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",D="\\["+B+"*("+R+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+B+"*\\]",N=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+D+")*)|.*)\\)|)",V=new RegExp(B+"+","g"),I=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),G=new RegExp("^"+B+"*,"+B+"*"),W=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),H=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),q=new RegExp(N),U=new RegExp("^"+R+"$"),$={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+D),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ee=function(e,t,r){var o="0x"+t-65536;return o!=o||r?t:o<0?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){u()},ne=ge(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{z.apply(S=O.call(b.childNodes),b.childNodes),S[b.childNodes.length].nodeType}catch(e){z={apply:S.length?function(e,t){E.apply(e,O.call(t))}:function(e,t){for(var r=e.length,o=0;e[r++]=t[o++];);e.length=r-1}}}function ie(e,t,o,n){var i,a,c,p,h,f,m,g=t&&t.ownerDocument,x=t?t.nodeType:9;if(o=o||[],"string"!=typeof e||!e||1!==x&&9!==x&&11!==x)return o;if(!n&&((t?t.ownerDocument||t:b)!==d&&u(t),t=t||d,y)){if(11!==x&&(h=Y.exec(e)))if(i=h[1]){if(9===x){if(!(c=t.getElementById(i)))return o;if(c.id===i)return o.push(c),o}else if(g&&(c=g.getElementById(i))&&_(t,c)&&c.id===i)return o.push(c),o}else{if(h[2])return z.apply(o,t.getElementsByTagName(e)),o;if((i=h[3])&&r.getElementsByClassName&&t.getElementsByClassName)return z.apply(o,t.getElementsByClassName(i)),o}if(r.qsa&&!A[e+" "]&&(!v||!v.test(e))){if(1!==x)g=t,m=e;else if("object"!==t.nodeName.toLowerCase()){for((p=t.getAttribute("id"))?p=p.replace(te,re):t.setAttribute("id",p=T),a=(f=s(e)).length;a--;)f[a]="#"+p+" "+me(f[a]);m=f.join(","),g=Z.test(e)&&ye(t.parentNode)||t}if(m)try{return z.apply(o,g.querySelectorAll(m)),o}catch(e){}finally{p===T&&t.removeAttribute("id")}}}return l(e.replace(I,"$1"),t,o,n)}function se(){var e=[];return function t(r,n){return e.push(r+" ")>o.cacheLength&&delete t[e.shift()],t[r+" "]=n}}function ae(e){return e[T]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var r=e.split("|"),n=r.length;n--;)o.attrHandle[r[n]]=t}function pe(e,t){var r=t&&e,o=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(o)return o;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ue(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ne(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(r,o){for(var n,i=e([],r.length,t),s=i.length;s--;)r[n=i[s]]&&(r[n]=!(o[n]=r[n]))})})}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},u=ie.setDocument=function(e){var t,n,s=e?e.ownerDocument||e:b;return s!==d&&9===s.nodeType&&s.documentElement?(f=(d=s).documentElement,y=!i(d),b!==d&&(n=d.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),r.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=Q.test(d.getElementsByClassName),r.getById=le(function(e){return f.appendChild(e).id=T,!d.getElementsByName||!d.getElementsByName(T).length}),r.getById?(o.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var r=t.getElementById(e);return r?[r]:[]}}):(o.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},o.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var r,o,n,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(n=t.getElementsByName(e),o=0;i=n[o++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),o.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,o=[],n=0,i=t.getElementsByTagName(e);if("*"===e){for(;r=i[n++];)1===r.nodeType&&o.push(r);return o}return i},o.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&y)return t.getElementsByClassName(e)},m=[],v=[],(r.qsa=Q.test(d.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+T+"'></a><select id='"+T+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+B+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+T+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+T+"+*").length||v.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(r.matchesSelector=Q.test(g=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){r.disconnectedMatch=g.call(e,"*"),g.call(e,"[s!='']:x"),m.push("!=",N)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Q.test(f.compareDocumentPosition),_=t||Q.test(f.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode;return e===o||!(!o||1!==o.nodeType||!(r.contains?r.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return h=!0,0;var o=!e.compareDocumentPosition-!t.compareDocumentPosition;return o||(1&(o=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===o?e===d||e.ownerDocument===b&&_(b,e)?-1:t===d||t.ownerDocument===b&&_(b,t)?1:p?k(p,e)-k(p,t):0:4&o?-1:1)}:function(e,t){if(e===t)return h=!0,0;var r,o=0,n=e.parentNode,i=t.parentNode,s=[e],a=[t];if(!n||!i)return e===d?-1:t===d?1:n?-1:i?1:p?k(p,e)-k(p,t):0;if(n===i)return pe(e,t);for(r=e;r=r.parentNode;)s.unshift(r);for(r=t;r=r.parentNode;)a.unshift(r);for(;s[o]===a[o];)o++;return o?pe(s[o],a[o]):s[o]===b?-1:a[o]===b?1:0},d):d},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&u(e),t=t.replace(H,"='$1']"),r.matchesSelector&&y&&!A[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var o=g.call(e,t);if(o||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(e){}return ie(t,d,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==d&&u(e),_(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==d&&u(e);var n=o.attrHandle[t.toLowerCase()],i=n&&C.call(o.attrHandle,t.toLowerCase())?n(e,t,!y):void 0;return void 0!==i?i:r.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.escape=function(e){return(e+"").replace(te,re)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,o=[],n=0,i=0;if(h=!r.detectDuplicates,p=!r.sortStable&&e.slice(0),e.sort(j),h){for(;t=e[i++];)t===e[i]&&(n=o.push(i));for(;n--;)e.splice(o[n],1)}return p=null,e},n=ie.getText=function(e){var t,r="",o=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=n(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o++];)r+=n(t);return r},(o=ie.selectors={cacheLength:50,createPseudo:ae,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&q.test(r)&&(t=s(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&w(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(o){var n=ie.attr(o,e);return null==n?"!="===t:!t||(n+="","="===t?n===r:"!="===t?n!==r:"^="===t?r&&0===n.indexOf(r):"*="===t?r&&n.indexOf(r)>-1:"$="===t?r&&n.slice(-r.length)===r:"~="===t?(" "+n.replace(V," ")+" ").indexOf(r)>-1:"|="===t&&(n===r||n.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,o,n){var i="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===o&&0===n?function(e){return!!e.parentNode}:function(t,r,l){var c,p,h,u,d,f,y=i!==s?"nextSibling":"previousSibling",v=t.parentNode,m=a&&t.nodeName.toLowerCase(),g=!l&&!a,_=!1;if(v){if(i){for(;y;){for(u=t;u=u[y];)if(a?u.nodeName.toLowerCase()===m:1===u.nodeType)return!1;f=y="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?v.firstChild:v.lastChild],s&&g){for(_=(d=(c=(p=(h=(u=v)[T]||(u[T]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===x&&c[1])&&c[2],u=d&&v.childNodes[d];u=++d&&u&&u[y]||(_=d=0)||f.pop();)if(1===u.nodeType&&++_&&u===t){p[e]=[x,d,_];break}}else if(g&&(_=d=(c=(p=(h=(u=t)[T]||(u[T]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===x&&c[1]),!1===_)for(;(u=++d&&u&&u[y]||(_=d=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==m:1!==u.nodeType)||!++_||(g&&((p=(h=u[T]||(u[T]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]=[x,_]),u!==t)););return(_-=n)===o||_%o==0&&_/o>=0}}},PSEUDO:function(e,t){var r,n=o.pseudos[e]||o.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return n[T]?n(t):n.length>1?(r=[e,e,"",t],o.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,r){for(var o,i=n(e,t),s=i.length;s--;)e[o=k(e,i[s])]=!(r[o]=i[s])}):function(e){return n(e,0,r)}):n}},pseudos:{not:ae(function(e){var t=[],r=[],o=a(e.replace(I,"$1"));return o[T]?ae(function(e,t,r,n){for(var i,s=o(e,null,n,[]),a=e.length;a--;)(i=s[a])&&(e[a]=!(t[a]=i))}):function(e,n,i){return t[0]=e,o(t,null,i,r),t[0]=null,!r.pop()}}),has:ae(function(e){return function(t){return ie(e,t).length>0}}),contains:ae(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||n(t)).indexOf(e)>-1}}),lang:ae(function(e){return U.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var r;do{if(r=y?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!o.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,r){return[r<0?r+t:r]}),even:fe(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:fe(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:fe(function(e,t,r){for(var o=r<0?r+t:r;--o>=0;)e.push(o);return e}),gt:fe(function(e,t,r){for(var o=r<0?r+t:r;++o<t;)e.push(o);return e})}}).pseudos.nth=o.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})o.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})o.pseudos[t]=ue(t);function ve(){}function me(e){for(var t=0,r=e.length,o="";t<r;t++)o+=e[t].value;return o}function ge(e,t,r){var o=t.dir,n=t.next,i=n||o,s=r&&"parentNode"===i,a=M++;return t.first?function(t,r,n){for(;t=t[o];)if(1===t.nodeType||s)return e(t,r,n);return!1}:function(t,r,l){var c,p,h,u=[x,a];if(l){for(;t=t[o];)if((1===t.nodeType||s)&&e(t,r,l))return!0}else for(;t=t[o];)if(1===t.nodeType||s)if(p=(h=t[T]||(t[T]={}))[t.uniqueID]||(h[t.uniqueID]={}),n&&n===t.nodeName.toLowerCase())t=t[o]||t;else{if((c=p[i])&&c[0]===x&&c[1]===a)return u[2]=c[2];if(p[i]=u,u[2]=e(t,r,l))return!0}return!1}}function _e(e){return e.length>1?function(t,r,o){for(var n=e.length;n--;)if(!e[n](t,r,o))return!1;return!0}:e[0]}function Te(e,t,r,o,n){for(var i,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(i=e[a])&&(r&&!r(i,o,n)||(s.push(i),c&&t.push(a)));return s}function be(e,t,r,o,n,i){return o&&!o[T]&&(o=be(o)),n&&!n[T]&&(n=be(n,i)),ae(function(i,s,a,l){var c,p,h,u=[],d=[],f=s.length,y=i||function(e,t,r){for(var o=0,n=t.length;o<n;o++)ie(e,t[o],r);return r}(t||"*",a.nodeType?[a]:a,[]),v=!e||!i&&t?y:Te(y,u,e,a,l),m=r?n||(i?e:f||o)?[]:s:v;if(r&&r(v,m,a,l),o)for(c=Te(m,d),o(c,[],a,l),p=c.length;p--;)(h=c[p])&&(m[d[p]]=!(v[d[p]]=h));if(i){if(n||e){if(n){for(c=[],p=m.length;p--;)(h=m[p])&&c.push(v[p]=h);n(null,m=[],c,l)}for(p=m.length;p--;)(h=m[p])&&(c=n?k(i,h):u[p])>-1&&(i[c]=!(s[c]=h))}}else m=Te(m===s?m.splice(f,m.length):m),n?n(null,s,m,l):z.apply(s,m)})}function xe(e){for(var t,r,n,i=e.length,s=o.relative[e[0].type],a=s||o.relative[" "],l=s?1:0,p=ge(function(e){return e===t},a,!0),h=ge(function(e){return k(t,e)>-1},a,!0),u=[function(e,r,o){var n=!s&&(o||r!==c)||((t=r).nodeType?p(e,r,o):h(e,r,o));return t=null,n}];l<i;l++)if(r=o.relative[e[l].type])u=[ge(_e(u),r)];else{if((r=o.filter[e[l].type].apply(null,e[l].matches))[T]){for(n=++l;n<i&&!o.relative[e[n].type];n++);return be(l>1&&_e(u),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(I,"$1"),r,l<n&&xe(e.slice(l,n)),n<i&&xe(e=e.slice(n)),n<i&&me(e))}u.push(r)}return _e(u)}return ve.prototype=o.filters=o.pseudos,o.setFilters=new ve,s=ie.tokenize=function(e,t){var r,n,i,s,a,l,c,p=P[e+" "];if(p)return t?0:p.slice(0);for(a=e,l=[],c=o.preFilter;a;){for(s in r&&!(n=G.exec(a))||(n&&(a=a.slice(n[0].length)||a),l.push(i=[])),r=!1,(n=W.exec(a))&&(r=n.shift(),i.push({value:r,type:n[0].replace(I," ")}),a=a.slice(r.length)),o.filter)!(n=$[s].exec(a))||c[s]&&!(n=c[s](n))||(r=n.shift(),i.push({value:r,type:s,matches:n}),a=a.slice(r.length));if(!r)break}return t?a.length:a?ie.error(e):P(e,l).slice(0)},a=ie.compile=function(e,t){var r,n=[],i=[],a=A[e+" "];if(!a){for(t||(t=s(e)),r=t.length;r--;)(a=xe(t[r]))[T]?n.push(a):i.push(a);(a=A(e,function(e,t){var r=t.length>0,n=e.length>0,i=function(i,s,a,l,p){var h,f,v,m=0,g="0",_=i&&[],T=[],b=c,M=i||n&&o.find.TAG("*",p),w=x+=null==b?1:Math.random()||.1,P=M.length;for(p&&(c=s===d||s||p);g!==P&&null!=(h=M[g]);g++){if(n&&h){for(f=0,s||h.ownerDocument===d||(u(h),a=!y);v=e[f++];)if(v(h,s||d,a)){l.push(h);break}p&&(x=w)}r&&((h=!v&&h)&&m--,i&&_.push(h))}if(m+=g,r&&g!==m){for(f=0;v=t[f++];)v(_,T,s,a);if(i){if(m>0)for(;g--;)_[g]||T[g]||(T[g]=F.call(l));T=Te(T)}z.apply(l,T),p&&!i&&T.length>0&&m+t.length>1&&ie.uniqueSort(l)}return p&&(x=w,c=b),_};return r?ae(i):i}(i,n))).selector=e}return a},l=ie.select=function(e,t,r,n){var i,l,c,p,h,u="function"==typeof e&&e,d=!n&&s(e=u.selector||e);if(r=r||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&y&&o.relative[l[1].type]){if(!(t=(o.find.ID(c.matches[0].replace(J,ee),t)||[])[0]))return r;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=$.needsContext.test(e)?0:l.length;i--&&(c=l[i],!o.relative[p=c.type]);)if((h=o.find[p])&&(n=h(c.matches[0].replace(J,ee),Z.test(l[0].type)&&ye(t.parentNode)||t))){if(l.splice(i,1),!(e=n.length&&me(l)))return z.apply(r,n),r;break}}return(u||a(e,d))(n,t,!y,r,!t||Z.test(e)&&ye(t.parentNode)||t),r},r.sortStable=T.split("").sort(j).join("")===T,r.detectDuplicates=!!h,u(),r.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(L,function(e,t,r){var o;if(!r)return!0===e[t]?t.toLowerCase():(o=e.getAttributeNode(t))&&o.specified?o.value:null}),ie}(r);M.find=A,M.expr=A.selectors,M.expr[":"]=M.expr.pseudos,M.uniqueSort=M.unique=A.uniqueSort,M.text=A.getText,M.isXMLDoc=A.isXML,M.contains=A.contains,M.escapeSelector=A.escape;var j=function(e,t,r){for(var o=[],n=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(n&&M(e).is(r))break;o.push(e)}return o},C=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},S=M.expr.match.needsContext;function F(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function z(e,t,r){return g(t)?M.grep(e,function(e,o){return!!t.call(e,o,e)!==r}):t.nodeType?M.grep(e,function(e){return e===t!==r}):"string"!=typeof t?M.grep(e,function(e){return h.call(t,e)>-1!==r}):M.filter(t,e,r)}M.filter=function(e,t,r){var o=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?M.find.matchesSelector(o,e)?[o]:[]:M.find.matches(e,M.grep(t,function(e){return 1===e.nodeType}))},M.fn.extend({find:function(e){var t,r,o=this.length,n=this;if("string"!=typeof e)return this.pushStack(M(e).filter(function(){for(t=0;t<o;t++)if(M.contains(n[t],this))return!0}));for(r=this.pushStack([]),t=0;t<o;t++)M.find(e,n[t],r);return o>1?M.uniqueSort(r):r},filter:function(e){return this.pushStack(z(this,e||[],!1))},not:function(e){return this.pushStack(z(this,e||[],!0))},is:function(e){return!!z(this,"string"==typeof e&&S.test(e)?M(e):e||[],!1).length}});var O,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(M.fn.init=function(e,t,r){var o,n;if(!e)return this;if(r=r||O,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:k.exec(e))||!o[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof M?t[0]:t,M.merge(this,M.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),E.test(o[1])&&M.isPlainObject(t))for(o in t)g(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(n=s.getElementById(o[2]))&&(this[0]=n,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==r.ready?r.ready(e):e(M):M.makeArray(e,this)}).prototype=M.fn,O=M(s);var L=/^(?:parents|prev(?:Until|All))/,B={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}M.fn.extend({has:function(e){var t=M(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(M.contains(this,t[e]))return!0})},closest:function(e,t){var r,o=0,n=this.length,i=[],s="string"!=typeof e&&M(e);if(!S.test(e))for(;o<n;o++)for(r=this[o];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(s?s.index(r)>-1:1===r.nodeType&&M.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(i.length>1?M.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?h.call(M(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),M.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return j(e,"parentNode")},parentsUntil:function(e,t,r){return j(e,"parentNode",r)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return j(e,"nextSibling")},prevAll:function(e){return j(e,"previousSibling")},nextUntil:function(e,t,r){return j(e,"nextSibling",r)},prevUntil:function(e,t,r){return j(e,"previousSibling",r)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return F(e,"iframe")?e.contentDocument:(F(e,"template")&&(e=e.content||e),M.merge([],e.childNodes))}},function(e,t){M.fn[e]=function(r,o){var n=M.map(this,t,r);return"Until"!==e.slice(-5)&&(o=r),o&&"string"==typeof o&&(n=M.filter(o,n)),this.length>1&&(B[e]||M.uniqueSort(n),L.test(e)&&n.reverse()),this.pushStack(n)}});var D=/[^\x20\t\r\n\f]+/g;function N(e){return e}function V(e){throw e}function I(e,t,r,o){var n;try{e&&g(n=e.promise)?n.call(e).done(t).fail(r):e&&g(n=e.then)?n.call(e,t,r):t.apply(void 0,[e].slice(o))}catch(e){r.apply(void 0,[e])}}M.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return M.each(e.match(D)||[],function(e,r){t[r]=!0}),t}(e):M.extend({},e);var t,r,o,n,i=[],s=[],a=-1,l=function(){for(n=n||e.once,o=t=!0;s.length;a=-1)for(r=s.shift();++a<i.length;)!1===i[a].apply(r[0],r[1])&&e.stopOnFalse&&(a=i.length,r=!1);e.memory||(r=!1),t=!1,n&&(i=r?[]:"")},c={add:function(){return i&&(r&&!t&&(a=i.length-1,s.push(r)),function t(r){M.each(r,function(r,o){g(o)?e.unique&&c.has(o)||i.push(o):o&&o.length&&"string"!==x(o)&&t(o)})}(arguments),r&&!t&&l()),this},remove:function(){return M.each(arguments,function(e,t){for(var r;(r=M.inArray(t,i,r))>-1;)i.splice(r,1),r<=a&&a--}),this},has:function(e){return e?M.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return n=s=[],i=r="",this},disabled:function(){return!i},lock:function(){return n=s=[],r||t||(i=r=""),this},locked:function(){return!!n},fireWith:function(e,r){return n||(r=[e,(r=r||[]).slice?r.slice():r],s.push(r),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},M.extend({Deferred:function(e){var t=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],o="pending",n={state:function(){return o},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return n.then(null,e)},pipe:function(){var e=arguments;return M.Deferred(function(r){M.each(t,function(t,o){var n=g(e[o[4]])&&e[o[4]];i[o[1]](function(){var e=n&&n.apply(this,arguments);e&&g(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[o[0]+"With"](this,n?[e]:arguments)})}),e=null}).promise()},then:function(e,o,n){var i=0;function s(e,t,o,n){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<i)){if((r=o.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"==typeof r||"function"==typeof r)&&r.then,g(c)?n?c.call(r,s(i,t,N,n),s(i,t,V,n)):(i++,c.call(r,s(i,t,N,n),s(i,t,V,n),s(i,t,N,t.notifyWith))):(o!==N&&(a=void 0,l=[r]),(n||t.resolveWith)(a,l))}},p=n?c:function(){try{c()}catch(r){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(r,p.stackTrace),e+1>=i&&(o!==V&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?p():(M.Deferred.getStackHook&&(p.stackTrace=M.Deferred.getStackHook()),r.setTimeout(p))}}return M.Deferred(function(r){t[0][3].add(s(0,r,g(n)?n:N,r.notifyWith)),t[1][3].add(s(0,r,g(e)?e:N)),t[2][3].add(s(0,r,g(o)?o:V))}).promise()},promise:function(e){return null!=e?M.extend(e,n):n}},i={};return M.each(t,function(e,r){var s=r[2],a=r[5];n[r[1]]=s.add,a&&s.add(function(){o=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),i[r[0]]=function(){return i[r[0]+"With"](this===i?void 0:this,arguments),this},i[r[0]+"With"]=s.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,r=t,o=Array(r),n=l.call(arguments),i=M.Deferred(),s=function(e){return function(r){o[e]=this,n[e]=arguments.length>1?l.call(arguments):r,--t||i.resolveWith(o,n)}};if(t<=1&&(I(e,i.done(s(r)).resolve,i.reject,!t),"pending"===i.state()||g(n[r]&&n[r].then)))return i.then();for(;r--;)I(n[r],s(r),i.reject);return i.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&G.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},M.readyException=function(e){r.setTimeout(function(){throw e})};var W=M.Deferred();function H(){s.removeEventListener("DOMContentLoaded",H),r.removeEventListener("load",H),M.ready()}M.fn.ready=function(e){return W.then(e).catch(function(e){M.readyException(e)}),this},M.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--M.readyWait:M.isReady)||(M.isReady=!0,!0!==e&&--M.readyWait>0||W.resolveWith(s,[M]))}}),M.ready.then=W.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?r.setTimeout(M.ready):(s.addEventListener("DOMContentLoaded",H),r.addEventListener("load",H));var q=function(e,t,r,o,n,i,s){var a=0,l=e.length,c=null==r;if("object"===x(r))for(a in n=!0,r)q(e,t,a,r[a],!0,i,s);else if(void 0!==o&&(n=!0,g(o)||(s=!0),c&&(s?(t.call(e,o),t=null):(c=t,t=function(e,t,r){return c.call(M(e),r)})),t))for(;a<l;a++)t(e[a],r,s?o:o.call(e[a],a,t(e[a],r)));return n?e:c?t.call(e):l?t(e[0],r):i},U=/^-ms-/,$=/-([a-z])/g;function X(e,t){return t.toUpperCase()}function K(e){return e.replace(U,"ms-").replace($,X)}var Q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=M.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var o,n=this.cache(e);if("string"==typeof t)n[K(t)]=r;else for(o in t)n[K(o)]=t[o];return n},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,o=e[this.expando];if(void 0!==o){if(void 0!==t){r=(t=Array.isArray(t)?t.map(K):(t=K(t))in o?[t]:t.match(D)||[]).length;for(;r--;)delete o[t[r]]}(void 0===t||M.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!M.isEmptyObject(t)}};var Z=new Y,J=new Y,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function re(e,t,r){var o;if(void 0===r&&1===e.nodeType)if(o="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(o))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(r)}catch(e){}J.set(e,t,r)}else r=void 0;return r}M.extend({hasData:function(e){return J.hasData(e)||Z.hasData(e)},data:function(e,t,r){return J.access(e,t,r)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,r){return Z.access(e,t,r)},_removeData:function(e,t){Z.remove(e,t)}}),M.fn.extend({data:function(e,t){var r,o,n,i=this[0],s=i&&i.attributes;if(void 0===e){if(this.length&&(n=J.get(i),1===i.nodeType&&!Z.get(i,"hasDataAttrs"))){for(r=s.length;r--;)s[r]&&0===(o=s[r].name).indexOf("data-")&&(o=K(o.slice(5)),re(i,o,n[o]));Z.set(i,"hasDataAttrs",!0)}return n}return"object"==typeof e?this.each(function(){J.set(this,e)}):q(this,function(t){var r;if(i&&void 0===t)return void 0!==(r=J.get(i,e))?r:void 0!==(r=re(i,e))?r:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),M.extend({queue:function(e,t,r){var o;if(e)return t=(t||"fx")+"queue",o=Z.get(e,t),r&&(!o||Array.isArray(r)?o=Z.access(e,t,M.makeArray(r)):o.push(r)),o||[]},dequeue:function(e,t){t=t||"fx";var r=M.queue(e,t),o=r.length,n=r.shift(),i=M._queueHooks(e,t);"inprogress"===n&&(n=r.shift(),o--),n&&("fx"===t&&r.unshift("inprogress"),delete i.stop,n.call(e,function(){M.dequeue(e,t)},i)),!o&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return Z.get(e,r)||Z.access(e,r,{empty:M.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",r])})})}}),M.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?M.queue(this[0],e):void 0===t?this:this.each(function(){var r=M.queue(this,e,t);M._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&M.dequeue(this,e)})},dequeue:function(e){return this.each(function(){M.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,o=1,n=M.Deferred(),i=this,s=this.length,a=function(){--o||n.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=Z.get(i[s],e+"queueHooks"))&&r.empty&&(o++,r.empty.add(a));return a(),n.promise(t)}});var oe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+oe+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&M.contains(e.ownerDocument,e)&&"none"===M.css(e,"display")},ae=function(e,t,r,o){var n,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];for(i in n=r.apply(e,o||[]),t)e.style[i]=s[i];return n};function le(e,t,r,o){var n,i,s=20,a=o?function(){return o.cur()}:function(){return M.css(e,t,"")},l=a(),c=r&&r[3]||(M.cssNumber[t]?"":"px"),p=(M.cssNumber[t]||"px"!==c&&+l)&&ne.exec(M.css(e,t));if(p&&p[3]!==c){for(l/=2,c=c||p[3],p=+l||1;s--;)M.style(e,t,p+c),(1-i)*(1-(i=a()/l||.5))<=0&&(s=0),p/=i;p*=2,M.style(e,t,p+c),r=r||[]}return r&&(p=+p||+l||0,n=r[1]?p+(r[1]+1)*r[2]:+r[2],o&&(o.unit=c,o.start=p,o.end=n)),n}var ce={};function pe(e){var t,r=e.ownerDocument,o=e.nodeName,n=ce[o];return n||(t=r.body.appendChild(r.createElement(o)),n=M.css(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),ce[o]=n,n)}function he(e,t){for(var r,o,n=[],i=0,s=e.length;i<s;i++)(o=e[i]).style&&(r=o.style.display,t?("none"===r&&(n[i]=Z.get(o,"display")||null,n[i]||(o.style.display="")),""===o.style.display&&se(o)&&(n[i]=pe(o))):"none"!==r&&(n[i]="none",Z.set(o,"display",r)));for(i=0;i<s;i++)null!=n[i]&&(e[i].style.display=n[i]);return e}M.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?M(this).show():M(this).hide()})}});var ue=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,fe=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&F(e,t)?M.merge([e],r):r}function me(e,t){for(var r=0,o=e.length;r<o;r++)Z.set(e[r],"globalEval",!t||Z.get(t[r],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var ge,_e,Te=/<|&#?\w+;/;function be(e,t,r,o,n){for(var i,s,a,l,c,p,h=t.createDocumentFragment(),u=[],d=0,f=e.length;d<f;d++)if((i=e[d])||0===i)if("object"===x(i))M.merge(u,i.nodeType?[i]:i);else if(Te.test(i)){for(s=s||h.appendChild(t.createElement("div")),a=(de.exec(i)||["",""])[1].toLowerCase(),l=ye[a]||ye._default,s.innerHTML=l[1]+M.htmlPrefilter(i)+l[2],p=l[0];p--;)s=s.lastChild;M.merge(u,s.childNodes),(s=h.firstChild).textContent=""}else u.push(t.createTextNode(i));for(h.textContent="",d=0;i=u[d++];)if(o&&M.inArray(i,o)>-1)n&&n.push(i);else if(c=M.contains(i.ownerDocument,i),s=ve(h.appendChild(i),"script"),c&&me(s),r)for(p=0;i=s[p++];)fe.test(i.type||"")&&r.push(i);return h}ge=s.createDocumentFragment().appendChild(s.createElement("div")),(_e=s.createElement("input")).setAttribute("type","radio"),_e.setAttribute("checked","checked"),_e.setAttribute("name","t"),ge.appendChild(_e),m.checkClone=ge.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!ge.cloneNode(!0).lastChild.defaultValue;var xe=s.documentElement,Me=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Pe=/^([^.]*)(?:\.(.+)|)/;function Ae(){return!0}function je(){return!1}function Ce(){try{return s.activeElement}catch(e){}}function Se(e,t,r,o,n,i){var s,a;if("object"==typeof t){for(a in"string"!=typeof r&&(o=o||r,r=void 0),t)Se(e,a,r,o,t[a],i);return e}if(null==o&&null==n?(n=r,o=r=void 0):null==n&&("string"==typeof r?(n=o,o=void 0):(n=o,o=r,r=void 0)),!1===n)n=je;else if(!n)return e;return 1===i&&(s=n,(n=function(e){return M().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=M.guid++)),e.each(function(){M.event.add(this,t,n,o,r)})}M.event={global:{},add:function(e,t,r,o,n){var i,s,a,l,c,p,h,u,d,f,y,v=Z.get(e);if(v)for(r.handler&&(r=(i=r).handler,n=i.selector),n&&M.find.matchesSelector(xe,n),r.guid||(r.guid=M.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(t){return void 0!==M&&M.event.triggered!==t.type?M.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(D)||[""]).length;c--;)d=y=(a=Pe.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),d&&(h=M.event.special[d]||{},d=(n?h.delegateType:h.bindType)||d,h=M.event.special[d]||{},p=M.extend({type:d,origType:y,data:o,handler:r,guid:r.guid,selector:n,needsContext:n&&M.expr.match.needsContext.test(n),namespace:f.join(".")},i),(u=l[d])||((u=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,o,f,s)||e.addEventListener&&e.addEventListener(d,s)),h.add&&(h.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),n?u.splice(u.delegateCount++,0,p):u.push(p),M.event.global[d]=!0)},remove:function(e,t,r,o,n){var i,s,a,l,c,p,h,u,d,f,y,v=Z.hasData(e)&&Z.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(D)||[""]).length;c--;)if(d=y=(a=Pe.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=M.event.special[d]||{},u=l[d=(o?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=i=u.length;i--;)p=u[i],!n&&y!==p.origType||r&&r.guid!==p.guid||a&&!a.test(p.namespace)||o&&o!==p.selector&&("**"!==o||!p.selector)||(u.splice(i,1),p.selector&&u.delegateCount--,h.remove&&h.remove.call(e,p));s&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,f,v.handle)||M.removeEvent(e,d,v.handle),delete l[d])}else for(d in l)M.event.remove(e,d+t[c],r,o,!0);M.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,r,o,n,i,s,a=M.event.fix(e),l=new Array(arguments.length),c=(Z.get(this,"events")||{})[a.type]||[],p=M.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!p.preDispatch||!1!==p.preDispatch.call(this,a)){for(s=M.event.handlers.call(this,a,c),t=0;(n=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,r=0;(i=n.handlers[r++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(i.namespace)||(a.handleObj=i,a.data=i.data,void 0!==(o=((M.event.special[i.origType]||{}).handle||i.handler).apply(n.elem,l))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return p.postDispatch&&p.postDispatch.call(this,a),a.result}},handlers:function(e,t){var r,o,n,i,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],s={},r=0;r<l;r++)void 0===s[n=(o=t[r]).selector+" "]&&(s[n]=o.needsContext?M(n,this).index(c)>-1:M.find(n,this,null,[c]).length),s[n]&&i.push(o);i.length&&a.push({elem:c,handlers:i})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(M.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[M.expando]?e:new M.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&F(this,"input"))return this.click(),!1},_default:function(e){return F(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},M.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},M.Event=function(e,t){if(!(this instanceof M.Event))return new M.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ae:je,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&M.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:je,isPropagationStopped:je,isImmediatePropagationStopped:je,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Me.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},M.event.addProp),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){M.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,o=e.relatedTarget,n=e.handleObj;return o&&(o===this||M.contains(this,o))||(e.type=n.origType,r=n.handler.apply(this,arguments),e.type=t),r}}}),M.fn.extend({on:function(e,t,r,o){return Se(this,e,t,r,o)},one:function(e,t,r,o){return Se(this,e,t,r,o,1)},off:function(e,t,r){var o,n;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,M(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(n in e)this.off(n,t,e[n]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=je),this.each(function(){M.event.remove(this,e,r,t)})}});var Fe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,ze=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ke(e,t){return F(e,"table")&&F(11!==t.nodeType?t:t.firstChild,"tr")&&M(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var r,o,n,i,s,a,l,c;if(1===t.nodeType){if(Z.hasData(e)&&(i=Z.access(e),s=Z.set(t,i),c=i.events))for(n in delete s.handle,s.events={},c)for(r=0,o=c[n].length;r<o;r++)M.event.add(t,n,c[n][r]);J.hasData(e)&&(a=J.access(e),l=M.extend({},a),J.set(t,l))}}function De(e,t,r,o){t=c.apply([],t);var n,i,s,a,l,p,h=0,u=e.length,d=u-1,f=t[0],y=g(f);if(y||u>1&&"string"==typeof f&&!m.checkClone&&ze.test(f))return e.each(function(n){var i=e.eq(n);y&&(t[0]=f.call(this,n,i.html())),De(i,t,r,o)});if(u&&(i=(n=be(t,e[0].ownerDocument,!1,e,o)).firstChild,1===n.childNodes.length&&(n=i),i||o)){for(a=(s=M.map(ve(n,"script"),Le)).length;h<u;h++)l=n,h!==d&&(l=M.clone(l,!0,!0),a&&M.merge(s,ve(l,"script"))),r.call(e[h],l,h);if(a)for(p=s[s.length-1].ownerDocument,M.map(s,Be),h=0;h<a;h++)l=s[h],fe.test(l.type||"")&&!Z.access(l,"globalEval")&&M.contains(p,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?M._evalUrl&&M._evalUrl(l.src):b(l.textContent.replace(Oe,""),p,l))}return e}function Ne(e,t,r){for(var o,n=t?M.filter(t,e):e,i=0;null!=(o=n[i]);i++)r||1!==o.nodeType||M.cleanData(ve(o)),o.parentNode&&(r&&M.contains(o.ownerDocument,o)&&me(ve(o,"script")),o.parentNode.removeChild(o));return e}M.extend({htmlPrefilter:function(e){return e.replace(Fe,"<$1></$2>")},clone:function(e,t,r){var o,n,i,s,a,l,c,p=e.cloneNode(!0),h=M.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||M.isXMLDoc(e)))for(s=ve(p),o=0,n=(i=ve(e)).length;o<n;o++)a=i[o],l=s[o],void 0,"input"===(c=l.nodeName.toLowerCase())&&ue.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(r)for(i=i||ve(e),s=s||ve(p),o=0,n=i.length;o<n;o++)Re(i[o],s[o]);else Re(e,p);return(s=ve(p,"script")).length>0&&me(s,!h&&ve(e,"script")),p},cleanData:function(e){for(var t,r,o,n=M.event.special,i=0;void 0!==(r=e[i]);i++)if(Q(r)){if(t=r[Z.expando]){if(t.events)for(o in t.events)n[o]?M.event.remove(r,o):M.removeEvent(r,o,t.handle);r[Z.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),M.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return q(this,function(e){return void 0===e?M.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return De(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ke(this,e).appendChild(e)})},prepend:function(){return De(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ke(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return De(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(M.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return M.clone(this,e,t)})},html:function(e){return q(this,function(e){var t=this[0]||{},r=0,o=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!ye[(de.exec(e)||["",""])[1].toLowerCase()]){e=M.htmlPrefilter(e);try{for(;r<o;r++)1===(t=this[r]||{}).nodeType&&(M.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return De(this,arguments,function(t){var r=this.parentNode;M.inArray(this,e)<0&&(M.cleanData(ve(this)),r&&r.replaceChild(t,this))},e)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){M.fn[e]=function(e){for(var r,o=[],n=M(e),i=n.length-1,s=0;s<=i;s++)r=s===i?this:this.clone(!0),M(n[s])[t](r),p.apply(o,r.get());return this.pushStack(o)}});var Ve=new RegExp("^("+oe+")(?!px)[a-z%]+$","i"),Ie=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},Ge=new RegExp(ie.join("|"),"i");function We(e,t,r){var o,n,i,s,a=e.style;return(r=r||Ie(e))&&(""!==(s=r.getPropertyValue(t)||r[t])||M.contains(e.ownerDocument,e)||(s=M.style(e,t)),!m.pixelBoxStyles()&&Ve.test(s)&&Ge.test(t)&&(o=a.width,n=a.minWidth,i=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=r.width,a.width=o,a.minWidth=n,a.maxWidth=i)),void 0!==s?s+"":s}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(p){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",p.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xe.appendChild(c).appendChild(p);var e=r.getComputedStyle(p);o="1%"!==e.top,l=12===t(e.marginLeft),p.style.right="60%",a=36===t(e.right),n=36===t(e.width),p.style.position="absolute",i=36===p.offsetWidth||"absolute",xe.removeChild(c),p=null}}function t(e){return Math.round(parseFloat(e))}var o,n,i,a,l,c=s.createElement("div"),p=s.createElement("div");p.style&&(p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===p.style.backgroundClip,M.extend(m,{boxSizingReliable:function(){return e(),n},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),o},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),i}}))}();var qe=/^(none|table(?!-c[ea]).+)/,Ue=/^--/,$e={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","Moz","ms"],Qe=s.createElement("div").style;function Ye(e){var t=M.cssProps[e];return t||(t=M.cssProps[e]=function(e){if(e in Qe)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=Ke.length;r--;)if((e=Ke[r]+t)in Qe)return e}(e)||e),t}function Ze(e,t,r){var o=ne.exec(t);return o?Math.max(0,o[2]-(r||0))+(o[3]||"px"):t}function Je(e,t,r,o,n,i){var s="width"===t?1:0,a=0,l=0;if(r===(o?"border":"content"))return 0;for(;s<4;s+=2)"margin"===r&&(l+=M.css(e,r+ie[s],!0,n)),o?("content"===r&&(l-=M.css(e,"padding"+ie[s],!0,n)),"margin"!==r&&(l-=M.css(e,"border"+ie[s]+"Width",!0,n))):(l+=M.css(e,"padding"+ie[s],!0,n),"padding"!==r?l+=M.css(e,"border"+ie[s]+"Width",!0,n):a+=M.css(e,"border"+ie[s]+"Width",!0,n));return!o&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-a-.5))),l}function et(e,t,r){var o=Ie(e),n=We(e,t,o),i="border-box"===M.css(e,"boxSizing",!1,o),s=i;if(Ve.test(n)){if(!r)return n;n="auto"}return s=s&&(m.boxSizingReliable()||n===e.style[t]),("auto"===n||!parseFloat(n)&&"inline"===M.css(e,"display",!1,o))&&(n=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(n=parseFloat(n)||0)+Je(e,t,r||(i?"border":"content"),s,o,n)+"px"}function tt(e,t,r,o,n){return new tt.prototype.init(e,t,r,o,n)}M.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=We(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,i,s,a=K(t),l=Ue.test(t),c=e.style;if(l||(t=Ye(a)),s=M.cssHooks[t]||M.cssHooks[a],void 0===r)return s&&"get"in s&&void 0!==(n=s.get(e,!1,o))?n:c[t];"string"===(i=typeof r)&&(n=ne.exec(r))&&n[1]&&(r=le(e,t,n),i="number"),null!=r&&r==r&&("number"===i&&(r+=n&&n[3]||(M.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(r=s.set(e,r,o))||(l?c.setProperty(t,r):c[t]=r))}},css:function(e,t,r,o){var n,i,s,a=K(t);return Ue.test(t)||(t=Ye(a)),(s=M.cssHooks[t]||M.cssHooks[a])&&"get"in s&&(n=s.get(e,!0,r)),void 0===n&&(n=We(e,t,o)),"normal"===n&&t in Xe&&(n=Xe[t]),""===r||r?(i=parseFloat(n),!0===r||isFinite(i)?i||0:n):n}}),M.each(["height","width"],function(e,t){M.cssHooks[t]={get:function(e,r,o){if(r)return!qe.test(M.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,o):ae(e,$e,function(){return et(e,t,o)})},set:function(e,r,o){var n,i=Ie(e),s="border-box"===M.css(e,"boxSizing",!1,i),a=o&&Je(e,t,o,s,i);return s&&m.scrollboxSize()===i.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Je(e,t,"border",!1,i)-.5)),a&&(n=ne.exec(r))&&"px"!==(n[3]||"px")&&(e.style[t]=r,r=M.css(e,t)),Ze(0,r,a)}}}),M.cssHooks.marginLeft=He(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(e,t){M.cssHooks[e+t]={expand:function(r){for(var o=0,n={},i="string"==typeof r?r.split(" "):[r];o<4;o++)n[e+ie[o]+t]=i[o]||i[o-2]||i[0];return n}},"margin"!==e&&(M.cssHooks[e+t].set=Ze)}),M.fn.extend({css:function(e,t){return q(this,function(e,t,r){var o,n,i={},s=0;if(Array.isArray(t)){for(o=Ie(e),n=t.length;s<n;s++)i[t[s]]=M.css(e,t[s],!1,o);return i}return void 0!==r?M.style(e,t,r):M.css(e,t)},e,t,arguments.length>1)}}),M.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,r,o,n,i){this.elem=e,this.prop=r,this.easing=n||M.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=i||(M.cssNumber[r]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,r=tt.propHooks[this.prop];return this.options.duration?this.pos=t=M.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=M.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){M.fx.step[e.prop]?M.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[M.cssProps[e.prop]]&&!M.cssHooks[e.prop]?e.elem[e.prop]=e.now:M.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},M.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},M.fx=tt.prototype.init,M.fx.step={};var rt,ot,nt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function st(){ot&&(!1===s.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(st):r.setTimeout(st,M.fx.interval),M.fx.tick())}function at(){return r.setTimeout(function(){rt=void 0}),rt=Date.now()}function lt(e,t){var r,o=0,n={height:e};for(t=t?1:0;o<4;o+=2-t)n["margin"+(r=ie[o])]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function ct(e,t,r){for(var o,n=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),i=0,s=n.length;i<s;i++)if(o=n[i].call(r,t,e))return o}function pt(e,t,r){var o,n,i=0,s=pt.prefilters.length,a=M.Deferred().always(function(){delete l.elem}),l=function(){if(n)return!1;for(var t=rt||at(),r=Math.max(0,c.startTime+c.duration-t),o=1-(r/c.duration||0),i=0,s=c.tweens.length;i<s;i++)c.tweens[i].run(o);return a.notifyWith(e,[c,o,r]),o<1&&s?r:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:M.extend({},t),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},r),originalProperties:t,originalOptions:r,startTime:rt||at(),duration:r.duration,tweens:[],createTween:function(t,r){var o=M.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(o),o},stop:function(t){var r=0,o=t?c.tweens.length:0;if(n)return this;for(n=!0;r<o;r++)c.tweens[r].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),p=c.props;for(!function(e,t){var r,o,n,i,s;for(r in e)if(n=t[o=K(r)],i=e[r],Array.isArray(i)&&(n=i[1],i=e[r]=i[0]),r!==o&&(e[o]=i,delete e[r]),(s=M.cssHooks[o])&&"expand"in s)for(r in i=s.expand(i),delete e[o],i)r in e||(e[r]=i[r],t[r]=n);else t[o]=n}(p,c.opts.specialEasing);i<s;i++)if(o=pt.prefilters[i].call(c,e,p,c.opts))return g(o.stop)&&(M._queueHooks(c.elem,c.opts.queue).stop=o.stop.bind(o)),o;return M.map(p,ct,c),g(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),M.fx.timer(M.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}M.Animation=M.extend(pt,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return le(r.elem,e,ne.exec(t),r),r}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(D);for(var r,o=0,n=e.length;o<n;o++)r=e[o],pt.tweeners[r]=pt.tweeners[r]||[],pt.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var o,n,i,s,a,l,c,p,h="width"in t||"height"in t,u=this,d={},f=e.style,y=e.nodeType&&se(e),v=Z.get(e,"fxshow");for(o in r.queue||(null==(s=M._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,M.queue(e,"fx").length||s.empty.fire()})})),t)if(n=t[o],nt.test(n)){if(delete t[o],i=i||"toggle"===n,n===(y?"hide":"show")){if("show"!==n||!v||void 0===v[o])continue;y=!0}d[o]=v&&v[o]||M.style(e,o)}if((l=!M.isEmptyObject(t))||!M.isEmptyObject(d))for(o in h&&1===e.nodeType&&(r.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=v&&v.display)&&(c=Z.get(e,"display")),"none"===(p=M.css(e,"display"))&&(c?p=c:(he([e],!0),c=e.style.display||c,p=M.css(e,"display"),he([e]))),("inline"===p||"inline-block"===p&&null!=c)&&"none"===M.css(e,"float")&&(l||(u.done(function(){f.display=c}),null==c&&(p=f.display,c="none"===p?"":p)),f.display="inline-block")),r.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=r.overflow[0],f.overflowX=r.overflow[1],f.overflowY=r.overflow[2]})),l=!1,d)l||(v?"hidden"in v&&(y=v.hidden):v=Z.access(e,"fxshow",{display:c}),i&&(v.hidden=!y),y&&he([e],!0),u.done(function(){for(o in y||he([e]),Z.remove(e,"fxshow"),d)M.style(e,o,d[o])})),l=ct(y?v[o]:0,o,u),o in v||(v[o]=l.start,y&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),M.speed=function(e,t,r){var o=e&&"object"==typeof e?M.extend({},e):{complete:r||!r&&t||g(e)&&e,duration:e,easing:r&&t||t&&!g(t)&&t};return M.fx.off?o.duration=0:"number"!=typeof o.duration&&(o.duration in M.fx.speeds?o.duration=M.fx.speeds[o.duration]:o.duration=M.fx.speeds._default),null!=o.queue&&!0!==o.queue||(o.queue="fx"),o.old=o.complete,o.complete=function(){g(o.old)&&o.old.call(this),o.queue&&M.dequeue(this,o.queue)},o},M.fn.extend({fadeTo:function(e,t,r,o){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,r,o)},animate:function(e,t,r,o){var n=M.isEmptyObject(e),i=M.speed(t,r,o),s=function(){var t=pt(this,M.extend({},e),i);(n||Z.get(this,"finish"))&&t.stop(!0)};return s.finish=s,n||!1===i.queue?this.each(s):this.queue(i.queue,s)},stop:function(e,t,r){var o=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",i=M.timers,s=Z.get(this);if(n)s[n]&&s[n].stop&&o(s[n]);else for(n in s)s[n]&&s[n].stop&&it.test(n)&&o(s[n]);for(n=i.length;n--;)i[n].elem!==this||null!=e&&i[n].queue!==e||(i[n].anim.stop(r),t=!1,i.splice(n,1));!t&&r||M.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=Z.get(this),o=r[e+"queue"],n=r[e+"queueHooks"],i=M.timers,s=o?o.length:0;for(r.finish=!0,M.queue(this,e,[]),n&&n.stop&&n.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<s;t++)o[t]&&o[t].finish&&o[t].finish.call(this);delete r.finish})}}),M.each(["toggle","show","hide"],function(e,t){var r=M.fn[t];M.fn[t]=function(e,o,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(lt(t,!0),e,o,n)}}),M.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){M.fn[e]=function(e,r,o){return this.animate(t,e,r,o)}}),M.timers=[],M.fx.tick=function(){var e,t=0,r=M.timers;for(rt=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||M.fx.stop(),rt=void 0},M.fx.timer=function(e){M.timers.push(e),M.fx.start()},M.fx.interval=13,M.fx.start=function(){ot||(ot=!0,st())},M.fx.stop=function(){ot=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(e,t){return e=M.fx&&M.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,o){var n=r.setTimeout(t,e);o.stop=function(){r.clearTimeout(n)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var ht,ut=M.expr.attrHandle;M.fn.extend({attr:function(e,t){return q(this,M.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){M.removeAttr(this,e)})}}),M.extend({attr:function(e,t,r){var o,n,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?M.prop(e,t,r):(1===i&&M.isXMLDoc(e)||(n=M.attrHooks[t.toLowerCase()]||(M.expr.match.bool.test(t)?ht:void 0)),void 0!==r?null===r?void M.removeAttr(e,t):n&&"set"in n&&void 0!==(o=n.set(e,r,t))?o:(e.setAttribute(t,r+""),r):n&&"get"in n&&null!==(o=n.get(e,t))?o:null==(o=M.find.attr(e,t))?void 0:o)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&F(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,o=0,n=t&&t.match(D);if(n&&1===e.nodeType)for(;r=n[o++];)e.removeAttribute(r)}}),ht={set:function(e,t,r){return!1===t?M.removeAttr(e,r):e.setAttribute(r,r),r}},M.each(M.expr.match.bool.source.match(/\w+/g),function(e,t){var r=ut[t]||M.find.attr;ut[t]=function(e,t,o){var n,i,s=t.toLowerCase();return o||(i=ut[s],ut[s]=n,n=null!=r(e,t,o)?s:null,ut[s]=i),n}});var dt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function yt(e){return(e.match(D)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(D)||[]}M.fn.extend({prop:function(e,t){return q(this,M.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[M.propFix[e]||e]})}}),M.extend({prop:function(e,t,r){var o,n,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&M.isXMLDoc(e)||(t=M.propFix[t]||t,n=M.propHooks[t]),void 0!==r?n&&"set"in n&&void 0!==(o=n.set(e,r,t))?o:e[t]=r:n&&"get"in n&&null!==(o=n.get(e,t))?o:e[t]},propHooks:{tabIndex:{get:function(e){var t=M.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(M.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this}),M.fn.extend({addClass:function(e){var t,r,o,n,i,s,a,l=0;if(g(e))return this.each(function(t){M(this).addClass(e.call(this,t,vt(this)))});if((t=mt(e)).length)for(;r=this[l++];)if(n=vt(r),o=1===r.nodeType&&" "+yt(n)+" "){for(s=0;i=t[s++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ");n!==(a=yt(o))&&r.setAttribute("class",a)}return this},removeClass:function(e){var t,r,o,n,i,s,a,l=0;if(g(e))return this.each(function(t){M(this).removeClass(e.call(this,t,vt(this)))});if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;r=this[l++];)if(n=vt(r),o=1===r.nodeType&&" "+yt(n)+" "){for(s=0;i=t[s++];)for(;o.indexOf(" "+i+" ")>-1;)o=o.replace(" "+i+" "," ");n!==(a=yt(o))&&r.setAttribute("class",a)}return this},toggleClass:function(e,t){var r=typeof e,o="string"===r||Array.isArray(e);return"boolean"==typeof t&&o?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(r){M(this).toggleClass(e.call(this,r,vt(this),t),t)}):this.each(function(){var t,n,i,s;if(o)for(n=0,i=M(this),s=mt(e);t=s[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==r||((t=vt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))})},hasClass:function(e){var t,r,o=0;for(t=" "+e+" ";r=this[o++];)if(1===r.nodeType&&(" "+yt(vt(r))+" ").indexOf(t)>-1)return!0;return!1}});var gt=/\r/g;M.fn.extend({val:function(e){var t,r,o,n=this[0];return arguments.length?(o=g(e),this.each(function(r){var n;1===this.nodeType&&(null==(n=o?e.call(this,r,M(this).val()):e)?n="":"number"==typeof n?n+="":Array.isArray(n)&&(n=M.map(n,function(e){return null==e?"":e+""})),(t=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,n,"value")||(this.value=n))})):n?(t=M.valHooks[n.type]||M.valHooks[n.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(n,"value"))?r:"string"==typeof(r=n.value)?r.replace(gt,""):null==r?"":r:void 0}}),M.extend({valHooks:{option:{get:function(e){var t=M.find.attr(e,"value");return null!=t?t:yt(M.text(e))}},select:{get:function(e){var t,r,o,n=e.options,i=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?i+1:n.length;for(o=i<0?l:s?i:0;o<l;o++)if(((r=n[o]).selected||o===i)&&!r.disabled&&(!r.parentNode.disabled||!F(r.parentNode,"optgroup"))){if(t=M(r).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var r,o,n=e.options,i=M.makeArray(t),s=n.length;s--;)((o=n[s]).selected=M.inArray(M.valHooks.option.get(o),i)>-1)&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=M.inArray(M(e).val(),t)>-1}},m.checkOn||(M.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in r;var _t=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};M.extend(M.event,{trigger:function(e,t,o,n){var i,a,l,c,p,h,u,d,y=[o||s],v=f.call(e,"type")?e.type:e,m=f.call(e,"namespace")?e.namespace.split("."):[];if(a=d=l=o=o||s,3!==o.nodeType&&8!==o.nodeType&&!_t.test(v+M.event.triggered)&&(v.indexOf(".")>-1&&(v=(m=v.split(".")).shift(),m.sort()),p=v.indexOf(":")<0&&"on"+v,(e=e[M.expando]?e:new M.Event(v,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),t=null==t?[e]:M.makeArray(t,[e]),u=M.event.special[v]||{},n||!u.trigger||!1!==u.trigger.apply(o,t))){if(!n&&!u.noBubble&&!_(o)){for(c=u.delegateType||v,_t.test(c+v)||(a=a.parentNode);a;a=a.parentNode)y.push(a),l=a;l===(o.ownerDocument||s)&&y.push(l.defaultView||l.parentWindow||r)}for(i=0;(a=y[i++])&&!e.isPropagationStopped();)d=a,e.type=i>1?c:u.bindType||v,(h=(Z.get(a,"events")||{})[e.type]&&Z.get(a,"handle"))&&h.apply(a,t),(h=p&&a[p])&&h.apply&&Q(a)&&(e.result=h.apply(a,t),!1===e.result&&e.preventDefault());return e.type=v,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(y.pop(),t)||!Q(o)||p&&g(o[v])&&!_(o)&&((l=o[p])&&(o[p]=null),M.event.triggered=v,e.isPropagationStopped()&&d.addEventListener(v,Tt),o[v](),e.isPropagationStopped()&&d.removeEventListener(v,Tt),M.event.triggered=void 0,l&&(o[p]=l)),e.result}},simulate:function(e,t,r){var o=M.extend(new M.Event,r,{type:e,isSimulated:!0});M.event.trigger(o,null,t)}}),M.fn.extend({trigger:function(e,t){return this.each(function(){M.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return M.event.trigger(e,t,r,!0)}}),m.focusin||M.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){M.event.simulate(t,e.target,M.event.fix(e))};M.event.special[t]={setup:function(){var o=this.ownerDocument||this,n=Z.access(o,t);n||o.addEventListener(e,r,!0),Z.access(o,t,(n||0)+1)},teardown:function(){var o=this.ownerDocument||this,n=Z.access(o,t)-1;n?Z.access(o,t,n):(o.removeEventListener(e,r,!0),Z.remove(o,t))}}});var bt=r.location,xt=Date.now(),Mt=/\?/;M.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||M.error("Invalid XML: "+e),t};var wt=/\[\]$/,Pt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;function Ct(e,t,r,o){var n;if(Array.isArray(t))M.each(t,function(t,n){r||wt.test(e)?o(e,n):Ct(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,r,o)});else if(r||"object"!==x(t))o(e,t);else for(n in t)Ct(e+"["+n+"]",t[n],r,o)}M.param=function(e,t){var r,o=[],n=function(e,t){var r=g(t)?t():t;o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!M.isPlainObject(e))M.each(e,function(){n(this.name,this.value)});else for(r in e)Ct(r,e[r],t,n);return o.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=M.prop(this,"elements");return e?M.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!M(this).is(":disabled")&&jt.test(this.nodeName)&&!At.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var r=M(this).val();return null==r?null:Array.isArray(r)?M.map(r,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:r.replace(Pt,"\r\n")}}).get()}});var St=/%20/g,Ft=/#.*$/,Et=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,kt=/^\/\//,Lt={},Bt={},Rt="*/".concat("*"),Dt=s.createElement("a");function Nt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var o,n=0,i=t.toLowerCase().match(D)||[];if(g(r))for(;o=i[n++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(r)):(e[o]=e[o]||[]).push(r)}}function Vt(e,t,r,o){var n={},i=e===Bt;function s(a){var l;return n[a]=!0,M.each(e[a]||[],function(e,a){var c=a(t,r,o);return"string"!=typeof c||i||n[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!n["*"]&&s("*")}function It(e,t){var r,o,n=M.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((n[r]?e:o||(o={}))[r]=t[r]);return o&&M.extend(!0,e,o),e}Dt.href=bt.href,M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?It(It(e,M.ajaxSettings),t):It(M.ajaxSettings,e)},ajaxPrefilter:Nt(Lt),ajaxTransport:Nt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var o,n,i,a,l,c,p,h,u,d,f=M.ajaxSetup({},t),y=f.context||f,v=f.context&&(y.nodeType||y.jquery)?M(y):M.event,m=M.Deferred(),g=M.Callbacks("once memory"),_=f.statusCode||{},T={},b={},x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(p){if(!a)for(a={};t=zt.exec(i);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?i:null},setRequestHeader:function(e,t){return null==p&&(e=b[e.toLowerCase()]=b[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return null==p&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)w.always(e[w.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||x;return o&&o.abort(t),P(0,t),this}};if(m.promise(w),f.url=((e||f.url||bt.href)+"").replace(kt,bt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(D)||[""],null==f.crossDomain){c=s.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Dt.protocol+"//"+Dt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=M.param(f.data,f.traditional)),Vt(Lt,f,t,w),p)return w;for(u in(h=M.event&&f.global)&&0==M.active++&&M.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ot.test(f.type),n=f.url.replace(Ft,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(St,"+")):(d=f.url.slice(n.length),f.data&&(f.processData||"string"==typeof f.data)&&(n+=(Mt.test(n)?"&":"?")+f.data,delete f.data),!1===f.cache&&(n=n.replace(Et,"$1"),d=(Mt.test(n)?"&":"?")+"_="+xt+++d),f.url=n+d),f.ifModified&&(M.lastModified[n]&&w.setRequestHeader("If-Modified-Since",M.lastModified[n]),M.etag[n]&&w.setRequestHeader("If-None-Match",M.etag[n])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Rt+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(u,f.headers[u]);if(f.beforeSend&&(!1===f.beforeSend.call(y,w,f)||p))return w.abort();if(x="abort",g.add(f.complete),w.done(f.success),w.fail(f.error),o=Vt(Bt,f,t,w)){if(w.readyState=1,h&&v.trigger("ajaxSend",[w,f]),p)return w;f.async&&f.timeout>0&&(l=r.setTimeout(function(){w.abort("timeout")},f.timeout));try{p=!1,o.send(T,P)}catch(e){if(p)throw e;P(-1,e)}}else P(-1,"No Transport");function P(e,t,s,a){var c,u,d,T,b,x=t;p||(p=!0,l&&r.clearTimeout(l),o=void 0,i=a||"",w.readyState=e>0?4:0,c=e>=200&&e<300||304===e,s&&(T=function(e,t,r){for(var o,n,i,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(n in a)if(a[n]&&a[n].test(o)){l.unshift(n);break}if(l[0]in r)i=l[0];else{for(n in r){if(!l[0]||e.converters[n+" "+l[0]]){i=n;break}s||(s=n)}i=i||s}if(i)return i!==l[0]&&l.unshift(i),r[i]}(f,w,s)),T=function(e,t,r,o){var n,i,s,a,l,c={},p=e.dataTypes.slice();if(p[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(i=p.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=p.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(s=c[l+" "+i]||c["* "+i]))for(n in c)if((a=n.split(" "))[1]===i&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[n]:!0!==c[n]&&(i=a[0],p.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(f,T,w,c),c?(f.ifModified&&((b=w.getResponseHeader("Last-Modified"))&&(M.lastModified[n]=b),(b=w.getResponseHeader("etag"))&&(M.etag[n]=b)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=T.state,u=T.data,c=!(d=T.error))):(d=x,!e&&x||(x="error",e<0&&(e=0))),w.status=e,w.statusText=(t||x)+"",c?m.resolveWith(y,[u,x,w]):m.rejectWith(y,[w,x,d]),w.statusCode(_),_=void 0,h&&v.trigger(c?"ajaxSuccess":"ajaxError",[w,f,c?u:d]),g.fireWith(y,[w,x]),h&&(v.trigger("ajaxComplete",[w,f]),--M.active||M.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,r){return M.get(e,t,r,"json")},getScript:function(e,t){return M.get(e,void 0,t,"script")}}),M.each(["get","post"],function(e,t){M[t]=function(e,r,o,n){return g(r)&&(n=n||o,o=r,r=void 0),M.ajax(M.extend({url:e,type:t,dataType:n,data:r,success:o},M.isPlainObject(e)&&e))}}),M._evalUrl=function(e){return M.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},M.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=M(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){M(this).wrapInner(e.call(this,t))}):this.each(function(){var t=M(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(r){M(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(e){return!M.expr.pseudos.visible(e)},M.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Wt=M.ajaxSettings.xhr();m.cors=!!Wt&&"withCredentials"in Wt,m.ajax=Wt=!!Wt,M.ajaxTransport(function(e){var t,o;if(m.cors||Wt&&!e.crossDomain)return{send:function(n,i){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(s,n[s]);t=function(e){return function(){t&&(t=o=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(Gt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),o=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout(function(){t&&o()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),M.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return M.globalEval(e),e}}}),M.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),M.ajaxTransport("script",function(e){var t,r;if(e.crossDomain)return{send:function(o,n){t=M("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&n("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){r&&r()}}});var Ht,qt=[],Ut=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||M.expando+"_"+xt++;return this[e]=!0,e}}),M.ajaxPrefilter("json jsonp",function(e,t,o){var n,i,s,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+n):!1!==e.jsonp&&(e.url+=(Mt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return s||M.error(n+" was not called"),s[0]},e.dataTypes[0]="json",i=r[n],r[n]=function(){s=arguments},o.always(function(){void 0===i?M(r).removeProp(n):r[n]=i,e[n]&&(e.jsonpCallback=t.jsonpCallback,qt.push(n)),s&&g(i)&&i(s[0]),s=i=void 0}),"script"}),m.createHTMLDocument=((Ht=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ht.childNodes.length),M.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(m.createHTMLDocument?((o=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(o)):t=s),n=E.exec(e),i=!r&&[],n?[t.createElement(n[1])]:(n=be([e],t,i),i&&i.length&&M(i).remove(),M.merge([],n.childNodes)));var o,n,i},M.fn.load=function(e,t,r){var o,n,i,s=this,a=e.indexOf(" ");return a>-1&&(o=yt(e.slice(a)),e=e.slice(0,a)),g(t)?(r=t,t=void 0):t&&"object"==typeof t&&(n="POST"),s.length>0&&M.ajax({url:e,type:n||"GET",dataType:"html",data:t}).done(function(e){i=arguments,s.html(o?M("<div>").append(M.parseHTML(e)).find(o):e)}).always(r&&function(e,t){s.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){M.fn[t]=function(e){return this.on(t,e)}}),M.expr.pseudos.animated=function(e){return M.grep(M.timers,function(t){return e===t.elem}).length},M.offset={setOffset:function(e,t,r){var o,n,i,s,a,l,c=M.css(e,"position"),p=M(e),h={};"static"===c&&(e.style.position="relative"),a=p.offset(),i=M.css(e,"top"),l=M.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(s=(o=p.position()).top,n=o.left):(s=parseFloat(i)||0,n=parseFloat(l)||0),g(t)&&(t=t.call(e,r,M.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+n),"using"in t?t.using.call(e,h):p.css(h)}},M.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){M.offset.setOffset(this,e,t)});var t,r,o=this[0];return o?o.getClientRects().length?(t=o.getBoundingClientRect(),r=o.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,o=this[0],n={top:0,left:0};if("fixed"===M.css(o,"position"))t=o.getBoundingClientRect();else{for(t=this.offset(),r=o.ownerDocument,e=o.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===M.css(e,"position");)e=e.parentNode;e&&e!==o&&1===e.nodeType&&((n=M(e).offset()).top+=M.css(e,"borderTopWidth",!0),n.left+=M.css(e,"borderLeftWidth",!0))}return{top:t.top-n.top-M.css(o,"marginTop",!0),left:t.left-n.left-M.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===M.css(e,"position");)e=e.offsetParent;return e||xe})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;M.fn[e]=function(o){return q(this,function(e,o,n){var i;if(_(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[t]:e[o];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):e[o]=n},e,o,arguments.length)}}),M.each(["top","left"],function(e,t){M.cssHooks[t]=He(m.pixelPosition,function(e,r){if(r)return r=We(e,t),Ve.test(r)?M(e).position()[t]+"px":r})}),M.each({Height:"height",Width:"width"},function(e,t){M.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,o){M.fn[o]=function(n,i){var s=arguments.length&&(r||"boolean"!=typeof n),a=r||(!0===n||!0===i?"margin":"border");return q(this,function(t,r,n){var i;return _(t)?0===o.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?M.css(t,r,a):M.style(t,r,n,a)},t,s?n:void 0,s)}})}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){M.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),M.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),M.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,o){return this.on(t,e,r,o)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),M.proxy=function(e,t){var r,o,n;if("string"==typeof t&&(r=e[t],t=e,e=r),g(e))return o=l.call(arguments,2),(n=function(){return e.apply(t||this,o.concat(l.call(arguments)))}).guid=e.guid=e.guid||M.guid++,n},M.holdReady=function(e){e?M.readyWait++:M.ready(!0)},M.isArray=Array.isArray,M.parseJSON=JSON.parse,M.nodeName=F,M.isFunction=g,M.isWindow=_,M.camelCase=K,M.type=x,M.now=Date.now,M.isNumeric=function(e){var t=M.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(o=function(){return M}.apply(t,[]))||(e.exports=o);var $t=r.jQuery,Xt=r.$;return M.noConflict=function(e){return r.$===M&&(r.$=Xt),e&&r.jQuery===M&&(r.jQuery=$t),M},n||(r.jQuery=r.$=M),M})},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var o,n,i,s,a,l=1,c={},p=!1,h=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick(function(){f(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},o=function(e){i.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(n=h.documentElement,o=function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):o=function(e){setTimeout(f,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),o=function(t){e.postMessage(s+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return c[l]=n,o(l),l++},u.clearImmediate=d}function d(e){delete c[e]}function f(e){if(p)setTimeout(f,0,e);else{var t=c[e];if(t){p=!0;try{!function(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(r,o)}}(t)}finally{d(e),p=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(22),r(58))},function(e,t,r){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(293),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(22))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var o=r(1),n=r(2),i=r(0),s=r(15),a=s.RenderableView,l=s.RenderableModel,c=r(28).OrbitControls,p=r(18),h=new i.Color("black"),u=a.extend({initialize:function(){a.prototype.initialize.apply(this,arguments),this._resetCameraNeeded=!0,this._rebuildNeeded=!0},render:function(){return this.model.initPromise.bind(this).then(this.doRender)},setupEventListeners:function(){a.prototype.setupEventListeners.call(this);var e=this.model.get("child");this.listenTo(e,"change",this.onChildChanged.bind(this)),e.obj.isObject3D&&this.listenTo(e,"childchange",this.onChildChanged.bind(this))},onChildChanged:function(){this._rebuildNeeded=!0},constructScene:function(){var e,t,r=this.model.get("child").obj;if(this.clearScene(),r.isObject3D)this.debug("render Object3D"),this.scene.add(r.clone());else if(r.isGeometry||r.isBufferGeometry){var o;o=this.model.get("_flat")?new i.MeshPhongMaterial({color:"#ffffff",flatShading:!0}):this.model.get("_wire")||"WireframeGeometry"===r.type?new i.MeshBasicMaterial({color:"#888888",wireframe:!0,flatShading:!0}):new i.MeshLambertMaterial({color:"#ffffff"}),r.isBufferGeometry&&"color"in r.attributes&&(o.vertexColors=i.VertexColors),t=new i.Mesh(r,o),this.scene.add(t)}else if(r.isMaterial)if("SpriteMaterial"===r.type){var n=new i.Sprite(r),s=n.position.distanceTo(this.camera.position),a=r.map.image.width/r.map.image.height;a>=1?n.scale.set(s,s/a,s):n.scale.set(s*a,s,s),this.scene.add(n)}else e=new i.SphereGeometry(15,16,12),t=new i.Mesh(e,r),this.scene.add(t);else if(r.isTexture){e=new i.SphereGeometry(15,16,12);var l=new i.MeshStandardMaterial({map:r});t=new i.Mesh(e,l),this.scene.add(t)}else console.log("Unexpected object in preview, scene will be empty:",r);this._resetCameraNeeded&&(this.resetCamera(),this._resetCameraNeeded=!1),this.scene.add(this.camera),this._rebuildNeeded=!1},resetCamera:function(){var e=p.computeBoundingSphere(this.scene);null===e&&(e=new i.Sphere(new i.Vector3,1)),p.lookAtSphere(this.camera,e.center,e.radius);var t=this.controls[0];t.target.copy(e.center),t.target0.copy(e.center),t.update();var r=2.5*(this.camera.position.z-e.center.z);this.pointLight.position.set(-r,r,r)},clearScene:function(){this.scene.remove.apply(this.scene,this.scene.children.slice())},setupControls:function(){this.debug("setting up controls");var e=new c(this.camera,this.renderer.domElement);e.target.set(0,0,0),e.update(),this.controls=[e]},lazyRendererSetup:function(){this.camera=new i.PerspectiveCamera(60,1),this.updateSize(),this.scene=new i.Scene,this.scene.background=h,this.pointLight=new i.PointLight("#ffffff",.5,0,0),this.ambLight=new i.AmbientLight("#ffffff",.5),this.camera.add(this.ambLight),this.camera.add(this.pointLight),this.setupControls(),this.enableControls(),this.renderScene()},renderScene:function(){this.debug("renderScene"),this.isFrozen&&this.unfreeze(),this.renderer.context.isContextLost()?this.freeze():(this._rebuildNeeded&&this.constructScene(),this.scene.ipymodel&&this.scene.ipymodel.trigger("beforeRender",this.scene,this.renderer,this.camera),this.renderer.render(this.scene,this.camera),this.scene.ipymodel&&this.scene.ipymodel.trigger("afterRender",this.scene,this.renderer,this.camera))},updateSize:function(){if(a.prototype.updateSize.call(this),this.camera){var e=this.model.get("_width"),t=this.model.get("_height");this.camera.aspect=e/t,this.camera.updateProjectionMatrix()}}}),d=l.extend({defaults:function(){return o.extend(l.prototype.defaults.call(this),{_model_name:"PreviewModel",_view_name:"PreviewView",_flat:!1,_wire:!1,child:null})},initialize:function(e,t){l.prototype.initialize.apply(this,arguments),this.initPromise=this.get("child").initPromise.bind(this).then(function(){this.setupListeners()})},setupListeners:function(){var e=this.get("child");this.listenTo(e,"change",this.onChildChanged.bind(this)),this.listenTo(e,"childchange",this.onChildChanged.bind(this))},onChildChanged:function(e,t){this.trigger("rerender",this,{})}},{serializers:o.extend({child:{deserialize:n.unpack_models}},l.serializers)});e.exports={PreviewModel:d,PreviewView:u}},function(e,t,r){var o=[r(296),r(15),r(57),r(4),r(55),r(18)];for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];for(var s in i)i.hasOwnProperty(s)&&(e.exports[s]=i[s])}}])});
//# sourceMappingURL=index.js.map